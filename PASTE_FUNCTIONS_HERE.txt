-- ============================================================================
-- DATABASE FUNCTIONS EXPORT
-- Paste your query results below
-- ============================================================================

-- INSTRUCTIONS:
-- 1. Run the query from export_functions.sql in Supabase
-- 2. Copy ALL the function definitions 
-- 3. Paste them here
-- 4. Upload this file back to me

-- ============================================================================
-- PASTE YOUR RESULTS BELOW THIS LINE
-- ============================================================================
Q1 results in json
[
  {
    "function_name": "_postgis_deprecate",
    "full_definition": "CREATE OR REPLACE FUNCTION public._postgis_deprecate(oldname text, newname text, version text)\n RETURNS void\n LANGUAGE plpgsql\n IMMUTABLE STRICT COST 500\nAS $function$\nDECLARE\n  curver_text text;\nBEGIN\n  --\n  -- Raises a NOTICE if it was deprecated in this version,\n  -- a WARNING if in a previous version (only up to minor version checked)\n  --\n\tcurver_text := '3.3.7';\n\tIF pg_catalog.split_part(curver_text,'.',1)::int > pg_catalog.split_part(version,'.',1)::int OR\n\t   ( pg_catalog.split_part(curver_text,'.',1) = pg_catalog.split_part(version,'.',1) AND\n\t\t pg_catalog.split_part(curver_text,'.',2) != split_part(version,'.',2) )\n\tTHEN\n\t  RAISE WARNING '% signature was deprecated in %. Please use %', oldname, version, newname;\n\tELSE\n\t  RAISE DEBUG '% signature was deprecated in %. Please use %', oldname, version, newname;\n\tEND IF;\nEND;\n$function$\n"
  },
  {
    "function_name": "_postgis_index_extent",
    "full_definition": "CREATE OR REPLACE FUNCTION public._postgis_index_extent(tbl regclass, col text)\n RETURNS box2d\n LANGUAGE c\n STABLE STRICT\nAS '$libdir/postgis-3', $function$_postgis_gserialized_index_extent$function$\n"
  },
  {
    "function_name": "_postgis_join_selectivity",
    "full_definition": "CREATE OR REPLACE FUNCTION public._postgis_join_selectivity(regclass, text, regclass, text, text DEFAULT '2'::text)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$_postgis_gserialized_joinsel$function$\n"
  },
  {
    "function_name": "_postgis_pgsql_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public._postgis_pgsql_version()\n RETURNS text\n LANGUAGE sql\n STABLE\nAS $function$\n\tSELECT CASE WHEN pg_catalog.split_part(s,'.',1)::integer > 9 THEN pg_catalog.split_part(s,'.',1) || '0'\n\tELSE pg_catalog.split_part(s,'.', 1) || pg_catalog.split_part(s,'.', 2) END AS v\n\tFROM pg_catalog.substring(version(), E'PostgreSQL ([0-9\\\\.]+)') AS s;\n$function$\n"
  },
  {
    "function_name": "_postgis_scripts_pgsql_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public._postgis_scripts_pgsql_version()\n RETURNS text\n LANGUAGE sql\n IMMUTABLE\nAS $function$SELECT '170'::text AS version$function$\n"
  },
  {
    "function_name": "_postgis_selectivity",
    "full_definition": "CREATE OR REPLACE FUNCTION public._postgis_selectivity(tbl regclass, att_name text, geom geometry, mode text DEFAULT '2'::text)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$_postgis_gserialized_sel$function$\n"
  },
  {
    "function_name": "_postgis_stats",
    "full_definition": "CREATE OR REPLACE FUNCTION public._postgis_stats(tbl regclass, att_name text, text DEFAULT '2'::text)\n RETURNS text\n LANGUAGE c\n PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$_postgis_gserialized_stats$function$\n"
  },
  {
    "function_name": "_st_3ddfullywithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_3ddfullywithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_dfullywithin3d$function$\n"
  },
  {
    "function_name": "_st_3ddwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_3ddwithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_dwithin3d$function$\n"
  },
  {
    "function_name": "_st_3dintersects",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_3dintersects(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_3DIntersects$function$\n"
  },
  {
    "function_name": "_st_asgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_asgml(integer, geometry, integer, integer, text, text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asGML$function$\n"
  },
  {
    "function_name": "_st_asx3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_asx3d(integer, geometry, integer, integer, text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asX3D$function$\n"
  },
  {
    "function_name": "_st_bestsrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_bestsrid(geography)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$geography_bestsrid$function$\n"
  },
  {
    "function_name": "_st_bestsrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_bestsrid(geography, geography)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$geography_bestsrid$function$\n"
  },
  {
    "function_name": "_st_contains",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_contains(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$contains$function$\n"
  },
  {
    "function_name": "_st_containsproperly",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_containsproperly(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$containsproperly$function$\n"
  },
  {
    "function_name": "_st_coveredby",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_coveredby(geog1 geography, geog2 geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_coveredby$function$\n"
  },
  {
    "function_name": "_st_coveredby",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_coveredby(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$coveredby$function$\n"
  },
  {
    "function_name": "_st_covers",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_covers(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$covers$function$\n"
  },
  {
    "function_name": "_st_covers",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_covers(geog1 geography, geog2 geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_covers$function$\n"
  },
  {
    "function_name": "_st_crosses",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_crosses(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$crosses$function$\n"
  },
  {
    "function_name": "_st_dfullywithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_dfullywithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_dfullywithin$function$\n"
  },
  {
    "function_name": "_st_distancetree",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distancetree(geography, geography)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE STRICT\nAS $function$SELECT public._ST_DistanceTree($1, $2, 0.0, true)$function$\n"
  },
  {
    "function_name": "_st_distancetree",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distancetree(geography, geography, double precision, boolean)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_distance_tree$function$\n"
  },
  {
    "function_name": "_st_distanceuncached",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distanceuncached(geography, geography, boolean)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE STRICT\nAS $function$SELECT public._ST_DistanceUnCached($1, $2, 0.0, $3)$function$\n"
  },
  {
    "function_name": "_st_distanceuncached",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distanceuncached(geography, geography)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE STRICT\nAS $function$SELECT public._ST_DistanceUnCached($1, $2, 0.0, true)$function$\n"
  },
  {
    "function_name": "_st_distanceuncached",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distanceuncached(geography, geography, double precision, boolean)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_distance_uncached$function$\n"
  },
  {
    "function_name": "_st_dwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_dwithin(geog1 geography, geog2 geography, tolerance double precision, use_spheroid boolean DEFAULT true)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_dwithin$function$\n"
  },
  {
    "function_name": "_st_dwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_dwithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_dwithin$function$\n"
  },
  {
    "function_name": "_st_dwithinuncached",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_dwithinuncached(geography, geography, double precision)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE\nAS $function$SELECT $1 OPERATOR(public.&&) public._ST_Expand($2,$3) AND $2 OPERATOR(public.&&) public._ST_Expand($1,$3) AND public._ST_DWithinUnCached($1, $2, $3, true)$function$\n"
  },
  {
    "function_name": "_st_dwithinuncached",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_dwithinuncached(geography, geography, double precision, boolean)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_dwithin_uncached$function$\n"
  },
  {
    "function_name": "_st_equals",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_equals(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Equals$function$\n"
  },
  {
    "function_name": "_st_expand",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_expand(geography, double precision)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$geography_expand$function$\n"
  },
  {
    "function_name": "_st_geomfromgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_geomfromgml(text, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$geom_from_gml$function$\n"
  },
  {
    "function_name": "_st_intersects",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_intersects(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Intersects$function$\n"
  },
  {
    "function_name": "_st_linecrossingdirection",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_linecrossingdirection(line1 geometry, line2 geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_LineCrossingDirection$function$\n"
  },
  {
    "function_name": "_st_longestline",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_longestline(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_longestline2d$function$\n"
  },
  {
    "function_name": "_st_maxdistance",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_maxdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_maxdistance2d_linestring$function$\n"
  },
  {
    "function_name": "_st_orderingequals",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_orderingequals(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_same$function$\n"
  },
  {
    "function_name": "_st_overlaps",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_overlaps(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$overlaps$function$\n"
  },
  {
    "function_name": "_st_pointoutside",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_pointoutside(geography)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE STRICT\nAS '$libdir/postgis-3', $function$geography_point_outside$function$\n"
  },
  {
    "function_name": "_st_sortablehash",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_sortablehash(geom geometry)\n RETURNS bigint\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$_ST_SortableHash$function$\n"
  },
  {
    "function_name": "_st_touches",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_touches(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$touches$function$\n"
  },
  {
    "function_name": "_st_voronoi",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_voronoi(g1 geometry, clip geometry DEFAULT NULL::geometry, tolerance double precision DEFAULT 0.0, return_polygons boolean DEFAULT true)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 10000\nAS '$libdir/postgis-3', $function$ST_Voronoi$function$\n"
  },
  {
    "function_name": "_st_within",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_within(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE\nAS $function$SELECT public._ST_Contains($2,$1)$function$\n"
  },
  {
    "function_name": "addauth",
    "full_definition": "CREATE OR REPLACE FUNCTION public.addauth(text)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\tlockid alias for $1;\n\tokay boolean;\n\tmyrec record;\nBEGIN\n\t-- check to see if table exists\n\t--  if not, CREATE TEMP TABLE mylock (transid xid, lockcode text)\n\tokay := 'f';\n\tFOR myrec IN SELECT * FROM pg_class WHERE relname = 'temp_lock_have_table' LOOP\n\t\tokay := 't';\n\tEND LOOP;\n\tIF (okay <> 't') THEN\n\t\tCREATE TEMP TABLE temp_lock_have_table (transid xid, lockcode text);\n\t\t\t-- this will only work from pgsql7.4 up\n\t\t\t-- ON COMMIT DELETE ROWS;\n\tEND IF;\n\n\t--  INSERT INTO mylock VALUES ( $1)\n--\tEXECUTE 'INSERT INTO temp_lock_have_table VALUES ( '||\n--\t\tquote_literal(getTransactionID()) || ',' ||\n--\t\tquote_literal(lockid) ||')';\n\n\tINSERT INTO temp_lock_have_table VALUES (getTransactionID(), lockid);\n\n\tRETURN true::boolean;\nEND;\n$function$\n"
  },
  {
    "function_name": "addgeometrycolumn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.addgeometrycolumn(catalog_name character varying, schema_name character varying, table_name character varying, column_name character varying, new_srid_in integer, new_type character varying, new_dim integer, use_typmod boolean DEFAULT true)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\trec RECORD;\n\tsr varchar;\n\treal_schema name;\n\tsql text;\n\tnew_srid integer;\n\nBEGIN\n\n\t-- Verify geometry type\n\tIF (postgis_type_name(new_type,new_dim) IS NULL )\n\tTHEN\n\t\tRAISE EXCEPTION 'Invalid type name \"%(%)\" - valid ones are:\n\tPOINT, MULTIPOINT,\n\tLINESTRING, MULTILINESTRING,\n\tPOLYGON, MULTIPOLYGON,\n\tCIRCULARSTRING, COMPOUNDCURVE, MULTICURVE,\n\tCURVEPOLYGON, MULTISURFACE,\n\tGEOMETRY, GEOMETRYCOLLECTION,\n\tPOINTM, MULTIPOINTM,\n\tLINESTRINGM, MULTILINESTRINGM,\n\tPOLYGONM, MULTIPOLYGONM,\n\tCIRCULARSTRINGM, COMPOUNDCURVEM, MULTICURVEM\n\tCURVEPOLYGONM, MULTISURFACEM, TRIANGLE, TRIANGLEM,\n\tPOLYHEDRALSURFACE, POLYHEDRALSURFACEM, TIN, TINM\n\tor GEOMETRYCOLLECTIONM', new_type, new_dim;\n\t\tRETURN 'fail';\n\tEND IF;\n\n\t-- Verify dimension\n\tIF ( (new_dim >4) OR (new_dim <2) ) THEN\n\t\tRAISE EXCEPTION 'invalid dimension';\n\t\tRETURN 'fail';\n\tEND IF;\n\n\tIF ( (new_type LIKE '%M') AND (new_dim!=3) ) THEN\n\t\tRAISE EXCEPTION 'TypeM needs 3 dimensions';\n\t\tRETURN 'fail';\n\tEND IF;\n\n\t-- Verify SRID\n\tIF ( new_srid_in > 0 ) THEN\n\t\tIF new_srid_in > 998999 THEN\n\t\t\tRAISE EXCEPTION 'AddGeometryColumn() - SRID must be <= %', 998999;\n\t\tEND IF;\n\t\tnew_srid := new_srid_in;\n\t\tSELECT SRID INTO sr FROM spatial_ref_sys WHERE SRID = new_srid;\n\t\tIF NOT FOUND THEN\n\t\t\tRAISE EXCEPTION 'AddGeometryColumn() - invalid SRID';\n\t\t\tRETURN 'fail';\n\t\tEND IF;\n\tELSE\n\t\tnew_srid := public.ST_SRID('POINT EMPTY'::public.geometry);\n\t\tIF ( new_srid_in != new_srid ) THEN\n\t\t\tRAISE NOTICE 'SRID value % converted to the officially unknown SRID value %', new_srid_in, new_srid;\n\t\tEND IF;\n\tEND IF;\n\n\t-- Verify schema\n\tIF ( schema_name IS NOT NULL AND schema_name != '' ) THEN\n\t\tsql := 'SELECT nspname FROM pg_namespace ' ||\n\t\t\t'WHERE text(nspname) = ' || quote_literal(schema_name) ||\n\t\t\t'LIMIT 1';\n\t\tRAISE DEBUG '%', sql;\n\t\tEXECUTE sql INTO real_schema;\n\n\t\tIF ( real_schema IS NULL ) THEN\n\t\t\tRAISE EXCEPTION 'Schema % is not a valid schemaname', quote_literal(schema_name);\n\t\t\tRETURN 'fail';\n\t\tEND IF;\n\tEND IF;\n\n\tIF ( real_schema IS NULL ) THEN\n\t\tRAISE DEBUG 'Detecting schema';\n\t\tsql := 'SELECT n.nspname AS schemaname ' ||\n\t\t\t'FROM pg_catalog.pg_class c ' ||\n\t\t\t  'JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace ' ||\n\t\t\t'WHERE c.relkind = ' || quote_literal('r') ||\n\t\t\t' AND n.nspname NOT IN (' || quote_literal('pg_catalog') || ', ' || quote_literal('pg_toast') || ')' ||\n\t\t\t' AND pg_catalog.pg_table_is_visible(c.oid)' ||\n\t\t\t' AND c.relname = ' || quote_literal(table_name);\n\t\tRAISE DEBUG '%', sql;\n\t\tEXECUTE sql INTO real_schema;\n\n\t\tIF ( real_schema IS NULL ) THEN\n\t\t\tRAISE EXCEPTION 'Table % does not occur in the search_path', quote_literal(table_name);\n\t\t\tRETURN 'fail';\n\t\tEND IF;\n\tEND IF;\n\n\t-- Add geometry column to table\n\tIF use_typmod THEN\n\t\t sql := 'ALTER TABLE ' ||\n\t\t\tquote_ident(real_schema) || '.' || quote_ident(table_name)\n\t\t\t|| ' ADD COLUMN ' || quote_ident(column_name) ||\n\t\t\t' geometry(' || public.postgis_type_name(new_type, new_dim) || ', ' || new_srid::text || ')';\n\t\tRAISE DEBUG '%', sql;\n\tELSE\n\t\tsql := 'ALTER TABLE ' ||\n\t\t\tquote_ident(real_schema) || '.' || quote_ident(table_name)\n\t\t\t|| ' ADD COLUMN ' || quote_ident(column_name) ||\n\t\t\t' geometry ';\n\t\tRAISE DEBUG '%', sql;\n\tEND IF;\n\tEXECUTE sql;\n\n\tIF NOT use_typmod THEN\n\t\t-- Add table CHECKs\n\t\tsql := 'ALTER TABLE ' ||\n\t\t\tquote_ident(real_schema) || '.' || quote_ident(table_name)\n\t\t\t|| ' ADD CONSTRAINT '\n\t\t\t|| quote_ident('enforce_srid_' || column_name)\n\t\t\t|| ' CHECK (st_srid(' || quote_ident(column_name) ||\n\t\t\t') = ' || new_srid::text || ')' ;\n\t\tRAISE DEBUG '%', sql;\n\t\tEXECUTE sql;\n\n\t\tsql := 'ALTER TABLE ' ||\n\t\t\tquote_ident(real_schema) || '.' || quote_ident(table_name)\n\t\t\t|| ' ADD CONSTRAINT '\n\t\t\t|| quote_ident('enforce_dims_' || column_name)\n\t\t\t|| ' CHECK (st_ndims(' || quote_ident(column_name) ||\n\t\t\t') = ' || new_dim::text || ')' ;\n\t\tRAISE DEBUG '%', sql;\n\t\tEXECUTE sql;\n\n\t\tIF ( NOT (new_type = 'GEOMETRY')) THEN\n\t\t\tsql := 'ALTER TABLE ' ||\n\t\t\t\tquote_ident(real_schema) || '.' || quote_ident(table_name) || ' ADD CONSTRAINT ' ||\n\t\t\t\tquote_ident('enforce_geotype_' || column_name) ||\n\t\t\t\t' CHECK (GeometryType(' ||\n\t\t\t\tquote_ident(column_name) || ')=' ||\n\t\t\t\tquote_literal(new_type) || ' OR (' ||\n\t\t\t\tquote_ident(column_name) || ') is null)';\n\t\t\tRAISE DEBUG '%', sql;\n\t\t\tEXECUTE sql;\n\t\tEND IF;\n\tEND IF;\n\n\tRETURN\n\t\treal_schema || '.' ||\n\t\ttable_name || '.' || column_name ||\n\t\t' SRID:' || new_srid::text ||\n\t\t' TYPE:' || new_type ||\n\t\t' DIMS:' || new_dim::text || ' ';\nEND;\n$function$\n"
  },
  {
    "function_name": "addgeometrycolumn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.addgeometrycolumn(schema_name character varying, table_name character varying, column_name character varying, new_srid integer, new_type character varying, new_dim integer, use_typmod boolean DEFAULT true)\n RETURNS text\n LANGUAGE plpgsql\n STABLE STRICT\nAS $function$\nDECLARE\n\tret  text;\nBEGIN\n\tSELECT public.AddGeometryColumn('',$1,$2,$3,$4,$5,$6,$7) into ret;\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "addgeometrycolumn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.addgeometrycolumn(table_name character varying, column_name character varying, new_srid integer, new_type character varying, new_dim integer, use_typmod boolean DEFAULT true)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tret  text;\nBEGIN\n\tSELECT public.AddGeometryColumn('','',$1,$2,$3,$4,$5, $6) into ret;\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "analyze_regions_for_tech",
    "full_definition": "CREATE OR REPLACE FUNCTION public.analyze_regions_for_tech(p_tech_id integer, p_month_start date, p_month_end date, p_sow_filter text DEFAULT NULL::text)\n RETURNS TABLE(region_name text, job_count bigint, total_work_hours numeric, distance_from_home numeric, requires_hotel boolean, priority_job_count bigint, recurring_count bigint, avg_days_til_due numeric)\n LANGUAGE plpgsql\nAS $function$BEGIN\r\n    RETURN QUERY\r\n    SELECT \r\n        jp.region,\r\n        COUNT(jp.work_order)::bigint as job_count,\r\n        SUM(COALESCE(jp.duration, 2))::numeric as total_work_hours,\r\n        \r\n        -- Distance from tech home to region center (FIXED COLUMN NAMES)\r\n        (SELECT \r\n            ROUND(\r\n                (3958.8 * acos(\r\n                    cos(radians(t.home_latitude)) * \r\n                    cos(radians(r.center_latitude)) * \r\n                    cos(radians(r.center_longitude) - radians(t.home_longitude)) + \r\n                    sin(radians(t.home_latitude)) * \r\n                    sin(radians(r.center_latitude))\r\n                ))::numeric, 1\r\n            )\r\n         FROM technicians t\r\n         CROSS JOIN regions r\r\n         WHERE t.technician_id = p_tech_id\r\n           AND r.region_name = jp.region\r\n         LIMIT 1\r\n        ) as distance_from_home,\r\n        \r\n        -- Hotel required if distance > 90 miles\r\n        (SELECT \r\n            CASE WHEN \r\n                (3958.8 * acos(\r\n                    cos(radians(t.home_latitude)) * \r\n                    cos(radians(r.center_latitude)) * \r\n                    cos(radians(r.center_longitude) - radians(t.home_longitude)) + \r\n                    sin(radians(t.home_latitude)) * \r\n                    sin(radians(r.center_latitude))\r\n                )) > 90 \r\n            THEN true ELSE false END\r\n         FROM technicians t\r\n         CROSS JOIN regions r\r\n         WHERE t.technician_id = p_tech_id\r\n           AND r.region_name = jp.region\r\n         LIMIT 1\r\n        ) as requires_hotel,\r\n        \r\n        -- Priority job count\r\n        COUNT(CASE \r\n            WHEN jp.jp_priority IN ('NOV', 'Urgent', 'Monthly O&M') \r\n            THEN 1 \r\n        END)::bigint as priority_job_count,\r\n        \r\n        -- Recurring site count\r\n        COUNT(CASE WHEN jp.is_recurring_site THEN 1 END)::bigint as recurring_count,\r\n        \r\n        -- Average days until due\r\n        AVG(jp.days_til_due)::numeric as avg_days_til_due\r\n        \r\n    FROM job_pool jp\r\n    INNER JOIN job_technician_eligibility jte \r\n        ON jp.work_order = jte.work_order\r\n    WHERE jte.technician_id = p_tech_id\r\n      AND jp.due_date BETWEEN p_month_start AND p_month_end\r\n      AND jp.jp_status IN ('Call', 'Waiting to Schedule')\r\n      AND (p_sow_filter IS NULL OR jp.sow_1 = p_sow_filter)\r\n    GROUP BY jp.region\r\n    HAVING COUNT(jp.work_order) > 0\r\n    ORDER BY \r\n        COUNT(CASE WHEN jp.jp_priority IN ('NOV', 'Urgent') THEN 1 END) DESC,\r\n        COUNT(jp.work_order) DESC;\r\nEND;$function$\n"
  },
  {
    "function_name": "assign_regions_to_jobs",
    "full_definition": "CREATE OR REPLACE FUNCTION public.assign_regions_to_jobs()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  updated_count integer;\r\nBEGIN\r\n  -- Update ALL jobs that need regions (be more aggressive)\r\n  UPDATE job_pool\r\n  SET region = (\r\n    SELECT region_name \r\n    FROM regions \r\n    WHERE ST_Contains(\r\n      boundary, \r\n      ST_SetSRID(ST_MakePoint(job_pool.longitude, job_pool.latitude), 4326)\r\n    )\r\n    LIMIT 1\r\n  )\r\n  WHERE longitude IS NOT NULL \r\n    AND latitude IS NOT NULL\r\n    AND (\r\n      region IS NULL \r\n      OR region = '' \r\n      OR region = 'NULL'\r\n      OR region = 'null'  -- Check lowercase too\r\n      OR LENGTH(TRIM(region)) = 0  -- Any empty/whitespace\r\n    );\r\n  \r\n  GET DIAGNOSTICS updated_count = ROW_COUNT;\r\n  RAISE NOTICE 'Assigned regions to % jobs', updated_count;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "box",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box(geometry)\n RETURNS box\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_to_BOX$function$\n"
  },
  {
    "function_name": "box",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box(box3d)\n RETURNS box\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX3D_to_BOX$function$\n"
  },
  {
    "function_name": "box2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box2d(box3d)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX3D_to_BOX2D$function$\n"
  },
  {
    "function_name": "box2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box2d(geometry)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_to_BOX2D$function$\n"
  },
  {
    "function_name": "box2d_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box2d_in(cstring)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX2D_in$function$\n"
  },
  {
    "function_name": "box2d_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box2d_out(box2d)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX2D_out$function$\n"
  },
  {
    "function_name": "box2df_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box2df_in(cstring)\n RETURNS box2df\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$box2df_in$function$\n"
  },
  {
    "function_name": "box2df_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box2df_out(box2df)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$box2df_out$function$\n"
  },
  {
    "function_name": "box3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box3d(box2d)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX2D_to_BOX3D$function$\n"
  },
  {
    "function_name": "box3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box3d(geometry)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_to_BOX3D$function$\n"
  },
  {
    "function_name": "box3d_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box3d_in(cstring)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_in$function$\n"
  },
  {
    "function_name": "box3d_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box3d_out(box3d)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_out$function$\n"
  },
  {
    "function_name": "box3dtobox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.box3dtobox(box3d)\n RETURNS box\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX3D_to_BOX$function$\n"
  },
  {
    "function_name": "bytea",
    "full_definition": "CREATE OR REPLACE FUNCTION public.bytea(geography)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_to_bytea$function$\n"
  },
  {
    "function_name": "bytea",
    "full_definition": "CREATE OR REPLACE FUNCTION public.bytea(geometry)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_to_bytea$function$\n"
  },
  {
    "function_name": "checkauth",
    "full_definition": "CREATE OR REPLACE FUNCTION public.checkauth(text, text)\n RETURNS integer\n LANGUAGE sql\nAS $function$ SELECT CheckAuth('', $1, $2) $function$\n"
  },
  {
    "function_name": "checkauth",
    "full_definition": "CREATE OR REPLACE FUNCTION public.checkauth(text, text, text)\n RETURNS integer\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\tschema text;\nBEGIN\n\tIF NOT LongTransactionsEnabled() THEN\n\t\tRAISE EXCEPTION 'Long transaction support disabled, use EnableLongTransaction() to enable.';\n\tEND IF;\n\n\tif ( $1 != '' ) THEN\n\t\tschema = $1;\n\tELSE\n\t\tSELECT current_schema() into schema;\n\tEND IF;\n\n\t-- TODO: check for an already existing trigger ?\n\n\tEXECUTE 'CREATE TRIGGER check_auth BEFORE UPDATE OR DELETE ON '\n\t\t|| quote_ident(schema) || '.' || quote_ident($2)\n\t\t||' FOR EACH ROW EXECUTE PROCEDURE CheckAuthTrigger('\n\t\t|| quote_literal($3) || ')';\n\n\tRETURN 0;\nEND;\n$function$\n"
  },
  {
    "function_name": "checkauthtrigger",
    "full_definition": "CREATE OR REPLACE FUNCTION public.checkauthtrigger()\n RETURNS trigger\n LANGUAGE c\nAS '$libdir/postgis-3', $function$check_authorization$function$\n"
  },
  {
    "function_name": "cluster_jobs",
    "full_definition": "CREATE OR REPLACE FUNCTION public.cluster_jobs(p_horizon_days integer DEFAULT 30, p_target_hours double precision DEFAULT 45)\n RETURNS TABLE(cluster_id integer, work_order bigint, site_name text, site_city text, sow_1 text, duration double precision, days_til_due integer, region text, zone_3 text)\n LANGUAGE plpgsql\nAS $function$\ndeclare\n  rec            record;\n  v_cluster      integer := 1;\n  v_accum_hours  double precision := 0;\nbegin\n  for rec in\n    select\n      jp.work_order      as jp_work_order,\n      jp.site_name       as jp_site_name,\n      jp.site_city       as jp_site_city,\n      jp.sow_1           as jp_sow_1,\n      jp.duration        as jp_duration,\n      (jp.due_date - current_date)::int   as jp_days_til_due,\n      jp.region          as jp_region,\n      jp.zone_3          as jp_zone_3\n    from public.job_pool jp\n    where jp.status = 'unscheduled'\n      and jp.due_date between current_date\n                          and current_date + p_horizon_days\n    order by jp_days_til_due, jp.region, jp.zone_3\n  loop\n    if v_accum_hours + rec.jp_duration > p_target_hours then\n      v_cluster     := v_cluster + 1;\n      v_accum_hours := 0;\n    end if;\n\n    v_accum_hours := v_accum_hours + rec.jp_duration;\n\n    cluster_id     := v_cluster;\n    work_order     := rec.jp_work_order;\n    site_name      := rec.jp_site_name;\n    site_city      := rec.jp_site_city;\n    sow_1          := rec.jp_sow_1;\n    duration       := rec.jp_duration;\n    days_til_due   := rec.jp_days_til_due;\n    region         := rec.jp_region;\n    zone_3         := rec.jp_zone_3;\n    return next;\n  end loop;\nend;\n$function$\n"
  },
  {
    "function_name": "contains_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.contains_2d(geometry, box2df)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 1\nAS $function$SELECT $2 OPERATOR(public.@) $1;$function$\n"
  },
  {
    "function_name": "contains_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.contains_2d(box2df, box2df)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contains_box2df_box2df_2d$function$\n"
  },
  {
    "function_name": "contains_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.contains_2d(box2df, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contains_box2df_geom_2d$function$\n"
  },
  {
    "function_name": "copy_job_coordinates",
    "full_definition": "CREATE OR REPLACE FUNCTION public.copy_job_coordinates()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    -- Copy coordinates from job_pool\r\n    SELECT latitude, longitude \r\n    INTO NEW.latitude, NEW.longitude\r\n    FROM job_pool\r\n    WHERE work_order = NEW.work_order;\r\n    \r\n    RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "disablelongtransactions",
    "full_definition": "CREATE OR REPLACE FUNCTION public.disablelongtransactions()\n RETURNS text\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\trec RECORD;\n\nBEGIN\n\n\t--\n\t-- Drop all triggers applied by CheckAuth()\n\t--\n\tFOR rec IN\n\t\tSELECT c.relname, t.tgname, t.tgargs FROM pg_trigger t, pg_class c, pg_proc p\n\t\tWHERE p.proname = 'checkauthtrigger' and t.tgfoid = p.oid and t.tgrelid = c.oid\n\tLOOP\n\t\tEXECUTE 'DROP TRIGGER ' || quote_ident(rec.tgname) ||\n\t\t\t' ON ' || quote_ident(rec.relname);\n\tEND LOOP;\n\n\t--\n\t-- Drop the authorization_table table\n\t--\n\tFOR rec IN SELECT * FROM pg_class WHERE relname = 'authorization_table' LOOP\n\t\tDROP TABLE authorization_table;\n\tEND LOOP;\n\n\t--\n\t-- Drop the authorized_tables view\n\t--\n\tFOR rec IN SELECT * FROM pg_class WHERE relname = 'authorized_tables' LOOP\n\t\tDROP VIEW authorized_tables;\n\tEND LOOP;\n\n\tRETURN 'Long transactions support disabled';\nEND;\n$function$\n"
  },
  {
    "function_name": "dropgeometrycolumn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.dropgeometrycolumn(table_name character varying, column_name character varying)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tret text;\nBEGIN\n\tSELECT public.DropGeometryColumn('','',$1,$2) into ret;\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "dropgeometrycolumn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.dropgeometrycolumn(catalog_name character varying, schema_name character varying, table_name character varying, column_name character varying)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tmyrec RECORD;\n\tokay boolean;\n\treal_schema name;\n\nBEGIN\n\n\t-- Find, check or fix schema_name\n\tIF ( schema_name != '' ) THEN\n\t\tokay = false;\n\n\t\tFOR myrec IN SELECT nspname FROM pg_namespace WHERE text(nspname) = schema_name LOOP\n\t\t\tokay := true;\n\t\tEND LOOP;\n\n\t\tIF ( okay <>  true ) THEN\n\t\t\tRAISE NOTICE 'Invalid schema name - using current_schema()';\n\t\t\tSELECT current_schema() into real_schema;\n\t\tELSE\n\t\t\treal_schema = schema_name;\n\t\tEND IF;\n\tELSE\n\t\tSELECT current_schema() into real_schema;\n\tEND IF;\n\n\t-- Find out if the column is in the geometry_columns table\n\tokay = false;\n\tFOR myrec IN SELECT * from public.geometry_columns where f_table_schema = text(real_schema) and f_table_name = table_name and f_geometry_column = column_name LOOP\n\t\tokay := true;\n\tEND LOOP;\n\tIF (okay <> true) THEN\n\t\tRAISE EXCEPTION 'column not found in geometry_columns table';\n\t\tRETURN false;\n\tEND IF;\n\n\t-- Remove table column\n\tEXECUTE 'ALTER TABLE ' || quote_ident(real_schema) || '.' ||\n\t\tquote_ident(table_name) || ' DROP COLUMN ' ||\n\t\tquote_ident(column_name);\n\n\tRETURN real_schema || '.' || table_name || '.' || column_name ||' effectively removed.';\n\nEND;\n$function$\n"
  },
  {
    "function_name": "dropgeometrycolumn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.dropgeometrycolumn(schema_name character varying, table_name character varying, column_name character varying)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tret text;\nBEGIN\n\tSELECT public.DropGeometryColumn('',$1,$2,$3) into ret;\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "dropgeometrytable",
    "full_definition": "CREATE OR REPLACE FUNCTION public.dropgeometrytable(catalog_name character varying, schema_name character varying, table_name character varying)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\treal_schema name;\n\nBEGIN\n\n\tIF ( schema_name = '' ) THEN\n\t\tSELECT current_schema() into real_schema;\n\tELSE\n\t\treal_schema = schema_name;\n\tEND IF;\n\n\t-- TODO: Should we warn if table doesn't exist probably instead just saying dropped\n\t-- Remove table\n\tEXECUTE 'DROP TABLE IF EXISTS '\n\t\t|| quote_ident(real_schema) || '.' ||\n\t\tquote_ident(table_name) || ' RESTRICT';\n\n\tRETURN\n\t\treal_schema || '.' ||\n\t\ttable_name ||' dropped.';\n\nEND;\n$function$\n"
  },
  {
    "function_name": "dropgeometrytable",
    "full_definition": "CREATE OR REPLACE FUNCTION public.dropgeometrytable(table_name character varying)\n RETURNS text\n LANGUAGE sql\n STRICT\nAS $function$ SELECT public.DropGeometryTable('','',$1) $function$\n"
  },
  {
    "function_name": "dropgeometrytable",
    "full_definition": "CREATE OR REPLACE FUNCTION public.dropgeometrytable(schema_name character varying, table_name character varying)\n RETURNS text\n LANGUAGE sql\n STRICT\nAS $function$ SELECT public.DropGeometryTable('',$1,$2) $function$\n"
  },
  {
    "function_name": "enablelongtransactions",
    "full_definition": "CREATE OR REPLACE FUNCTION public.enablelongtransactions()\n RETURNS text\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\t\"query\" text;\n\texists bool;\n\trec RECORD;\n\nBEGIN\n\n\texists = 'f';\n\tFOR rec IN SELECT * FROM pg_class WHERE relname = 'authorization_table'\n\tLOOP\n\t\texists = 't';\n\tEND LOOP;\n\n\tIF NOT exists\n\tTHEN\n\t\t\"query\" = 'CREATE TABLE authorization_table (\n\t\t\ttoid oid, -- table oid\n\t\t\trid text, -- row id\n\t\t\texpires timestamp,\n\t\t\tauthid text\n\t\t)';\n\t\tEXECUTE \"query\";\n\tEND IF;\n\n\texists = 'f';\n\tFOR rec IN SELECT * FROM pg_class WHERE relname = 'authorized_tables'\n\tLOOP\n\t\texists = 't';\n\tEND LOOP;\n\n\tIF NOT exists THEN\n\t\t\"query\" = 'CREATE VIEW authorized_tables AS ' ||\n\t\t\t'SELECT ' ||\n\t\t\t'n.nspname as schema, ' ||\n\t\t\t'c.relname as table, trim(' ||\n\t\t\tquote_literal(chr(92) || '000') ||\n\t\t\t' from t.tgargs) as id_column ' ||\n\t\t\t'FROM pg_trigger t, pg_class c, pg_proc p ' ||\n\t\t\t', pg_namespace n ' ||\n\t\t\t'WHERE p.proname = ' || quote_literal('checkauthtrigger') ||\n\t\t\t' AND c.relnamespace = n.oid' ||\n\t\t\t' AND t.tgfoid = p.oid and t.tgrelid = c.oid';\n\t\tEXECUTE \"query\";\n\tEND IF;\n\n\tRETURN 'Long transactions support enabled';\nEND;\n$function$\n"
  },
  {
    "function_name": "equals",
    "full_definition": "CREATE OR REPLACE FUNCTION public.equals(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_Equals$function$\n"
  },
  {
    "function_name": "find_jobs_along_route",
    "full_definition": "CREATE OR REPLACE FUNCTION public.find_jobs_along_route(start_lat double precision, start_lon double precision, end_lat double precision, end_lon double precision, corridor_miles double precision DEFAULT 10, max_results integer DEFAULT 20)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, sow_1 text, distance_from_route_miles double precision, due_date date, jp_priority text)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  RETURN QUERY\r\n  WITH route_line AS (\r\n    SELECT ST_MakeLine(\r\n      ST_SetSRID(ST_MakePoint(start_lon, start_lat), 4326),\r\n      ST_SetSRID(ST_MakePoint(end_lon, end_lat), 4326)\r\n    )::geography AS line\r\n  )\r\n  SELECT \r\n    j.work_order,\r\n    j.site_name,\r\n    j.site_city,\r\n    j.sow_1,\r\n    (ST_Distance(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      r.line\r\n    ) / 1609.34)::double precision AS distance_from_route_miles,\r\n    j.due_date,\r\n    j.jp_priority\r\n  FROM job_pool j, route_line r\r\n  WHERE \r\n    j.jp_status NOT IN ('Scheduled', 'Completed', 'Cancelled')\r\n    AND ST_DWithin(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      r.line,\r\n      corridor_miles * 1609.34\r\n    )\r\n  ORDER BY distance_from_route_miles\r\n  LIMIT max_results;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "find_nearby_jobs",
    "full_definition": "CREATE OR REPLACE FUNCTION public.find_nearby_jobs(center_lat double precision, center_lon double precision, radius_miles double precision DEFAULT 25, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, region text, sow_1 text, distance_miles double precision, due_date date, days_til_due bigint, tech_count bigint)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  RETURN QUERY\r\n  SELECT \r\n    j.work_order,\r\n    j.site_name,\r\n    j.site_city,\r\n    j.region,\r\n    j.sow_1,\r\n    (ST_Distance(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(center_lon, center_lat), 4326)::geography\r\n    ) / 1609.34)::double precision AS distance_miles,\r\n    j.due_date,\r\n    j.days_til_due,\r\n    j.tech_count\r\n  FROM job_pool j\r\n  WHERE \r\n    j.jp_status NOT IN ('Scheduled', 'Completed', 'Cancelled')\r\n    AND (filter_region IS NULL OR j.region = filter_region)\r\n    AND ST_DWithin(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(center_lon, center_lat), 4326)::geography,\r\n      radius_miles * 1609.34\r\n    )\r\n  ORDER BY distance_miles\r\n  LIMIT max_results;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "find_nearby_jobs_for_schedule",
    "full_definition": "CREATE OR REPLACE FUNCTION public.find_nearby_jobs_for_schedule(tech_lat double precision, tech_lon double precision, schedule_date date, radius_miles double precision DEFAULT 50, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, region text, sow text, distance_miles double precision, due_date date, days_til_due integer, priority text, status text, combined_work_orders text)\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  week_start date;\r\n  week_end date;\r\n  month_end date;\r\n  use_pull_forward boolean;\r\nBEGIN\r\n  -- Calculate week boundaries\r\n  week_start := schedule_date - EXTRACT(DOW FROM schedule_date)::integer;\r\n  week_end := week_start + 4; -- Friday\r\n  month_end := DATE_TRUNC('month', schedule_date) + INTERVAL '1 month - 1 day';\r\n  \r\n  -- Use pull forward if in last 2 weeks of month\r\n  use_pull_forward := (month_end - week_start) <= 14;\r\n  \r\n  RETURN QUERY\r\n  WITH eligible AS (\r\n    SELECT * FROM get_jobs_for_scheduling(week_start, week_end, use_pull_forward)\r\n  )\r\n  SELECT \r\n    e.out_work_order,\r\n    e.out_site_name,\r\n    e.out_site_city,\r\n    e.out_region,\r\n    e.out_sow_1,\r\n    (ST_Distance(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(tech_lon, tech_lat), 4326)::geography\r\n    ) / 1609.34)::double precision AS distance_miles,\r\n    e.out_due_date,\r\n    e.out_days_til_due,\r\n    e.out_jp_priority,\r\n    e.out_jp_status,\r\n    e.out_combined_work_orders\r\n  FROM eligible e\r\n  JOIN job_pool j ON e.out_work_order = j.work_order\r\n  WHERE \r\n    (filter_region IS NULL OR e.out_region = filter_region)\r\n    AND ST_DWithin(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(tech_lon, tech_lat), 4326)::geography,\r\n      radius_miles * 1609.34\r\n    )\r\n  ORDER BY e.out_priority_rank, distance_miles\r\n  LIMIT max_results;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "find_srid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.find_srid(character varying, character varying, character varying)\n RETURNS integer\n LANGUAGE plpgsql\n STABLE PARALLEL SAFE STRICT\nAS $function$\nDECLARE\n\tschem varchar =  $1;\n\ttabl varchar = $2;\n\tsr int4;\nBEGIN\n-- if the table contains a . and the schema is empty\n-- split the table into a schema and a table\n-- otherwise drop through to default behavior\n\tIF ( schem = '' and strpos(tabl,'.') > 0 ) THEN\n\t schem = substr(tabl,1,strpos(tabl,'.')-1);\n\t tabl = substr(tabl,length(schem)+2);\n\tEND IF;\n\n\tselect SRID into sr from public.geometry_columns where (f_table_schema = schem or schem = '') and f_table_name = tabl and f_geometry_column = $3;\n\tIF NOT FOUND THEN\n\t   RAISE EXCEPTION 'find_srid() - could not find the corresponding SRID - is the geometry registered in the GEOMETRY_COLUMNS table?  Is there an uppercase/lowercase mismatch?';\n\tEND IF;\n\treturn sr;\nEND;\n$function$\n"
  },
  {
    "function_name": "geog_brin_inclusion_add_value",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geog_brin_inclusion_add_value(internal, internal, internal, internal)\n RETURNS boolean\n LANGUAGE c\nAS '$libdir/postgis-3', $function$geog_brin_inclusion_add_value$function$\n"
  },
  {
    "function_name": "geography",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography(geometry)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_from_geometry$function$\n"
  },
  {
    "function_name": "geography",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography(bytea)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_from_binary$function$\n"
  },
  {
    "function_name": "geography",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography(geography, integer, boolean)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_enforce_typmod$function$\n"
  },
  {
    "function_name": "geography_analyze",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_analyze(internal)\n RETURNS boolean\n LANGUAGE c\n STRICT\nAS '$libdir/postgis-3', $function$gserialized_analyze_nd$function$\n"
  },
  {
    "function_name": "geography_cmp",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_cmp(geography, geography)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_cmp$function$\n"
  },
  {
    "function_name": "geography_distance_knn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_distance_knn(geography, geography)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 100\nAS '$libdir/postgis-3', $function$geography_distance_knn$function$\n"
  },
  {
    "function_name": "geography_eq",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_eq(geography, geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_eq$function$\n"
  },
  {
    "function_name": "geography_ge",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_ge(geography, geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_ge$function$\n"
  },
  {
    "function_name": "geography_gist_compress",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_compress(internal)\n RETURNS internal\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_compress$function$\n"
  },
  {
    "function_name": "geography_gist_consistent",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_consistent(internal, geography, integer)\n RETURNS boolean\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_consistent$function$\n"
  },
  {
    "function_name": "geography_gist_decompress",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_decompress(internal)\n RETURNS internal\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_decompress$function$\n"
  },
  {
    "function_name": "geography_gist_distance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_distance(internal, geography, integer)\n RETURNS double precision\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_geog_distance$function$\n"
  },
  {
    "function_name": "geography_gist_penalty",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_penalty(internal, internal, internal)\n RETURNS internal\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_penalty$function$\n"
  },
  {
    "function_name": "geography_gist_picksplit",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_picksplit(internal, internal)\n RETURNS internal\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_picksplit$function$\n"
  },
  {
    "function_name": "geography_gist_same",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_same(box2d, box2d, internal)\n RETURNS internal\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_same$function$\n"
  },
  {
    "function_name": "geography_gist_union",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_union(bytea, internal)\n RETURNS internal\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_union$function$\n"
  },
  {
    "function_name": "geography_gt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gt(geography, geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_gt$function$\n"
  },
  {
    "function_name": "geography_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_in(cstring, oid, integer)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_in$function$\n"
  },
  {
    "function_name": "geography_le",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_le(geography, geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_le$function$\n"
  },
  {
    "function_name": "geography_lt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_lt(geography, geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_lt$function$\n"
  },
  {
    "function_name": "geography_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_out(geography)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_out$function$\n"
  },
  {
    "function_name": "geography_overlaps",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_overlaps(geography, geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overlaps$function$\n"
  },
  {
    "function_name": "geography_recv",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_recv(internal, oid, integer)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_recv$function$\n"
  },
  {
    "function_name": "geography_send",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_send(geography)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_send$function$\n"
  },
  {
    "function_name": "geography_spgist_choose_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_spgist_choose_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_choose_nd$function$\n"
  },
  {
    "function_name": "geography_spgist_compress_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_spgist_compress_nd(internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_compress_nd$function$\n"
  },
  {
    "function_name": "geography_spgist_config_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_spgist_config_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_config_nd$function$\n"
  },
  {
    "function_name": "geography_spgist_inner_consistent_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_spgist_inner_consistent_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_inner_consistent_nd$function$\n"
  },
  {
    "function_name": "geography_spgist_leaf_consistent_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_spgist_leaf_consistent_nd(internal, internal)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_leaf_consistent_nd$function$\n"
  },
  {
    "function_name": "geography_spgist_picksplit_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_spgist_picksplit_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_picksplit_nd$function$\n"
  },
  {
    "function_name": "geography_typmod_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_typmod_in(cstring[])\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geography_typmod_in$function$\n"
  },
  {
    "function_name": "geography_typmod_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_typmod_out(integer)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$postgis_typmod_out$function$\n"
  },
  {
    "function_name": "geom2d_brin_inclusion_add_value",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geom2d_brin_inclusion_add_value(internal, internal, internal, internal)\n RETURNS boolean\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$geom2d_brin_inclusion_add_value$function$\n"
  },
  {
    "function_name": "geom3d_brin_inclusion_add_value",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geom3d_brin_inclusion_add_value(internal, internal, internal, internal)\n RETURNS boolean\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$geom3d_brin_inclusion_add_value$function$\n"
  },
  {
    "function_name": "geom4d_brin_inclusion_add_value",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geom4d_brin_inclusion_add_value(internal, internal, internal, internal)\n RETURNS boolean\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$geom4d_brin_inclusion_add_value$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(box3d)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX3D_to_LWGEOM$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(point)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$point_to_geometry$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(geometry, integer, boolean)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geometry_enforce_typmod$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$parse_WKT_lwgeom$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(bytea)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_from_bytea$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(box2d)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX2D_to_LWGEOM$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(path)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$path_to_geometry$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(polygon)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$polygon_to_geometry$function$\n"
  },
  {
    "function_name": "geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry(geography)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geometry_from_geography$function$\n"
  },
  {
    "function_name": "geometry_above",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_above(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_above_2d$function$\n"
  },
  {
    "function_name": "geometry_analyze",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_analyze(internal)\n RETURNS boolean\n LANGUAGE c\n STRICT\nAS '$libdir/postgis-3', $function$gserialized_analyze_nd$function$\n"
  },
  {
    "function_name": "geometry_below",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_below(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_below_2d$function$\n"
  },
  {
    "function_name": "geometry_cmp",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_cmp(geom1 geometry, geom2 geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_cmp$function$\n"
  },
  {
    "function_name": "geometry_contained_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_contained_3d(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contained_3d$function$\n"
  },
  {
    "function_name": "geometry_contains",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_contains(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contains_2d$function$\n"
  },
  {
    "function_name": "geometry_contains_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_contains_3d(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contains_3d$function$\n"
  },
  {
    "function_name": "geometry_contains_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_contains_nd(geometry, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contains$function$\n"
  },
  {
    "function_name": "geometry_distance_box",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_box(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_distance_box_2d$function$\n"
  },
  {
    "function_name": "geometry_distance_centroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_centroid(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_Distance$function$\n"
  },
  {
    "function_name": "geometry_distance_centroid_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_centroid_nd(geometry, geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_distance_nd$function$\n"
  },
  {
    "function_name": "geometry_distance_cpa",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_cpa(geometry, geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_DistanceCPA$function$\n"
  },
  {
    "function_name": "geometry_eq",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_eq(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_eq$function$\n"
  },
  {
    "function_name": "geometry_ge",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_ge(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_ge$function$\n"
  },
  {
    "function_name": "geometry_gist_compress_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_compress_2d(internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_compress_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_compress_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_compress_nd(internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_compress$function$\n"
  },
  {
    "function_name": "geometry_gist_consistent_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_consistent_2d(internal, geometry, integer)\n RETURNS boolean\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_consistent_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_consistent_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_consistent_nd(internal, geometry, integer)\n RETURNS boolean\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_consistent$function$\n"
  },
  {
    "function_name": "geometry_gist_decompress_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_decompress_2d(internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_decompress_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_decompress_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_decompress_nd(internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_decompress$function$\n"
  },
  {
    "function_name": "geometry_gist_distance_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_distance_2d(internal, geometry, integer)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_distance_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_distance_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_distance_nd(internal, geometry, integer)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_distance$function$\n"
  },
  {
    "function_name": "geometry_gist_penalty_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_penalty_2d(internal, internal, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_penalty_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_penalty_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_penalty_nd(internal, internal, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_penalty$function$\n"
  },
  {
    "function_name": "geometry_gist_picksplit_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_picksplit_2d(internal, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_picksplit_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_picksplit_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_picksplit_nd(internal, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_picksplit$function$\n"
  },
  {
    "function_name": "geometry_gist_same_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_same_2d(geom1 geometry, geom2 geometry, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_same_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_same_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_same_nd(geometry, geometry, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_same$function$\n"
  },
  {
    "function_name": "geometry_gist_sortsupport_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_sortsupport_2d(internal)\n RETURNS void\n LANGUAGE c\n STRICT\nAS '$libdir/postgis-3', $function$gserialized_gist_sortsupport_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_union_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_union_2d(bytea, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_union_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_union_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_union_nd(bytea, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_union$function$\n"
  },
  {
    "function_name": "geometry_gt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gt(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_gt$function$\n"
  },
  {
    "function_name": "geometry_hash",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_hash(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_hash$function$\n"
  },
  {
    "function_name": "geometry_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_in(cstring)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_in$function$\n"
  },
  {
    "function_name": "geometry_le",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_le(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_le$function$\n"
  },
  {
    "function_name": "geometry_left",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_left(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_left_2d$function$\n"
  },
  {
    "function_name": "geometry_lt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_lt(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_lt$function$\n"
  },
  {
    "function_name": "geometry_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_out(geometry)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_out$function$\n"
  },
  {
    "function_name": "geometry_overabove",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_overabove(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overabove_2d$function$\n"
  },
  {
    "function_name": "geometry_overbelow",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_overbelow(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overbelow_2d$function$\n"
  },
  {
    "function_name": "geometry_overlaps",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_overlaps(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overlaps_2d$function$\n"
  },
  {
    "function_name": "geometry_overlaps_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_overlaps_3d(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overlaps_3d$function$\n"
  },
  {
    "function_name": "geometry_overlaps_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_overlaps_nd(geometry, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overlaps$function$\n"
  },
  {
    "function_name": "geometry_overleft",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_overleft(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overleft_2d$function$\n"
  },
  {
    "function_name": "geometry_overright",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_overright(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overright_2d$function$\n"
  },
  {
    "function_name": "geometry_recv",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_recv(internal)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_recv$function$\n"
  },
  {
    "function_name": "geometry_right",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_right(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_right_2d$function$\n"
  },
  {
    "function_name": "geometry_same",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_same(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_same_2d$function$\n"
  },
  {
    "function_name": "geometry_same_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_same_3d(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_same_3d$function$\n"
  },
  {
    "function_name": "geometry_same_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_same_nd(geometry, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_same$function$\n"
  },
  {
    "function_name": "geometry_send",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_send(geometry)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_send$function$\n"
  },
  {
    "function_name": "geometry_sortsupport",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_sortsupport(internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$lwgeom_sortsupport$function$\n"
  },
  {
    "function_name": "geometry_spgist_choose_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_choose_2d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_choose_2d$function$\n"
  },
  {
    "function_name": "geometry_spgist_choose_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_choose_3d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_choose_3d$function$\n"
  },
  {
    "function_name": "geometry_spgist_choose_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_choose_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_choose_nd$function$\n"
  },
  {
    "function_name": "geometry_spgist_compress_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_compress_2d(internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_compress_2d$function$\n"
  },
  {
    "function_name": "geometry_spgist_compress_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_compress_3d(internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_compress_3d$function$\n"
  },
  {
    "function_name": "geometry_spgist_compress_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_compress_nd(internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_compress_nd$function$\n"
  },
  {
    "function_name": "geometry_spgist_config_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_config_2d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_config_2d$function$\n"
  },
  {
    "function_name": "geometry_spgist_config_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_config_3d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_config_3d$function$\n"
  },
  {
    "function_name": "geometry_spgist_config_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_config_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_config_nd$function$\n"
  },
  {
    "function_name": "geometry_spgist_inner_consistent_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_inner_consistent_2d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_inner_consistent_2d$function$\n"
  },
  {
    "function_name": "geometry_spgist_inner_consistent_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_inner_consistent_3d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_inner_consistent_3d$function$\n"
  },
  {
    "function_name": "geometry_spgist_inner_consistent_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_inner_consistent_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_inner_consistent_nd$function$\n"
  },
  {
    "function_name": "geometry_spgist_leaf_consistent_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_leaf_consistent_2d(internal, internal)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_leaf_consistent_2d$function$\n"
  },
  {
    "function_name": "geometry_spgist_leaf_consistent_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_leaf_consistent_3d(internal, internal)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_leaf_consistent_3d$function$\n"
  },
  {
    "function_name": "geometry_spgist_leaf_consistent_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_leaf_consistent_nd(internal, internal)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_leaf_consistent_nd$function$\n"
  },
  {
    "function_name": "geometry_spgist_picksplit_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_picksplit_2d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_picksplit_2d$function$\n"
  },
  {
    "function_name": "geometry_spgist_picksplit_3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_picksplit_3d(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_picksplit_3d$function$\n"
  },
  {
    "function_name": "geometry_spgist_picksplit_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_spgist_picksplit_nd(internal, internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_spgist_picksplit_nd$function$\n"
  },
  {
    "function_name": "geometry_typmod_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_typmod_in(cstring[])\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geometry_typmod_in$function$\n"
  },
  {
    "function_name": "geometry_typmod_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_typmod_out(integer)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$postgis_typmod_out$function$\n"
  },
  {
    "function_name": "geometry_within",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_within(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_within_2d$function$\n"
  },
  {
    "function_name": "geometry_within_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_within_nd(geometry, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_within$function$\n"
  },
  {
    "function_name": "geometrytype",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometrytype(geography)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_getTYPE$function$\n"
  },
  {
    "function_name": "geometrytype",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometrytype(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_getTYPE$function$\n"
  },
  {
    "function_name": "geomfromewkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geomfromewkb(bytea)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOMFromEWKB$function$\n"
  },
  {
    "function_name": "geomfromewkt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geomfromewkt(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$parse_WKT_lwgeom$function$\n"
  },
  {
    "function_name": "get_adjacent_regions",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_adjacent_regions(p_region_name text, p_max_distance_miles numeric DEFAULT 100)\n RETURNS TABLE(adjacent_region text, distance_miles numeric)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    RETURN QUERY\r\n    WITH base_region AS (\r\n        SELECT boundary\r\n        FROM regions\r\n        WHERE region_name = p_region_name\r\n    )\r\n    SELECT \r\n        r.region_name AS adjacent_region,\r\n        (ST_Distance(\r\n            br.boundary::geography,\r\n            r.boundary::geography\r\n        ) / 1609.34)::NUMERIC AS distance_miles\r\n    FROM regions r\r\n    CROSS JOIN base_region br\r\n    WHERE r.region_name != p_region_name\r\n    AND r.boundary IS NOT NULL\r\n    AND br.boundary IS NOT NULL\r\n    AND ST_Distance(\r\n        br.boundary::geography,\r\n        r.boundary::geography\r\n    ) / 1609.34 <= p_max_distance_miles\r\n    ORDER BY distance_miles ASC\r\n    LIMIT 5;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "get_all_jobs_in_region",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_all_jobs_in_region(p_tech_id bigint, p_region_name text, p_month_start date, p_month_end date, p_sow_filter text DEFAULT NULL::text)\n RETURNS TABLE(work_order bigint, site_id bigint, site_name text, site_city text, latitude double precision, longitude double precision, sow_1 text, due_date date, jp_priority text, duration double precision, is_recurring_site boolean, is_night boolean, night_test boolean, days_til_due bigint, priority_rank bigint, distance_from_tech_home double precision)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    RETURN QUERY\r\n    SELECT \r\n        jp.work_order,\r\n        jp.site_id,\r\n        jp.site_name,\r\n        jp.site_city,\r\n        jp.latitude,\r\n        jp.longitude,\r\n        jp.sow_1,\r\n        jp.due_date,\r\n        jp.jp_priority,\r\n        COALESCE(jp.duration, 2)::double precision,\r\n        COALESCE(jp.is_recurring_site, false),\r\n        false,\r\n        COALESCE(jp.night_test, false),\r\n        jp.days_til_due,\r\n        \r\n        (CASE \r\n            WHEN jp.jp_priority = 'NOV' THEN 1\r\n            WHEN jp.jp_priority = 'Urgent' THEN 1\r\n            WHEN jp.jp_priority = 'Monthly O&M' THEN 2\r\n            WHEN jp.is_recurring_site THEN 2\r\n            WHEN jp.days_til_due <= 7 THEN 3\r\n            WHEN jp.days_til_due <= 14 THEN 4\r\n            ELSE 5\r\n        END)::bigint,  -- Cast to bigint\r\n        \r\n        (SELECT \r\n            ROUND(\r\n                CAST(\r\n                    (3958.8 * acos(\r\n                        cos(radians(t.home_latitude)) * \r\n                        cos(radians(jp.latitude)) * \r\n                        cos(radians(jp.longitude) - radians(t.home_longitude)) + \r\n                        sin(radians(t.home_latitude)) * \r\n                        sin(radians(jp.latitude))\r\n                    )) AS numeric\r\n                ), 1\r\n            )::double precision\r\n         FROM technicians t\r\n         WHERE t.technician_id = p_tech_id\r\n        )\r\n        \r\n    FROM job_pool jp\r\n    INNER JOIN job_technician_eligibility jte \r\n        ON jp.work_order = jte.work_order\r\n    WHERE jte.technician_id = p_tech_id\r\n      AND jp.region = p_region_name\r\n      AND jp.due_date BETWEEN p_month_start AND p_month_end\r\n      AND jp.jp_status IN ('Call', 'Waiting to Schedule')\r\n      AND (p_sow_filter IS NULL OR jp.sow_1 = p_sow_filter)\r\n    ORDER BY \r\n        15 DESC,  -- priority_rank\r\n        14 ASC,   -- days_til_due\r\n        16 ASC;   -- distance_from_tech_home\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "get_jobs_for_scheduling",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_jobs_for_scheduling(schedule_start date, schedule_end date, include_pull_forward boolean DEFAULT false)\n RETURNS TABLE(out_work_order bigint, out_site_id bigint, out_site_name text, out_site_city text, out_site_state text, out_region text, out_sow_1 text, out_due_date date, out_jp_priority text, out_jp_status text, out_days_til_due integer, out_priority_rank integer, out_combined_work_orders text)\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  month_start date;\r\n  month_end date;\r\nBEGIN\r\n  -- Calculate month boundaries\r\n  month_start := DATE_TRUNC('month', schedule_start)::date;\r\n  month_end := (DATE_TRUNC('month', schedule_start) + INTERVAL '1 month - 1 day')::date;\r\n  \r\n  RETURN QUERY\r\n  WITH \r\n  eligible_jobs AS (\r\n    SELECT \r\n      j.*,\r\n      (j.due_date - schedule_start)::integer as days_til_due_calc,\r\n      CASE \r\n        WHEN j.jp_priority = 'NOV' THEN 1\r\n        WHEN j.jp_priority = 'Urgent' THEN 2\r\n        -- Only flag as past due if it's in our current scheduling month\r\n        WHEN j.due_date < schedule_start \r\n          AND j.due_date >= month_start THEN 3\r\n        -- Monthly O&M for current month\r\n        WHEN j.jp_priority = 'Monthly O&M' \r\n          AND j.due_date >= month_start\r\n          AND j.due_date <= month_end THEN 4\r\n        -- Other jobs due this week within current month\r\n        WHEN j.jp_priority IN ('3 Year', 'Annual', 'Service', 'Tracer') \r\n          AND j.due_date >= schedule_start\r\n          AND j.due_date <= schedule_end THEN 5\r\n        -- Pull forward from early next month\r\n        WHEN include_pull_forward \r\n          AND j.jp_priority IN ('3 Year', 'Annual', 'Service', 'Tracer')\r\n          AND j.due_date > month_end \r\n          AND j.due_date <= month_end + INTERVAL '5 days' THEN 6\r\n        ELSE 99\r\n      END as priority_rank_calc\r\n    FROM job_pool j\r\n    WHERE \r\n      j.jp_status IN ('Call', 'Waiting to Schedule', 'ready', 'new')\r\n      AND j.jp_status NOT IN ('Scheduled', 'Completed', 'Cancelled')\r\n      -- Only look at jobs from current month forward\r\n      AND j.due_date >= month_start\r\n      AND j.due_date <= month_end + INTERVAL '5 days'\r\n  ),\r\n  site_grouping AS (\r\n    SELECT \r\n      ej.site_id,\r\n      ej.site_name,\r\n      ej.site_city,\r\n      ej.site_state,\r\n      ej.region,\r\n      MIN(ej.due_date) as earliest_due,\r\n      STRING_AGG(DISTINCT ej.sow_1, ' + ' ORDER BY ej.sow_1) as combined_sow,\r\n      STRING_AGG(ej.work_order::text || ':' || ej.sow_1, ', ' ORDER BY ej.due_date, ej.work_order) as wo_list,\r\n      COUNT(*) as wo_count,\r\n      MIN(ej.priority_rank_calc) as best_priority,\r\n      MIN(ej.jp_status) as first_status,\r\n      ARRAY_AGG(ej.work_order ORDER BY ej.due_date) as work_orders\r\n    FROM eligible_jobs ej\r\n    WHERE ej.priority_rank_calc < 99\r\n    GROUP BY ej.site_id, ej.site_name, ej.site_city, ej.site_state, ej.region\r\n  )\r\n  SELECT \r\n    (sg.work_orders)[1]::bigint,\r\n    sg.site_id,\r\n    sg.site_name,\r\n    sg.site_city,\r\n    sg.site_state,\r\n    sg.region,\r\n    sg.combined_sow,\r\n    sg.earliest_due,\r\n    CASE \r\n      WHEN 'NOV' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'NOV'\r\n      WHEN 'Urgent' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Urgent'\r\n      WHEN 'Monthly O&M' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Monthly O&M'\r\n      WHEN 'Service' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Service'\r\n      WHEN 'Tracer' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Tracer'\r\n      ELSE '3 Year/Annual'\r\n    END,\r\n    sg.first_status,\r\n    (sg.earliest_due - schedule_start)::integer,\r\n    sg.best_priority::integer,\r\n    CASE \r\n      WHEN sg.wo_count > 1 THEN sg.wo_list\r\n      ELSE NULL\r\n    END\r\n  FROM site_grouping sg\r\n  ORDER BY sg.best_priority, sg.earliest_due;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "get_proj4_from_srid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_proj4_from_srid(integer)\n RETURNS text\n LANGUAGE plpgsql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$\n\tBEGIN\n\tRETURN proj4text::text FROM public.spatial_ref_sys WHERE srid= $1;\n\tEND;\n\t$function$\n"
  },
  {
    "function_name": "get_region_boundaries",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_region_boundaries()\n RETURNS TABLE(region_name text, boundary_geojson text, properties jsonb)\n LANGUAGE sql\nAS $function$\r\n  SELECT \r\n    region_name,\r\n    ST_AsGeoJSON(boundary)::text as boundary_geojson,\r\n    properties\r\n  FROM regions;\r\n$function$\n"
  },
  {
    "function_name": "get_tech_availability",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_tech_availability(p_start_date date, p_end_date date)\n RETURNS TABLE(technician_id integer, tech_name text, total_capacity numeric, time_off_hours numeric, available_hours numeric)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    RETURN QUERY\r\n    SELECT \r\n        t.technician_id,\r\n        t.name,\r\n        t.max_weekly_hours * 4 as total_capacity,\r\n        COALESCE(SUM(\r\n            CASE \r\n                WHEN tor.approved THEN \r\n                    (tor.end_date - tor.start_date + 1) * tor.hours_per_day\r\n                ELSE 0\r\n            END\r\n        ), 0) as time_off_hours,\r\n        t.max_weekly_hours * 4 - COALESCE(SUM(\r\n            CASE \r\n                WHEN tor.approved THEN \r\n                    (tor.end_date - tor.start_date + 1) * tor.hours_per_day\r\n                ELSE 0\r\n            END\r\n        ), 0) as available_hours\r\n    FROM technicians t\r\n    LEFT JOIN time_off_requests tor ON t.technician_id = tor.technician_id\r\n        AND tor.start_date <= p_end_date\r\n        AND tor.end_date >= p_start_date\r\n    WHERE t.active = true\r\n    GROUP BY t.technician_id, t.name, t.max_weekly_hours;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "gettransactionid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.gettransactionid()\n RETURNS xid\n LANGUAGE c\nAS '$libdir/postgis-3', $function$getTransactionID$function$\n"
  },
  {
    "function_name": "gidx_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.gidx_in(cstring)\n RETURNS gidx\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gidx_in$function$\n"
  },
  {
    "function_name": "gidx_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.gidx_out(gidx)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gidx_out$function$\n"
  },
  {
    "function_name": "gserialized_gist_joinsel_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.gserialized_gist_joinsel_2d(internal, oid, internal, smallint)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_joinsel_2d$function$\n"
  },
  {
    "function_name": "gserialized_gist_joinsel_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.gserialized_gist_joinsel_nd(internal, oid, internal, smallint)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_joinsel_nd$function$\n"
  },
  {
    "function_name": "gserialized_gist_sel_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.gserialized_gist_sel_2d(internal, oid, internal, integer)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_sel_2d$function$\n"
  },
  {
    "function_name": "gserialized_gist_sel_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.gserialized_gist_sel_nd(internal, oid, internal, integer)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_sel_nd$function$\n"
  },
  {
    "function_name": "import_new_jobs",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_new_jobs()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    -- FIRST: Insert missing sites\r\n    INSERT INTO sites (site_id, site_name, site_address, site_city, site_state, latitude, longitude)\r\n    SELECT DISTINCT \r\n        siteid,\r\n        site_name,\r\n        site_address,\r\n        site_city,\r\n        site_state,\r\n        latitude,\r\n        longitude\r\n    FROM stg_job_pool\r\n    WHERE siteid IS NOT NULL\r\n    AND siteid NOT IN (SELECT site_id FROM sites)\r\n    ON CONFLICT (site_id) DO NOTHING;\r\n\r\n    -- SECOND: Insert jobs\r\n    INSERT INTO job_pool (\r\n        work_order,\r\n        site_id,\r\n        site_name,\r\n        site_address,\r\n        site_city,\r\n        site_state,\r\n        latitude,\r\n        longitude,\r\n        jp_status,\r\n        jp_priority,\r\n        due_date,\r\n        sow_1,\r\n        duration,\r\n        region,\r\n        night_test,\r\n        is_recurring_site,\r\n        days_til_due\r\n    )\r\n    SELECT \r\n        work_order,\r\n        siteid::bigint,\r\n        site_name,\r\n        site_address,\r\n        site_city,\r\n        site_state,\r\n        latitude,\r\n        longitude,\r\n        jp_status,\r\n        jp_priority,\r\n        due_date::date,\r\n        sow_1,\r\n        COALESCE(duration, 2.0),\r\n        region,\r\n        COALESCE(night_test, false),\r\n        COALESCE(is_recurring_site, false),\r\n        COALESCE(days_til_due_from_schedule, 0)\r\n    FROM stg_job_pool\r\n    WHERE work_order NOT IN (SELECT work_order FROM job_pool);\r\n\r\n    -- THIRD: Use your EXISTING regions assignment\r\n    PERFORM assign_regions_to_jobs();\r\n\r\n    -- FOURTH: Clear staging (with proper WHERE clause for Supabase)\r\n    DELETE FROM stg_job_pool \r\n    WHERE work_order IS NOT NULL;  -- Supabase needs a WHERE clause\r\n    \r\n    DELETE FROM stg_job_technician_eligibility \r\n    WHERE work_order IS NOT NULL;  -- Supabase needs a WHERE clause\r\n\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "import_new_jobs_safe",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_new_jobs_safe()\n RETURNS json\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\r\nDECLARE\r\n  result json;\r\nBEGIN\r\n  -- Call the actual function\r\n  PERFORM import_new_jobs();\r\n  \r\n  -- Return a success message\r\n  result := json_build_object(\r\n    'success', true,\r\n    'message', 'Import completed'\r\n  );\r\n  \r\n  RETURN result;\r\nEXCEPTION\r\n  WHEN OTHERS THEN\r\n    -- Return error details\r\n    RETURN json_build_object(\r\n      'success', false,\r\n      'message', SQLERRM\r\n    );\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "import_new_jobs_simple",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_new_jobs_simple()\n RETURNS json\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\r\nDECLARE\r\n  job_count integer;\r\nBEGIN\r\n  -- Count jobs\r\n  SELECT COUNT(*) INTO job_count FROM stg_job_pool;\r\n  \r\n  -- Move jobs from staging to production\r\n  INSERT INTO job_pool (\r\n    work_order, site_id, site_name, site_address, site_city, site_state,\r\n    latitude, longitude, jp_status, jp_priority, due_date, sow_1,\r\n    duration, est_hours, night_test, is_night, tech_count, is_recurring_site\r\n  )\r\n  SELECT \r\n    work_order, siteid, site_name, site_address, site_city, site_state,\r\n    latitude, longitude, \r\n    COALESCE(jp_status, 'Ready'),\r\n    COALESCE(jp_priority, 'Normal'),\r\n    due_date::date,\r\n    sow_1,\r\n    COALESCE(duration, 4),\r\n    COALESCE(duration, 4),\r\n    COALESCE(night_test, false),\r\n    COALESCE(night_test, false),\r\n    0,\r\n    COALESCE(is_recurring_site, false)\r\n  FROM stg_job_pool\r\n  ON CONFLICT (work_order) DO UPDATE SET\r\n    jp_status = EXCLUDED.jp_status,\r\n    due_date = EXCLUDED.due_date,\r\n    updated_at = now();\r\n  \r\n  -- Clear staging\r\n  TRUNCATE stg_job_pool;\r\n  \r\n  -- Return success (skip the functions that have UPDATE issues)\r\n  RETURN json_build_object(\r\n    'success', true,\r\n    'message', format('%s jobs imported successfully', job_count),\r\n    'count', job_count\r\n  );\r\nEXCEPTION\r\n  WHEN OTHERS THEN\r\n    RETURN json_build_object(\r\n      'success', false,\r\n      'message', SQLERRM\r\n    );\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "import_single_region",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_single_region(p_region_name text, p_region_geojson jsonb)\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  INSERT INTO regions (region_name, boundary, properties)\r\n  VALUES (\r\n    p_region_name,\r\n    ST_SetSRID(ST_GeomFromGeoJSON(p_region_geojson->>'geometry'), 4326),\r\n    p_region_geojson->'properties'\r\n  )\r\n  ON CONFLICT (region_name) DO UPDATE SET\r\n    boundary = EXCLUDED.boundary,\r\n    properties = EXCLUDED.properties;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "is_contained_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.is_contained_2d(box2df, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_within_box2df_geom_2d$function$\n"
  },
  {
    "function_name": "is_contained_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.is_contained_2d(box2df, box2df)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contains_box2df_box2df_2d$function$\n"
  },
  {
    "function_name": "is_contained_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.is_contained_2d(geometry, box2df)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 1\nAS $function$SELECT $2 OPERATOR(public.~) $1;$function$\n"
  },
  {
    "function_name": "jobs_within_radius",
    "full_definition": "CREATE OR REPLACE FUNCTION public.jobs_within_radius(_tech_id bigint, _radius_miles numeric, _due_within_days integer DEFAULT 21, _limit integer DEFAULT 50)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, site_state text, latitude double precision, longitude double precision, due_date date, jp_priority text, distance_miles numeric)\n LANGUAGE sql\n STABLE\nAS $function$\r\n  select\r\n    j.work_order,\r\n    j.site_name,\r\n    j.site_city,\r\n    j.site_state,\r\n    j.latitude,\r\n    j.longitude,\r\n    j.due_date,\r\n    j.jp_priority,\r\n    round((st_distance(j.geom, t.home_geom) / 1609.34)::numeric, 2) as distance_miles\r\n  from public.job_pool j\r\n  join public.technicians t on t.technician_id = _tech_id\r\n  where j.geom is not null\r\n    and t.home_geom is not null\r\n    and st_dwithin(j.geom, t.home_geom, _radius_miles * 1609.34)\r\n    and j.due_date <= current_date + _due_within_days\r\n    and coalesce(j.jp_status, 'unscheduled') in ('unscheduled','ready','new')\r\n  order by j.due_date asc\r\n  limit _limit;\r\n$function$\n"
  },
  {
    "function_name": "json",
    "full_definition": "CREATE OR REPLACE FUNCTION public.\"json\"(geometry)\n RETURNS json\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geometry_to_json$function$\n"
  },
  {
    "function_name": "jsonb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.jsonb(geometry)\n RETURNS jsonb\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geometry_to_jsonb$function$\n"
  },
  {
    "function_name": "lockrow",
    "full_definition": "CREATE OR REPLACE FUNCTION public.lockrow(text, text, text)\n RETURNS integer\n LANGUAGE sql\n STRICT\nAS $function$ SELECT LockRow(current_schema(), $1, $2, $3, now()::timestamp+'1:00'); $function$\n"
  },
  {
    "function_name": "lockrow",
    "full_definition": "CREATE OR REPLACE FUNCTION public.lockrow(text, text, text, timestamp without time zone)\n RETURNS integer\n LANGUAGE sql\n STRICT\nAS $function$ SELECT LockRow(current_schema(), $1, $2, $3, $4); $function$\n"
  },
  {
    "function_name": "lockrow",
    "full_definition": "CREATE OR REPLACE FUNCTION public.lockrow(text, text, text, text)\n RETURNS integer\n LANGUAGE sql\n STRICT\nAS $function$ SELECT LockRow($1, $2, $3, $4, now()::timestamp+'1:00'); $function$\n"
  },
  {
    "function_name": "lockrow",
    "full_definition": "CREATE OR REPLACE FUNCTION public.lockrow(text, text, text, text, timestamp without time zone)\n RETURNS integer\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tmyschema alias for $1;\n\tmytable alias for $2;\n\tmyrid   alias for $3;\n\tauthid alias for $4;\n\texpires alias for $5;\n\tret int;\n\tmytoid oid;\n\tmyrec RECORD;\n\nBEGIN\n\n\tIF NOT LongTransactionsEnabled() THEN\n\t\tRAISE EXCEPTION 'Long transaction support disabled, use EnableLongTransaction() to enable.';\n\tEND IF;\n\n\tEXECUTE 'DELETE FROM authorization_table WHERE expires < now()';\n\n\tSELECT c.oid INTO mytoid FROM pg_class c, pg_namespace n\n\t\tWHERE c.relname = mytable\n\t\tAND c.relnamespace = n.oid\n\t\tAND n.nspname = myschema;\n\n\t-- RAISE NOTICE 'toid: %', mytoid;\n\n\tFOR myrec IN SELECT * FROM authorization_table WHERE\n\t\ttoid = mytoid AND rid = myrid\n\tLOOP\n\t\tIF myrec.authid != authid THEN\n\t\t\tRETURN 0;\n\t\tELSE\n\t\t\tRETURN 1;\n\t\tEND IF;\n\tEND LOOP;\n\n\tEXECUTE 'INSERT INTO authorization_table VALUES ('||\n\t\tquote_literal(mytoid::text)||','||quote_literal(myrid)||\n\t\t','||quote_literal(expires::text)||\n\t\t','||quote_literal(authid) ||')';\n\n\tGET DIAGNOSTICS ret = ROW_COUNT;\n\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "longtransactionsenabled",
    "full_definition": "CREATE OR REPLACE FUNCTION public.longtransactionsenabled()\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\trec RECORD;\nBEGIN\n\tFOR rec IN SELECT oid FROM pg_class WHERE relname = 'authorized_tables'\n\tLOOP\n\t\treturn 't';\n\tEND LOOP;\n\treturn 'f';\nEND;\n$function$\n"
  },
  {
    "function_name": "overlaps_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_2d(box2df, box2df)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_contains_box2df_box2df_2d$function$\n"
  },
  {
    "function_name": "overlaps_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_2d(geometry, box2df)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 1\nAS $function$SELECT $2 OPERATOR(public.&&) $1;$function$\n"
  },
  {
    "function_name": "overlaps_2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_2d(box2df, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_overlaps_box2df_geom_2d$function$\n"
  },
  {
    "function_name": "overlaps_geog",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_geog(geography, gidx)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE STRICT\nAS $function$SELECT $2 OPERATOR(public.&&) $1;$function$\n"
  },
  {
    "function_name": "overlaps_geog",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_geog(gidx, geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE STRICT\nAS '$libdir/postgis-3', $function$gserialized_gidx_geog_overlaps$function$\n"
  },
  {
    "function_name": "overlaps_geog",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_geog(gidx, gidx)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE STRICT\nAS '$libdir/postgis-3', $function$gserialized_gidx_gidx_overlaps$function$\n"
  },
  {
    "function_name": "overlaps_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_nd(gidx, geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_gidx_geom_overlaps$function$\n"
  },
  {
    "function_name": "overlaps_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_nd(gidx, gidx)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_gidx_gidx_overlaps$function$\n"
  },
  {
    "function_name": "overlaps_nd",
    "full_definition": "CREATE OR REPLACE FUNCTION public.overlaps_nd(geometry, gidx)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 1\nAS $function$SELECT $2 OPERATOR(public.&&&) $1;$function$\n"
  },
  {
    "function_name": "path",
    "full_definition": "CREATE OR REPLACE FUNCTION public.path(geometry)\n RETURNS path\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geometry_to_path$function$\n"
  },
  {
    "function_name": "pgis_asflatgeobuf_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asflatgeobuf_finalfn(internal)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asflatgeobuf_finalfn$function$\n"
  },
  {
    "function_name": "pgis_asflatgeobuf_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asflatgeobuf_transfn(internal, anyelement, boolean)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_asflatgeobuf_transfn$function$\n"
  },
  {
    "function_name": "pgis_asflatgeobuf_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asflatgeobuf_transfn(internal, anyelement, boolean, text)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_asflatgeobuf_transfn$function$\n"
  },
  {
    "function_name": "pgis_asflatgeobuf_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asflatgeobuf_transfn(internal, anyelement)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_asflatgeobuf_transfn$function$\n"
  },
  {
    "function_name": "pgis_asgeobuf_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asgeobuf_finalfn(internal)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asgeobuf_finalfn$function$\n"
  },
  {
    "function_name": "pgis_asgeobuf_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asgeobuf_transfn(internal, anyelement, text)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_asgeobuf_transfn$function$\n"
  },
  {
    "function_name": "pgis_asgeobuf_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asgeobuf_transfn(internal, anyelement)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_asgeobuf_transfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_combinefn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_combinefn(internal, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_combinefn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_deserialfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_deserialfn(bytea, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_deserialfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_finalfn(internal)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_finalfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_serialfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_serialfn(internal)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_serialfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_transfn(internal, anyelement, text, integer)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_transfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_transfn(internal, anyelement)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_transfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_transfn(internal, anyelement, text)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_transfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_transfn(internal, anyelement, text, integer, text, text)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_transfn$function$\n"
  },
  {
    "function_name": "pgis_asmvt_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_asmvt_transfn(internal, anyelement, text, integer, text)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_asmvt_transfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_accum_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_accum_transfn(internal, geometry, double precision, integer)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_geometry_accum_transfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_accum_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_accum_transfn(internal, geometry, double precision)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_geometry_accum_transfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_accum_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_accum_transfn(internal, geometry)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_geometry_accum_transfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_clusterintersecting_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_clusterintersecting_finalfn(internal)\n RETURNS geometry[]\n LANGUAGE c\n PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_geometry_clusterintersecting_finalfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_clusterwithin_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_clusterwithin_finalfn(internal)\n RETURNS geometry[]\n LANGUAGE c\n PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_geometry_clusterwithin_finalfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_collect_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_collect_finalfn(internal)\n RETURNS geometry\n LANGUAGE c\n PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_geometry_collect_finalfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_makeline_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_makeline_finalfn(internal)\n RETURNS geometry\n LANGUAGE c\n PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_geometry_makeline_finalfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_polygonize_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_polygonize_finalfn(internal)\n RETURNS geometry\n LANGUAGE c\n PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_geometry_polygonize_finalfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_union_parallel_combinefn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_union_parallel_combinefn(internal, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE\nAS '$libdir/postgis-3', $function$pgis_geometry_union_parallel_combinefn$function$\n"
  },
  {
    "function_name": "pgis_geometry_union_parallel_deserialfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_union_parallel_deserialfn(bytea, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$pgis_geometry_union_parallel_deserialfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_union_parallel_finalfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_union_parallel_finalfn(internal)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$pgis_geometry_union_parallel_finalfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_union_parallel_serialfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_union_parallel_serialfn(internal)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$pgis_geometry_union_parallel_serialfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_union_parallel_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_union_parallel_transfn(internal, geometry)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE\nAS '$libdir/postgis-3', $function$pgis_geometry_union_parallel_transfn$function$\n"
  },
  {
    "function_name": "pgis_geometry_union_parallel_transfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.pgis_geometry_union_parallel_transfn(internal, geometry, double precision)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$pgis_geometry_union_parallel_transfn$function$\n"
  },
  {
    "function_name": "point",
    "full_definition": "CREATE OR REPLACE FUNCTION public.point(geometry)\n RETURNS point\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geometry_to_point$function$\n"
  },
  {
    "function_name": "polygon",
    "full_definition": "CREATE OR REPLACE FUNCTION public.polygon(geometry)\n RETURNS polygon\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geometry_to_polygon$function$\n"
  },
  {
    "function_name": "populate_geometry_columns",
    "full_definition": "CREATE OR REPLACE FUNCTION public.populate_geometry_columns(tbl_oid oid, use_typmod boolean DEFAULT true)\n RETURNS integer\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\tgcs\t\t RECORD;\n\tgc\t\t  RECORD;\n\tgc_old\t  RECORD;\n\tgsrid\t   integer;\n\tgndims\t  integer;\n\tgtype\t   text;\n\tquery\t   text;\n\tgc_is_valid boolean;\n\tinserted\tinteger;\n\tconstraint_successful boolean := false;\n\nBEGIN\n\tinserted := 0;\n\n\t-- Iterate through all geometry columns in this table\n\tFOR gcs IN\n\tSELECT n.nspname, c.relname, a.attname, c.relkind\n\t\tFROM pg_class c,\n\t\t\t pg_attribute a,\n\t\t\t pg_type t,\n\t\t\t pg_namespace n\n\t\tWHERE c.relkind IN('r', 'f', 'p')\n\t\tAND t.typname = 'geometry'\n\t\tAND a.attisdropped = false\n\t\tAND a.atttypid = t.oid\n\t\tAND a.attrelid = c.oid\n\t\tAND c.relnamespace = n.oid\n\t\tAND n.nspname NOT ILIKE 'pg_temp%'\n\t\tAND c.oid = tbl_oid\n\tLOOP\n\n\t\tRAISE DEBUG 'Processing column %.%.%', gcs.nspname, gcs.relname, gcs.attname;\n\n\t\tgc_is_valid := true;\n\t\t-- Find the srid, coord_dimension, and type of current geometry\n\t\t-- in geometry_columns -- which is now a view\n\n\t\tSELECT type, srid, coord_dimension, gcs.relkind INTO gc_old\n\t\t\tFROM geometry_columns\n\t\t\tWHERE f_table_schema = gcs.nspname AND f_table_name = gcs.relname AND f_geometry_column = gcs.attname;\n\n\t\tIF upper(gc_old.type) = 'GEOMETRY' THEN\n\t\t-- This is an unconstrained geometry we need to do something\n\t\t-- We need to figure out what to set the type by inspecting the data\n\t\t\tEXECUTE 'SELECT public.ST_srid(' || quote_ident(gcs.attname) || ') As srid, public.GeometryType(' || quote_ident(gcs.attname) || ') As type, public.ST_NDims(' || quote_ident(gcs.attname) || ') As dims ' ||\n\t\t\t\t\t ' FROM ONLY ' || quote_ident(gcs.nspname) || '.' || quote_ident(gcs.relname) ||\n\t\t\t\t\t ' WHERE ' || quote_ident(gcs.attname) || ' IS NOT NULL LIMIT 1;'\n\t\t\t\tINTO gc;\n\t\t\tIF gc IS NULL THEN -- there is no data so we can not determine geometry type\n\t\t\t\tRAISE WARNING 'No data in table %.%, so no information to determine geometry type and srid', gcs.nspname, gcs.relname;\n\t\t\t\tRETURN 0;\n\t\t\tEND IF;\n\t\t\tgsrid := gc.srid; gtype := gc.type; gndims := gc.dims;\n\n\t\t\tIF use_typmod THEN\n\t\t\t\tBEGIN\n\t\t\t\t\tEXECUTE 'ALTER TABLE ' || quote_ident(gcs.nspname) || '.' || quote_ident(gcs.relname) || ' ALTER COLUMN ' || quote_ident(gcs.attname) ||\n\t\t\t\t\t\t' TYPE geometry(' || postgis_type_name(gtype, gndims, true) || ', ' || gsrid::text  || ') ';\n\t\t\t\t\tinserted := inserted + 1;\n\t\t\t\tEXCEPTION\n\t\t\t\t\t\tWHEN invalid_parameter_value OR feature_not_supported THEN\n\t\t\t\t\t\tRAISE WARNING 'Could not convert ''%'' in ''%.%'' to use typmod with srid %, type %: %', quote_ident(gcs.attname), quote_ident(gcs.nspname), quote_ident(gcs.relname), gsrid, postgis_type_name(gtype, gndims, true), SQLERRM;\n\t\t\t\t\t\t\tgc_is_valid := false;\n\t\t\t\tEND;\n\n\t\t\tELSE\n\t\t\t\t-- Try to apply srid check to column\n\t\t\t\tconstraint_successful = false;\n\t\t\t\tIF (gsrid > 0 AND postgis_constraint_srid(gcs.nspname, gcs.relname,gcs.attname) IS NULL ) THEN\n\t\t\t\t\tBEGIN\n\t\t\t\t\t\tEXECUTE 'ALTER TABLE ONLY ' || quote_ident(gcs.nspname) || '.' || quote_ident(gcs.relname) ||\n\t\t\t\t\t\t\t\t ' ADD CONSTRAINT ' || quote_ident('enforce_srid_' || gcs.attname) ||\n\t\t\t\t\t\t\t\t ' CHECK (ST_srid(' || quote_ident(gcs.attname) || ') = ' || gsrid || ')';\n\t\t\t\t\t\tconstraint_successful := true;\n\t\t\t\t\tEXCEPTION\n\t\t\t\t\t\tWHEN check_violation THEN\n\t\t\t\t\t\t\tRAISE WARNING 'Not inserting ''%'' in ''%.%'' into geometry_columns: could not apply constraint CHECK (st_srid(%) = %)', quote_ident(gcs.attname), quote_ident(gcs.nspname), quote_ident(gcs.relname), quote_ident(gcs.attname), gsrid;\n\t\t\t\t\t\t\tgc_is_valid := false;\n\t\t\t\t\tEND;\n\t\t\t\tEND IF;\n\n\t\t\t\t-- Try to apply ndims check to column\n\t\t\t\tIF (gndims IS NOT NULL AND postgis_constraint_dims(gcs.nspname, gcs.relname,gcs.attname) IS NULL ) THEN\n\t\t\t\t\tBEGIN\n\t\t\t\t\t\tEXECUTE 'ALTER TABLE ONLY ' || quote_ident(gcs.nspname) || '.' || quote_ident(gcs.relname) || '\n\t\t\t\t\t\t\t\t ADD CONSTRAINT ' || quote_ident('enforce_dims_' || gcs.attname) || '\n\t\t\t\t\t\t\t\t CHECK (st_ndims(' || quote_ident(gcs.attname) || ') = '||gndims||')';\n\t\t\t\t\t\tconstraint_successful := true;\n\t\t\t\t\tEXCEPTION\n\t\t\t\t\t\tWHEN check_violation THEN\n\t\t\t\t\t\t\tRAISE WARNING 'Not inserting ''%'' in ''%.%'' into geometry_columns: could not apply constraint CHECK (st_ndims(%) = %)', quote_ident(gcs.attname), quote_ident(gcs.nspname), quote_ident(gcs.relname), quote_ident(gcs.attname), gndims;\n\t\t\t\t\t\t\tgc_is_valid := false;\n\t\t\t\t\tEND;\n\t\t\t\tEND IF;\n\n\t\t\t\t-- Try to apply geometrytype check to column\n\t\t\t\tIF (gtype IS NOT NULL AND postgis_constraint_type(gcs.nspname, gcs.relname,gcs.attname) IS NULL ) THEN\n\t\t\t\t\tBEGIN\n\t\t\t\t\t\tEXECUTE 'ALTER TABLE ONLY ' || quote_ident(gcs.nspname) || '.' || quote_ident(gcs.relname) || '\n\t\t\t\t\t\tADD CONSTRAINT ' || quote_ident('enforce_geotype_' || gcs.attname) || '\n\t\t\t\t\t\tCHECK (geometrytype(' || quote_ident(gcs.attname) || ') = ' || quote_literal(gtype) || ')';\n\t\t\t\t\t\tconstraint_successful := true;\n\t\t\t\t\tEXCEPTION\n\t\t\t\t\t\tWHEN check_violation THEN\n\t\t\t\t\t\t\t-- No geometry check can be applied. This column contains a number of geometry types.\n\t\t\t\t\t\t\tRAISE WARNING 'Could not add geometry type check (%) to table column: %.%.%', gtype, quote_ident(gcs.nspname),quote_ident(gcs.relname),quote_ident(gcs.attname);\n\t\t\t\t\tEND;\n\t\t\t\tEND IF;\n\t\t\t\t --only count if we were successful in applying at least one constraint\n\t\t\t\tIF constraint_successful THEN\n\t\t\t\t\tinserted := inserted + 1;\n\t\t\t\tEND IF;\n\t\t\tEND IF;\n\t\tEND IF;\n\n\tEND LOOP;\n\n\tRETURN inserted;\nEND\n\n$function$\n"
  },
  {
    "function_name": "populate_geometry_columns",
    "full_definition": "CREATE OR REPLACE FUNCTION public.populate_geometry_columns(use_typmod boolean DEFAULT true)\n RETURNS text\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\tinserted\tinteger;\n\toldcount\tinteger;\n\tprobed\t  integer;\n\tstale\t   integer;\n\tgcs\t\t RECORD;\n\tgc\t\t  RECORD;\n\tgsrid\t   integer;\n\tgndims\t  integer;\n\tgtype\t   text;\n\tquery\t   text;\n\tgc_is_valid boolean;\n\nBEGIN\n\tSELECT count(*) INTO oldcount FROM public.geometry_columns;\n\tinserted := 0;\n\n\t-- Count the number of geometry columns in all tables and views\n\tSELECT count(DISTINCT c.oid) INTO probed\n\tFROM pg_class c,\n\t\t pg_attribute a,\n\t\t pg_type t,\n\t\t pg_namespace n\n\tWHERE c.relkind IN('r','v','f', 'p')\n\t\tAND t.typname = 'geometry'\n\t\tAND a.attisdropped = false\n\t\tAND a.atttypid = t.oid\n\t\tAND a.attrelid = c.oid\n\t\tAND c.relnamespace = n.oid\n\t\tAND n.nspname NOT ILIKE 'pg_temp%' AND c.relname != 'raster_columns' ;\n\n\t-- Iterate through all non-dropped geometry columns\n\tRAISE DEBUG 'Processing Tables.....';\n\n\tFOR gcs IN\n\tSELECT DISTINCT ON (c.oid) c.oid, n.nspname, c.relname\n\t\tFROM pg_class c,\n\t\t\t pg_attribute a,\n\t\t\t pg_type t,\n\t\t\t pg_namespace n\n\t\tWHERE c.relkind IN( 'r', 'f', 'p')\n\t\tAND t.typname = 'geometry'\n\t\tAND a.attisdropped = false\n\t\tAND a.atttypid = t.oid\n\t\tAND a.attrelid = c.oid\n\t\tAND c.relnamespace = n.oid\n\t\tAND n.nspname NOT ILIKE 'pg_temp%' AND c.relname != 'raster_columns'\n\tLOOP\n\n\t\tinserted := inserted + public.populate_geometry_columns(gcs.oid, use_typmod);\n\tEND LOOP;\n\n\tIF oldcount > inserted THEN\n\t\tstale = oldcount-inserted;\n\tELSE\n\t\tstale = 0;\n\tEND IF;\n\n\tRETURN 'probed:' ||probed|| ' inserted:'||inserted;\nEND\n\n$function$\n"
  },
  {
    "function_name": "populate_tech_eligibility",
    "full_definition": "CREATE OR REPLACE FUNCTION public.populate_tech_eligibility()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  eligible_count integer;\r\n  job_count integer;\r\nBEGIN\r\n  -- Change TRUNCATE to DELETE with WHERE\r\n  DELETE FROM job_technician_eligibility WHERE work_order IS NOT NULL;\r\n  \r\n  -- Rest stays the same...\r\n  INSERT INTO job_technician_eligibility (work_order, technician_id)\r\n  SELECT DISTINCT\r\n    j.work_order,\r\n    t.technician_id\r\n  FROM job_pool j\r\n  CROSS JOIN technicians t\r\n  WHERE \r\n    t.active = true\r\n    AND (\r\n      t.states_allowed IS NULL \r\n      OR t.states_allowed = ''\r\n      OR j.site_state = ANY(string_to_array(t.states_allowed, ','))\r\n    )\r\n    AND (\r\n      t.states_excluded IS NULL \r\n      OR t.states_excluded = ''\r\n      OR NOT j.site_state = ANY(string_to_array(t.states_excluded, ','))\r\n    )\r\n    AND (\r\n      j.sow_1 IS NULL\r\n      OR j.sow_1 = ''\r\n      OR (\r\n        SELECT bool_and(\r\n          trim(sow_item) = ANY(string_to_array(t.qualified_tests, ','))\r\n        )\r\n        FROM unnest(string_to_array(j.sow_1, ',')) AS sow_item\r\n        WHERE trim(sow_item) != ''\r\n      )\r\n    );\r\n  \r\n  GET DIAGNOSTICS eligible_count = ROW_COUNT;\r\n  \r\n  UPDATE job_pool j\r\n  SET tech_count = (\r\n    SELECT COUNT(*)\r\n    FROM job_technician_eligibility e\r\n    WHERE e.work_order = j.work_order\r\n  )\r\n  WHERE work_order IS NOT NULL;  -- ADD THIS WHERE\r\n  \r\n  GET DIAGNOSTICS job_count = ROW_COUNT;\r\n  \r\n  RAISE NOTICE 'Created % eligibility records for % jobs', eligible_count, job_count;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "postgis_addbbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_addbbox(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_addBBOX$function$\n"
  },
  {
    "function_name": "postgis_cache_bbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_cache_bbox()\n RETURNS trigger\n LANGUAGE c\nAS '$libdir/postgis-3', $function$cache_bbox$function$\n"
  },
  {
    "function_name": "postgis_constraint_dims",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_constraint_dims(geomschema text, geomtable text, geomcolumn text)\n RETURNS integer\n LANGUAGE sql\n STABLE PARALLEL SAFE STRICT COST 500\nAS $function$\nSELECT  replace(split_part(s.consrc, ' = ', 2), ')', '')::integer\n\t\t FROM pg_class c, pg_namespace n, pg_attribute a\n\t\t , (SELECT connamespace, conrelid, conkey, pg_get_constraintdef(oid) As consrc\n\t\t\tFROM pg_constraint) AS s\n\t\t WHERE n.nspname = $1\n\t\t AND c.relname = $2\n\t\t AND a.attname = $3\n\t\t AND a.attrelid = c.oid\n\t\t AND s.connamespace = n.oid\n\t\t AND s.conrelid = c.oid\n\t\t AND a.attnum = ANY (s.conkey)\n\t\t AND s.consrc LIKE '%ndims(% = %';\n$function$\n"
  },
  {
    "function_name": "postgis_constraint_srid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_constraint_srid(geomschema text, geomtable text, geomcolumn text)\n RETURNS integer\n LANGUAGE sql\n STABLE PARALLEL SAFE STRICT COST 500\nAS $function$\nSELECT replace(replace(split_part(s.consrc, ' = ', 2), ')', ''), '(', '')::integer\n\t\t FROM pg_class c, pg_namespace n, pg_attribute a\n\t\t , (SELECT connamespace, conrelid, conkey, pg_get_constraintdef(oid) As consrc\n\t\t\tFROM pg_constraint) AS s\n\t\t WHERE n.nspname = $1\n\t\t AND c.relname = $2\n\t\t AND a.attname = $3\n\t\t AND a.attrelid = c.oid\n\t\t AND s.connamespace = n.oid\n\t\t AND s.conrelid = c.oid\n\t\t AND a.attnum = ANY (s.conkey)\n\t\t AND s.consrc LIKE '%srid(% = %';\n$function$\n"
  },
  {
    "function_name": "postgis_constraint_type",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_constraint_type(geomschema text, geomtable text, geomcolumn text)\n RETURNS character varying\n LANGUAGE sql\n STABLE PARALLEL SAFE STRICT COST 500\nAS $function$\nSELECT  replace(split_part(s.consrc, '''', 2), ')', '')::varchar\n\t\t FROM pg_class c, pg_namespace n, pg_attribute a\n\t\t , (SELECT connamespace, conrelid, conkey, pg_get_constraintdef(oid) As consrc\n\t\t\tFROM pg_constraint) AS s\n\t\t WHERE n.nspname = $1\n\t\t AND c.relname = $2\n\t\t AND a.attname = $3\n\t\t AND a.attrelid = c.oid\n\t\t AND s.connamespace = n.oid\n\t\t AND s.conrelid = c.oid\n\t\t AND a.attnum = ANY (s.conkey)\n\t\t AND s.consrc LIKE '%geometrytype(% = %';\n$function$\n"
  },
  {
    "function_name": "postgis_dropbbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_dropbbox(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_dropBBOX$function$\n"
  },
  {
    "function_name": "postgis_extensions_upgrade",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_extensions_upgrade()\n RETURNS text\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n\trec record;\n\tsql text;\n\tvar_schema text;\n\ttarget_version text; -- TODO: optionally take as argument\nBEGIN\n\n\tFOR rec IN\n\t\tSELECT name, default_version, installed_version\n\t\tFROM pg_catalog.pg_available_extensions\n\t\tWHERE name IN (\n\t\t\t'postgis',\n\t\t\t'postgis_raster',\n\t\t\t'postgis_sfcgal',\n\t\t\t'postgis_topology',\n\t\t\t'postgis_tiger_geocoder'\n\t\t)\n\t\tORDER BY length(name) -- this is to make sure 'postgis' is first !\n\tLOOP --{\n\n\t\tIF target_version IS NULL THEN\n\t\t\ttarget_version := rec.default_version;\n\t\tEND IF;\n\n\t\tIF rec.installed_version IS NULL THEN --{\n\t\t\t-- If the support installed by available extension\n\t\t\t-- is found unpackaged, we package it\n\t\t\tIF --{\n\t\t\t\t -- PostGIS is always available (this function is part of it)\n\t\t\t\t rec.name = 'postgis'\n\n\t\t\t\t -- PostGIS raster is available if type 'raster' exists\n\t\t\t\t OR ( rec.name = 'postgis_raster' AND EXISTS (\n\t\t\t\t\t\t\tSELECT 1 FROM pg_catalog.pg_type\n\t\t\t\t\t\t\tWHERE typname = 'raster' ) )\n\n\t\t\t\t -- PostGIS SFCGAL is availble if\n\t\t\t\t -- 'postgis_sfcgal_version' function exists\n\t\t\t\t OR ( rec.name = 'postgis_sfcgal' AND EXISTS (\n\t\t\t\t\t\t\tSELECT 1 FROM pg_catalog.pg_proc\n\t\t\t\t\t\t\tWHERE proname = 'postgis_sfcgal_version' ) )\n\n\t\t\t\t -- PostGIS Topology is available if\n\t\t\t\t -- 'topology.topology' table exists\n\t\t\t\t -- NOTE: watch out for https://trac.osgeo.org/postgis/ticket/2503\n\t\t\t\t OR ( rec.name = 'postgis_topology' AND EXISTS (\n\t\t\t\t\t\t\tSELECT 1 FROM pg_catalog.pg_class c\n\t\t\t\t\t\t\tJOIN pg_catalog.pg_namespace n ON (c.relnamespace = n.oid )\n\t\t\t\t\t\t\tWHERE n.nspname = 'topology' AND c.relname = 'topology') )\n\n\t\t\t\t OR ( rec.name = 'postgis_tiger_geocoder' AND EXISTS (\n\t\t\t\t\t\t\tSELECT 1 FROM pg_catalog.pg_class c\n\t\t\t\t\t\t\tJOIN pg_catalog.pg_namespace n ON (c.relnamespace = n.oid )\n\t\t\t\t\t\t\tWHERE n.nspname = 'tiger' AND c.relname = 'geocode_settings') )\n\t\t\tTHEN --}{\n\t\t\t\t-- Force install in same schema as postgis\n\t\t\t\tSELECT INTO var_schema n.nspname\n\t\t\t\t  FROM pg_namespace n, pg_proc p\n\t\t\t\t  WHERE p.proname = 'postgis_full_version'\n\t\t\t\t\tAND n.oid = p.pronamespace\n\t\t\t\t  LIMIT 1;\n\t\t\t\tIF rec.name NOT IN('postgis_topology', 'postgis_tiger_geocoder')\n\t\t\t\tTHEN\n\t\t\t\t\tsql := format(\n\t\t\t\t\t\t\t  'CREATE EXTENSION %1$I SCHEMA %2$I VERSION unpackaged;'\n\t\t\t\t\t\t\t  'ALTER EXTENSION %1$I UPDATE TO %3$I',\n\t\t\t\t\t\t\t  rec.name, var_schema, target_version);\n\t\t\t\tELSE\n\t\t\t\t\tsql := format(\n\t\t\t\t\t\t\t 'CREATE EXTENSION %1$I VERSION unpackaged;'\n\t\t\t\t\t\t\t 'ALTER EXTENSION %1$I UPDATE TO %2$I',\n\t\t\t\t\t\t\t rec.name, target_version);\n\t\t\t\tEND IF;\n\t\t\t\tRAISE NOTICE 'Packaging and updating %', rec.name;\n\t\t\t\tRAISE DEBUG '%', sql;\n\t\t\t\tEXECUTE sql;\n\t\t\tELSE\n\t\t\t\tRAISE DEBUG 'Skipping % (not in use)', rec.name;\n\t\t\tEND IF;\n\t\tELSE -- IF target_version != rec.installed_version THEN --}{\n\t\t\tsql = '';\n\t\t\t-- If logged in as super user\n\t\t\t-- force an update regardless if at target version, no downgrade allowed\n\t\t\tIF (SELECT usesuper FROM pg_user WHERE usename = CURRENT_USER)\n\t\t\t\t\t\tAND pg_catalog.substring(target_version, '[0-9]+\\.[0-9]+\\.[0-9]+')\n\t\t\t\t\t\t\t\t>= pg_catalog.substring(rec.installed_version, '[0-9]+\\.[0-9]+\\.[0-9]+')\n\t\t\tTHEN\n\t\t\t\tsql = format(\n\t\t\t\t\t'UPDATE pg_catalog.pg_extension SET extversion = ''ANY'' WHERE extname = %1$L;'\n\t\t\t\t\t'ALTER EXTENSION %1$I UPDATE TO %2$I',\n\t\t\t\t\trec.name, target_version\n\t\t\t\t);\n\t\t\t-- sandboxed users do standard upgrade\n\t\t\tELSE\n\t\t\t\tsql = format(\n\t\t\t\t'ALTER EXTENSION %1$I UPDATE TO %2$I',\n\t\t\t\trec.name, target_version\n\t\t\t\t);\n\t\t\tEND IF;\n\t\t\tRAISE NOTICE 'Updating extension % %',\n\t\t\t\trec.name, rec.installed_version;\n\t\t\tRAISE DEBUG '%', sql;\n\t\t\tEXECUTE sql;\n\t\tEND IF; --}\n\n\tEND LOOP; --}\n\n\tRETURN format(\n\t\t'Upgrade to version %s completed, run SELECT postgis_full_version(); for details',\n\t\ttarget_version\n\t);\n\n\nEND\n$function$\n"
  },
  {
    "function_name": "postgis_full_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_full_version()\n RETURNS text\n LANGUAGE plpgsql\n IMMUTABLE\nAS $function$\nDECLARE\n\tlibver text;\n\tlibrev text;\n\tprojver text;\n\tgeosver text;\n\tsfcgalver text;\n\tgdalver text := NULL;\n\tlibxmlver text;\n\tliblwgeomver text;\n\tdbproc text;\n\trelproc text;\n\tfullver text;\n\trast_lib_ver text := NULL;\n\trast_scr_ver text := NULL;\n\ttopo_scr_ver text := NULL;\n\tjson_lib_ver text;\n\tprotobuf_lib_ver text;\n\twagyu_lib_ver text;\n\tsfcgal_lib_ver text;\n\tsfcgal_scr_ver text;\n\tpgsql_scr_ver text;\n\tpgsql_ver text;\n\tcore_is_extension bool;\nBEGIN\n\tSELECT public.postgis_lib_version() INTO libver;\n\tSELECT public.postgis_proj_version() INTO projver;\n\tSELECT public.postgis_geos_version() INTO geosver;\n\tSELECT public.postgis_libjson_version() INTO json_lib_ver;\n\tSELECT public.postgis_libprotobuf_version() INTO protobuf_lib_ver;\n\tSELECT public.postgis_wagyu_version() INTO wagyu_lib_ver;\n\tSELECT public._postgis_scripts_pgsql_version() INTO pgsql_scr_ver;\n\tSELECT public._postgis_pgsql_version() INTO pgsql_ver;\n\tBEGIN\n\t\tSELECT public.postgis_gdal_version() INTO gdalver;\n\tEXCEPTION\n\t\tWHEN undefined_function THEN\n\t\t\tRAISE DEBUG 'Function postgis_gdal_version() not found.  Is raster support enabled and rtpostgis.sql installed?';\n\tEND;\n\tBEGIN\n\t\tSELECT public.postgis_sfcgal_full_version() INTO sfcgalver;\n\t\tBEGIN\n\t\t\tSELECT public.postgis_sfcgal_scripts_installed() INTO sfcgal_scr_ver;\n\t\tEXCEPTION\n\t\t\tWHEN undefined_function THEN\n\t\t\t\tsfcgal_scr_ver := 'missing';\n\t\tEND;\n\tEXCEPTION\n\t\tWHEN undefined_function THEN\n\t\t\tRAISE DEBUG 'Function postgis_sfcgal_scripts_installed() not found. Is sfcgal support enabled and sfcgal.sql installed?';\n\tEND;\n\tSELECT public.postgis_liblwgeom_version() INTO liblwgeomver;\n\tSELECT public.postgis_libxml_version() INTO libxmlver;\n\tSELECT public.postgis_scripts_installed() INTO dbproc;\n\tSELECT public.postgis_scripts_released() INTO relproc;\n\tSELECT public.postgis_lib_revision() INTO librev;\n\tBEGIN\n\t\tSELECT topology.postgis_topology_scripts_installed() INTO topo_scr_ver;\n\tEXCEPTION\n\t\tWHEN undefined_function OR invalid_schema_name THEN\n\t\t\tRAISE DEBUG 'Function postgis_topology_scripts_installed() not found. Is topology support enabled and topology.sql installed?';\n\t\tWHEN insufficient_privilege THEN\n\t\t\tRAISE NOTICE 'Topology support cannot be inspected. Is current user granted USAGE on schema \"topology\" ?';\n\t\tWHEN OTHERS THEN\n\t\t\tRAISE NOTICE 'Function postgis_topology_scripts_installed() could not be called: % (%)', SQLERRM, SQLSTATE;\n\tEND;\n\n\tBEGIN\n\t\tSELECT postgis_raster_scripts_installed() INTO rast_scr_ver;\n\tEXCEPTION\n\t\tWHEN undefined_function THEN\n\t\t\tRAISE DEBUG 'Function postgis_raster_scripts_installed() not found. Is raster support enabled and rtpostgis.sql installed?';\n\t\tWHEN OTHERS THEN\n\t\t\tRAISE NOTICE 'Function postgis_raster_scripts_installed() could not be called: % (%)', SQLERRM, SQLSTATE;\n\tEND;\n\n\tBEGIN\n\t\tSELECT public.postgis_raster_lib_version() INTO rast_lib_ver;\n\tEXCEPTION\n\t\tWHEN undefined_function THEN\n\t\t\tRAISE DEBUG 'Function postgis_raster_lib_version() not found. Is raster support enabled and rtpostgis.sql installed?';\n\t\tWHEN OTHERS THEN\n\t\t\tRAISE NOTICE 'Function postgis_raster_lib_version() could not be called: % (%)', SQLERRM, SQLSTATE;\n\tEND;\n\n\tfullver = 'POSTGIS=\"' || libver;\n\n\tIF  librev IS NOT NULL THEN\n\t\tfullver = fullver || ' ' || librev;\n\tEND IF;\n\n\tfullver = fullver || '\"';\n\n\tIF EXISTS (\n\t\tSELECT * FROM pg_catalog.pg_extension\n\t\tWHERE extname = 'postgis')\n\tTHEN\n\t\t\tfullver = fullver || ' [EXTENSION]';\n\t\t\tcore_is_extension := true;\n\tELSE\n\t\t\tcore_is_extension := false;\n\tEND IF;\n\n\tIF liblwgeomver != relproc THEN\n\t\tfullver = fullver || ' (liblwgeom version mismatch: \"' || liblwgeomver || '\")';\n\tEND IF;\n\n\tfullver = fullver || ' PGSQL=\"' || pgsql_scr_ver || '\"';\n\tIF pgsql_scr_ver != pgsql_ver THEN\n\t\tfullver = fullver || ' (procs need upgrade for use with PostgreSQL \"' || pgsql_ver || '\")';\n\tEND IF;\n\n\tIF  geosver IS NOT NULL THEN\n\t\tfullver = fullver || ' GEOS=\"' || geosver || '\"';\n\tEND IF;\n\n\tIF  sfcgalver IS NOT NULL THEN\n\t\tfullver = fullver || ' SFCGAL=\"' || sfcgalver || '\"';\n\tEND IF;\n\n\tIF  projver IS NOT NULL THEN\n\t\tfullver = fullver || ' PROJ=\"' || projver || '\"';\n\tEND IF;\n\n\tIF  gdalver IS NOT NULL THEN\n\t\tfullver = fullver || ' GDAL=\"' || gdalver || '\"';\n\tEND IF;\n\n\tIF  libxmlver IS NOT NULL THEN\n\t\tfullver = fullver || ' LIBXML=\"' || libxmlver || '\"';\n\tEND IF;\n\n\tIF json_lib_ver IS NOT NULL THEN\n\t\tfullver = fullver || ' LIBJSON=\"' || json_lib_ver || '\"';\n\tEND IF;\n\n\tIF protobuf_lib_ver IS NOT NULL THEN\n\t\tfullver = fullver || ' LIBPROTOBUF=\"' || protobuf_lib_ver || '\"';\n\tEND IF;\n\n\tIF wagyu_lib_ver IS NOT NULL THEN\n\t\tfullver = fullver || ' WAGYU=\"' || wagyu_lib_ver || '\"';\n\tEND IF;\n\n\tIF dbproc != relproc THEN\n\t\tfullver = fullver || ' (core procs from \"' || dbproc || '\" need upgrade)';\n\tEND IF;\n\n\tIF topo_scr_ver IS NOT NULL THEN\n\t\tfullver = fullver || ' TOPOLOGY';\n\t\tIF topo_scr_ver != relproc THEN\n\t\t\tfullver = fullver || ' (topology procs from \"' || topo_scr_ver || '\" need upgrade)';\n\t\tEND IF;\n\t\tIF core_is_extension AND NOT EXISTS (\n\t\t\tSELECT * FROM pg_catalog.pg_extension\n\t\t\tWHERE extname = 'postgis_topology')\n\t\tTHEN\n\t\t\t\tfullver = fullver || ' [UNPACKAGED!]';\n\t\tEND IF;\n\tEND IF;\n\n\tIF rast_lib_ver IS NOT NULL THEN\n\t\tfullver = fullver || ' RASTER';\n\t\tIF rast_lib_ver != relproc THEN\n\t\t\tfullver = fullver || ' (raster lib from \"' || rast_lib_ver || '\" need upgrade)';\n\t\tEND IF;\n\t\tIF core_is_extension AND NOT EXISTS (\n\t\t\tSELECT * FROM pg_catalog.pg_extension\n\t\t\tWHERE extname = 'postgis_raster')\n\t\tTHEN\n\t\t\t\tfullver = fullver || ' [UNPACKAGED!]';\n\t\tEND IF;\n\tEND IF;\n\n\tIF rast_scr_ver IS NOT NULL AND rast_scr_ver != relproc THEN\n\t\tfullver = fullver || ' (raster procs from \"' || rast_scr_ver || '\" need upgrade)';\n\tEND IF;\n\n\tIF sfcgal_scr_ver IS NOT NULL AND sfcgal_scr_ver != relproc THEN\n\t\tfullver = fullver || ' (sfcgal procs from \"' || sfcgal_scr_ver || '\" need upgrade)';\n\tEND IF;\n\n\t-- Check for the presence of deprecated functions\n\tIF EXISTS ( SELECT oid FROM pg_catalog.pg_proc WHERE proname LIKE '%_deprecated_by_postgis_%' )\n\tTHEN\n\t\tfullver = fullver || ' (deprecated functions exist, upgrade is not complete)';\n\tEND IF;\n\n\tRETURN fullver;\nEND\n$function$\n"
  },
  {
    "function_name": "postgis_geos_noop",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_geos_noop(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$GEOSnoop$function$\n"
  },
  {
    "function_name": "postgis_geos_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_geos_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_geos_version$function$\n"
  },
  {
    "function_name": "postgis_getbbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_getbbox(geometry)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_to_BOX2DF$function$\n"
  },
  {
    "function_name": "postgis_hasbbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_hasbbox(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_hasBBOX$function$\n"
  },
  {
    "function_name": "postgis_index_supportfn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_index_supportfn(internal)\n RETURNS internal\n LANGUAGE c\nAS '$libdir/postgis-3', $function$postgis_index_supportfn$function$\n"
  },
  {
    "function_name": "postgis_lib_build_date",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_lib_build_date()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_lib_build_date$function$\n"
  },
  {
    "function_name": "postgis_lib_revision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_lib_revision()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_lib_revision$function$\n"
  },
  {
    "function_name": "postgis_lib_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_lib_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_lib_version$function$\n"
  },
  {
    "function_name": "postgis_libjson_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_libjson_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$postgis_libjson_version$function$\n"
  },
  {
    "function_name": "postgis_liblwgeom_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_liblwgeom_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_liblwgeom_version$function$\n"
  },
  {
    "function_name": "postgis_libprotobuf_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_libprotobuf_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE STRICT\nAS '$libdir/postgis-3', $function$postgis_libprotobuf_version$function$\n"
  },
  {
    "function_name": "postgis_libxml_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_libxml_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_libxml_version$function$\n"
  },
  {
    "function_name": "postgis_noop",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_noop(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_noop$function$\n"
  },
  {
    "function_name": "postgis_proj_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_proj_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_proj_version$function$\n"
  },
  {
    "function_name": "postgis_scripts_build_date",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_scripts_build_date()\n RETURNS text\n LANGUAGE sql\n IMMUTABLE\nAS $function$SELECT '2024-09-05 22:13:41'::text AS version$function$\n"
  },
  {
    "function_name": "postgis_scripts_installed",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_scripts_installed()\n RETURNS text\n LANGUAGE sql\n IMMUTABLE\nAS $function$ SELECT trim('3.3.7'::text || $rev$ a0c7967 $rev$) AS version $function$\n"
  },
  {
    "function_name": "postgis_scripts_released",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_scripts_released()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_scripts_released$function$\n"
  },
  {
    "function_name": "postgis_svn_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_svn_version()\n RETURNS text\n LANGUAGE sql\n IMMUTABLE\nAS $function$\n\tSELECT public._postgis_deprecate(\n\t\t'postgis_svn_version', 'postgis_lib_revision', '3.1.0');\n\tSELECT public.postgis_lib_revision();\n$function$\n"
  },
  {
    "function_name": "postgis_transform_geometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_transform_geometry(geom geometry, text, text, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$transform_geom$function$\n"
  },
  {
    "function_name": "postgis_type_name",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_type_name(geomname character varying, coord_dimension integer, use_new_name boolean DEFAULT true)\n RETURNS character varying\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$\n\tSELECT CASE WHEN $3 THEN new_name ELSE old_name END As geomname\n\tFROM\n\t( VALUES\n\t\t\t('GEOMETRY', 'Geometry', 2),\n\t\t\t('GEOMETRY', 'GeometryZ', 3),\n\t\t\t('GEOMETRYM', 'GeometryM', 3),\n\t\t\t('GEOMETRY', 'GeometryZM', 4),\n\n\t\t\t('GEOMETRYCOLLECTION', 'GeometryCollection', 2),\n\t\t\t('GEOMETRYCOLLECTION', 'GeometryCollectionZ', 3),\n\t\t\t('GEOMETRYCOLLECTIONM', 'GeometryCollectionM', 3),\n\t\t\t('GEOMETRYCOLLECTION', 'GeometryCollectionZM', 4),\n\n\t\t\t('POINT', 'Point', 2),\n\t\t\t('POINT', 'PointZ', 3),\n\t\t\t('POINTM','PointM', 3),\n\t\t\t('POINT', 'PointZM', 4),\n\n\t\t\t('MULTIPOINT','MultiPoint', 2),\n\t\t\t('MULTIPOINT','MultiPointZ', 3),\n\t\t\t('MULTIPOINTM','MultiPointM', 3),\n\t\t\t('MULTIPOINT','MultiPointZM', 4),\n\n\t\t\t('POLYGON', 'Polygon', 2),\n\t\t\t('POLYGON', 'PolygonZ', 3),\n\t\t\t('POLYGONM', 'PolygonM', 3),\n\t\t\t('POLYGON', 'PolygonZM', 4),\n\n\t\t\t('MULTIPOLYGON', 'MultiPolygon', 2),\n\t\t\t('MULTIPOLYGON', 'MultiPolygonZ', 3),\n\t\t\t('MULTIPOLYGONM', 'MultiPolygonM', 3),\n\t\t\t('MULTIPOLYGON', 'MultiPolygonZM', 4),\n\n\t\t\t('MULTILINESTRING', 'MultiLineString', 2),\n\t\t\t('MULTILINESTRING', 'MultiLineStringZ', 3),\n\t\t\t('MULTILINESTRINGM', 'MultiLineStringM', 3),\n\t\t\t('MULTILINESTRING', 'MultiLineStringZM', 4),\n\n\t\t\t('LINESTRING', 'LineString', 2),\n\t\t\t('LINESTRING', 'LineStringZ', 3),\n\t\t\t('LINESTRINGM', 'LineStringM', 3),\n\t\t\t('LINESTRING', 'LineStringZM', 4),\n\n\t\t\t('CIRCULARSTRING', 'CircularString', 2),\n\t\t\t('CIRCULARSTRING', 'CircularStringZ', 3),\n\t\t\t('CIRCULARSTRINGM', 'CircularStringM' ,3),\n\t\t\t('CIRCULARSTRING', 'CircularStringZM', 4),\n\n\t\t\t('COMPOUNDCURVE', 'CompoundCurve', 2),\n\t\t\t('COMPOUNDCURVE', 'CompoundCurveZ', 3),\n\t\t\t('COMPOUNDCURVEM', 'CompoundCurveM', 3),\n\t\t\t('COMPOUNDCURVE', 'CompoundCurveZM', 4),\n\n\t\t\t('CURVEPOLYGON', 'CurvePolygon', 2),\n\t\t\t('CURVEPOLYGON', 'CurvePolygonZ', 3),\n\t\t\t('CURVEPOLYGONM', 'CurvePolygonM', 3),\n\t\t\t('CURVEPOLYGON', 'CurvePolygonZM', 4),\n\n\t\t\t('MULTICURVE', 'MultiCurve', 2),\n\t\t\t('MULTICURVE', 'MultiCurveZ', 3),\n\t\t\t('MULTICURVEM', 'MultiCurveM', 3),\n\t\t\t('MULTICURVE', 'MultiCurveZM', 4),\n\n\t\t\t('MULTISURFACE', 'MultiSurface', 2),\n\t\t\t('MULTISURFACE', 'MultiSurfaceZ', 3),\n\t\t\t('MULTISURFACEM', 'MultiSurfaceM', 3),\n\t\t\t('MULTISURFACE', 'MultiSurfaceZM', 4),\n\n\t\t\t('POLYHEDRALSURFACE', 'PolyhedralSurface', 2),\n\t\t\t('POLYHEDRALSURFACE', 'PolyhedralSurfaceZ', 3),\n\t\t\t('POLYHEDRALSURFACEM', 'PolyhedralSurfaceM', 3),\n\t\t\t('POLYHEDRALSURFACE', 'PolyhedralSurfaceZM', 4),\n\n\t\t\t('TRIANGLE', 'Triangle', 2),\n\t\t\t('TRIANGLE', 'TriangleZ', 3),\n\t\t\t('TRIANGLEM', 'TriangleM', 3),\n\t\t\t('TRIANGLE', 'TriangleZM', 4),\n\n\t\t\t('TIN', 'Tin', 2),\n\t\t\t('TIN', 'TinZ', 3),\n\t\t\t('TINM', 'TinM', 3),\n\t\t\t('TIN', 'TinZM', 4) )\n\t\t\t As g(old_name, new_name, coord_dimension)\n\tWHERE (upper(old_name) = upper($1) OR upper(new_name) = upper($1))\n\t\tAND coord_dimension = $2;\n$function$\n"
  },
  {
    "function_name": "postgis_typmod_dims",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_typmod_dims(integer)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$postgis_typmod_dims$function$\n"
  },
  {
    "function_name": "postgis_typmod_srid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_typmod_srid(integer)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$postgis_typmod_srid$function$\n"
  },
  {
    "function_name": "postgis_typmod_type",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_typmod_type(integer)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$postgis_typmod_type$function$\n"
  },
  {
    "function_name": "postgis_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_version$function$\n"
  },
  {
    "function_name": "postgis_wagyu_version",
    "full_definition": "CREATE OR REPLACE FUNCTION public.postgis_wagyu_version()\n RETURNS text\n LANGUAGE c\n IMMUTABLE\nAS '$libdir/postgis-3', $function$postgis_wagyu_version$function$\n"
  },
  {
    "function_name": "reset_job_pool_status",
    "full_definition": "CREATE OR REPLACE FUNCTION public.reset_job_pool_status()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    UPDATE job_pool \r\n    SET jp_status = 'Call', \r\n        updated_at = NOW()\r\n    WHERE work_order = OLD.work_order;\r\n    RETURN OLD;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "schedule_job",
    "full_definition": "CREATE OR REPLACE FUNCTION public.schedule_job(p_work_order bigint, p_technician_id bigint, p_start_on date)\n RETURNS TABLE(work_order bigint, assigned_tech_id bigint, assigned_tech_name text, start_date date)\n LANGUAGE plpgsql\nAS $function$\ndeclare\n    v_job  job_pool%rowtype;\n    v_tech technicians%rowtype;\nbegin\n    -- 1) fetch job + tech rows and sanitycheck\n    select * into v_job  from job_pool  where work_order   = p_work_order;\n    if v_job.status = 'scheduled' then\n        raise exception 'Workorder % already scheduled', p_work_order;\n    end if;\n\n    select * into v_tech from technicians where technician_id = p_technician_id;\n\n    -- 2) insert into scheduled_jobs\n    insert into scheduled_jobs (\n        work_order, duration, site_name, sow_1, site_city, site_state,\n        assigned_tech_id, assigned_tech_name, start_date, due_date\n    )\n    values (\n        v_job.work_order, v_job.duration, v_job.site_name, v_job.sow_1,\n        v_job.site_city, v_job.site_state,\n        v_tech.technician_id, v_tech.name, p_start_on, v_job.due_date\n    );\n\n    -- 3) mark job_pool row as scheduled\n    update job_pool\n       set status = 'scheduled'\n     where work_order = p_work_order;\n\n    -- 4) return the row we just wrote\n    return query\n        select work_order, assigned_tech_id, assigned_tech_name, start_date\n          from scheduled_jobs\n         where work_order = p_work_order;\nend;\n$function$\n"
  },
  {
    "function_name": "set_timestamp",
    "full_definition": "CREATE OR REPLACE FUNCTION public.set_timestamp()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  NEW.updated_at := now();\r\n  RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "spheroid_in",
    "full_definition": "CREATE OR REPLACE FUNCTION public.spheroid_in(cstring)\n RETURNS spheroid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$ellipsoid_in$function$\n"
  },
  {
    "function_name": "spheroid_out",
    "full_definition": "CREATE OR REPLACE FUNCTION public.spheroid_out(spheroid)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$ellipsoid_out$function$\n"
  },
  {
    "function_name": "st_3dclosestpoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dclosestpoint(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_closestpoint3d$function$\n"
  },
  {
    "function_name": "st_3ddfullywithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3ddfullywithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$LWGEOM_dfullywithin3d$function$\n"
  },
  {
    "function_name": "st_3ddistance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3ddistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_3DDistance$function$\n"
  },
  {
    "function_name": "st_3ddwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3ddwithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$LWGEOM_dwithin3d$function$\n"
  },
  {
    "function_name": "st_3dintersects",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dintersects(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$ST_3DIntersects$function$\n"
  },
  {
    "function_name": "st_3dlength",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dlength(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_length_linestring$function$\n"
  },
  {
    "function_name": "st_3dlineinterpolatepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dlineinterpolatepoint(geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_3DLineInterpolatePoint$function$\n"
  },
  {
    "function_name": "st_3dlongestline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dlongestline(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_longestline3d$function$\n"
  },
  {
    "function_name": "st_3dmakebox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dmakebox(geom1 geometry, geom2 geometry)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX3D_construct$function$\n"
  },
  {
    "function_name": "st_3dmaxdistance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dmaxdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_maxdistance3d$function$\n"
  },
  {
    "function_name": "st_3dperimeter",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dperimeter(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_perimeter_poly$function$\n"
  },
  {
    "function_name": "st_3dshortestline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dshortestline(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_shortestline3d$function$\n"
  },
  {
    "function_name": "st_addmeasure",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_addmeasure(geometry, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_AddMeasure$function$\n"
  },
  {
    "function_name": "st_addpoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_addpoint(geom1 geometry, geom2 geometry, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_addpoint$function$\n"
  },
  {
    "function_name": "st_addpoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_addpoint(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_addpoint$function$\n"
  },
  {
    "function_name": "st_affine",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_affine(geometry, double precision, double precision, double precision, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1,  $2, $3, 0,  $4, $5, 0,  0, 0, 1,  $6, $7, 0)$function$\n"
  },
  {
    "function_name": "st_affine",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_affine(geometry, double precision, double precision, double precision, double precision, double precision, double precision, double precision, double precision, double precision, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_affine$function$\n"
  },
  {
    "function_name": "st_angle",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_angle(line1 geometry, line2 geometry)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT ST_Angle(St_StartPoint($1), ST_EndPoint($1), St_StartPoint($2), ST_EndPoint($2))$function$\n"
  },
  {
    "function_name": "st_angle",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_angle(pt1 geometry, pt2 geometry, pt3 geometry, pt4 geometry DEFAULT '0101000000000000000000F87F000000000000F87F'::geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_angle$function$\n"
  },
  {
    "function_name": "st_area",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_area(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Area$function$\n"
  },
  {
    "function_name": "st_area",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_area(geog geography, use_spheroid boolean DEFAULT true)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_area$function$\n"
  },
  {
    "function_name": "st_area",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_area(text)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Area($1::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_area2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_area2d(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Area$function$\n"
  },
  {
    "function_name": "st_asbinary",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asbinary(geography, text)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_asBinary$function$\n"
  },
  {
    "function_name": "st_asbinary",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asbinary(geography)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_asBinary$function$\n"
  },
  {
    "function_name": "st_asbinary",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asbinary(geometry)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_asBinary$function$\n"
  },
  {
    "function_name": "st_asbinary",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asbinary(geometry, text)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_asBinary$function$\n"
  },
  {
    "function_name": "st_asencodedpolyline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asencodedpolyline(geom geometry, nprecision integer DEFAULT 5)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asEncodedPolyline$function$\n"
  },
  {
    "function_name": "st_asewkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asewkb(geometry, text)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$WKBFromLWGEOM$function$\n"
  },
  {
    "function_name": "st_asewkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asewkb(geometry)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$WKBFromLWGEOM$function$\n"
  },
  {
    "function_name": "st_asewkt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asewkt(geography)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asEWKT$function$\n"
  },
  {
    "function_name": "st_asewkt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asewkt(geography, integer)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asEWKT$function$\n"
  },
  {
    "function_name": "st_asewkt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asewkt(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asEWKT$function$\n"
  },
  {
    "function_name": "st_asewkt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asewkt(geometry, integer)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asEWKT$function$\n"
  },
  {
    "function_name": "st_asewkt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asewkt(text)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$ SELECT public.ST_AsEWKT($1::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_asgeojson",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgeojson(geog geography, maxdecimaldigits integer DEFAULT 9, options integer DEFAULT 0)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_as_geojson$function$\n"
  },
  {
    "function_name": "st_asgeojson",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgeojson(geom geometry, maxdecimaldigits integer DEFAULT 9, options integer DEFAULT 8)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asGeoJson$function$\n"
  },
  {
    "function_name": "st_asgeojson",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgeojson(r record, geom_column text DEFAULT ''::text, maxdecimaldigits integer DEFAULT 9, pretty_bool boolean DEFAULT false)\n RETURNS text\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_AsGeoJsonRow$function$\n"
  },
  {
    "function_name": "st_asgeojson",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgeojson(text)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$ SELECT public.ST_AsGeoJson($1::public.geometry, 9, 0);  $function$\n"
  },
  {
    "function_name": "st_asgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgml(version integer, geom geometry, maxdecimaldigits integer DEFAULT 15, options integer DEFAULT 0, nprefix text DEFAULT NULL::text, id text DEFAULT NULL::text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asGML$function$\n"
  },
  {
    "function_name": "st_asgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgml(text)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$ SELECT public._ST_AsGML(2,$1::public.geometry,15,0, NULL, NULL);  $function$\n"
  },
  {
    "function_name": "st_asgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgml(geog geography, maxdecimaldigits integer DEFAULT 15, options integer DEFAULT 0, nprefix text DEFAULT 'gml'::text, id text DEFAULT ''::text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_as_gml$function$\n"
  },
  {
    "function_name": "st_asgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgml(version integer, geog geography, maxdecimaldigits integer DEFAULT 15, options integer DEFAULT 0, nprefix text DEFAULT 'gml'::text, id text DEFAULT ''::text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_as_gml$function$\n"
  },
  {
    "function_name": "st_asgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asgml(geom geometry, maxdecimaldigits integer DEFAULT 15, options integer DEFAULT 0)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asGML$function$\n"
  },
  {
    "function_name": "st_ashexewkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_ashexewkb(geometry, text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_asHEXEWKB$function$\n"
  },
  {
    "function_name": "st_ashexewkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_ashexewkb(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_asHEXEWKB$function$\n"
  },
  {
    "function_name": "st_askml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_askml(geog geography, maxdecimaldigits integer DEFAULT 15, nprefix text DEFAULT ''::text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_as_kml$function$\n"
  },
  {
    "function_name": "st_askml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_askml(text)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$ SELECT public.ST_AsKML($1::public.geometry, 15);  $function$\n"
  },
  {
    "function_name": "st_askml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_askml(geom geometry, maxdecimaldigits integer DEFAULT 15, nprefix text DEFAULT ''::text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asKML$function$\n"
  },
  {
    "function_name": "st_aslatlontext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_aslatlontext(geom geometry, tmpl text DEFAULT ''::text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_to_latlon$function$\n"
  },
  {
    "function_name": "st_asmarc21",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asmarc21(geom geometry, format text DEFAULT 'hdddmmss'::text)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_AsMARC21$function$\n"
  },
  {
    "function_name": "st_asmvtgeom",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asmvtgeom(geom geometry, bounds box2d, extent integer DEFAULT 4096, buffer integer DEFAULT 256, clip_geom boolean DEFAULT true)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$ST_AsMVTGeom$function$\n"
  },
  {
    "function_name": "st_assvg",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_assvg(geom geometry, rel integer DEFAULT 0, maxdecimaldigits integer DEFAULT 15)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asSVG$function$\n"
  },
  {
    "function_name": "st_assvg",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_assvg(geog geography, rel integer DEFAULT 0, maxdecimaldigits integer DEFAULT 15)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_as_svg$function$\n"
  },
  {
    "function_name": "st_assvg",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_assvg(text)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$ SELECT public.ST_AsSVG($1::public.geometry,0,15);  $function$\n"
  },
  {
    "function_name": "st_astext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_astext(geography, integer)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asText$function$\n"
  },
  {
    "function_name": "st_astext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_astext(text)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$ SELECT public.ST_AsText($1::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_astext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_astext(geography)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asText$function$\n"
  },
  {
    "function_name": "st_astext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_astext(geometry, integer)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asText$function$\n"
  },
  {
    "function_name": "st_astext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_astext(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_asText$function$\n"
  },
  {
    "function_name": "st_astwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_astwkb(geom geometry[], ids bigint[], prec integer DEFAULT NULL::integer, prec_z integer DEFAULT NULL::integer, prec_m integer DEFAULT NULL::integer, with_sizes boolean DEFAULT NULL::boolean, with_boxes boolean DEFAULT NULL::boolean)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$TWKBFromLWGEOMArray$function$\n"
  },
  {
    "function_name": "st_astwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_astwkb(geom geometry, prec integer DEFAULT NULL::integer, prec_z integer DEFAULT NULL::integer, prec_m integer DEFAULT NULL::integer, with_sizes boolean DEFAULT NULL::boolean, with_boxes boolean DEFAULT NULL::boolean)\n RETURNS bytea\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$TWKBFromLWGEOM$function$\n"
  },
  {
    "function_name": "st_asx3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_asx3d(geom geometry, maxdecimaldigits integer DEFAULT 15, options integer DEFAULT 0)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE COST 500\nAS $function$SELECT public._ST_AsX3D(3,$1,$2,$3,'');$function$\n"
  },
  {
    "function_name": "st_azimuth",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_azimuth(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_azimuth$function$\n"
  },
  {
    "function_name": "st_azimuth",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_azimuth(geog1 geography, geog2 geography)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_azimuth$function$\n"
  },
  {
    "function_name": "st_bdmpolyfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_bdmpolyfromtext(text, integer)\n RETURNS geometry\n LANGUAGE plpgsql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$\nDECLARE\n\tgeomtext alias for $1;\n\tsrid alias for $2;\n\tmline public.geometry;\n\tgeom public.geometry;\nBEGIN\n\tmline := public.ST_MultiLineStringFromText(geomtext, srid);\n\n\tIF mline IS NULL\n\tTHEN\n\t\tRAISE EXCEPTION 'Input is not a MultiLinestring';\n\tEND IF;\n\n\tgeom := public.ST_Multi(public.ST_BuildArea(mline));\n\n\tRETURN geom;\nEND;\n$function$\n"
  },
  {
    "function_name": "st_bdpolyfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_bdpolyfromtext(text, integer)\n RETURNS geometry\n LANGUAGE plpgsql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$\nDECLARE\n\tgeomtext alias for $1;\n\tsrid alias for $2;\n\tmline public.geometry;\n\tgeom public.geometry;\nBEGIN\n\tmline := public.ST_MultiLineStringFromText(geomtext, srid);\n\n\tIF mline IS NULL\n\tTHEN\n\t\tRAISE EXCEPTION 'Input is not a MultiLinestring';\n\tEND IF;\n\n\tgeom := public.ST_BuildArea(mline);\n\n\tIF public.GeometryType(geom) != 'POLYGON'\n\tTHEN\n\t\tRAISE EXCEPTION 'Input returns more then a single polygon, try using BdMPolyFromText instead';\n\tEND IF;\n\n\tRETURN geom;\nEND;\n$function$\n"
  },
  {
    "function_name": "st_boundary",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_boundary(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$boundary$function$\n"
  },
  {
    "function_name": "st_boundingdiagonal",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_boundingdiagonal(geom geometry, fits boolean DEFAULT false)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$ST_BoundingDiagonal$function$\n"
  },
  {
    "function_name": "st_box2dfromgeohash",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_box2dfromgeohash(text, integer DEFAULT NULL::integer)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$box2d_from_geohash$function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(text, double precision, text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Buffer($1::public.geometry, $2, $3);  $function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(geom geometry, radius double precision, options text DEFAULT ''::text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$buffer$function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(geom geometry, radius double precision, quadsegs integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$ SELECT public.ST_Buffer($1, $2, CAST('quad_segs='||CAST($3 AS text) as text)) $function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(geography, double precision)\n RETURNS geography\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$SELECT public.geography(public.ST_Transform(public.ST_Buffer(public.ST_Transform(public.geometry($1), public._ST_BestSRID($1)), $2), public.ST_SRID($1)))$function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(geography, double precision, integer)\n RETURNS geography\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$SELECT public.geography(public.ST_Transform(public.ST_Buffer(public.ST_Transform(public.geometry($1), public._ST_BestSRID($1)), $2, $3), public.ST_SRID($1)))$function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(geography, double precision, text)\n RETURNS geography\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$SELECT public.geography(public.ST_Transform(public.ST_Buffer(public.ST_Transform(public.geometry($1), public._ST_BestSRID($1)), $2, $3), public.ST_SRID($1)))$function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(text, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Buffer($1::public.geometry, $2);  $function$\n"
  },
  {
    "function_name": "st_buffer",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buffer(text, double precision, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Buffer($1::public.geometry, $2, $3);  $function$\n"
  },
  {
    "function_name": "st_buildarea",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_buildarea(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_BuildArea$function$\n"
  },
  {
    "function_name": "st_centroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_centroid(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$centroid$function$\n"
  },
  {
    "function_name": "st_centroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_centroid(geography, use_spheroid boolean DEFAULT true)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_centroid$function$\n"
  },
  {
    "function_name": "st_centroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_centroid(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Centroid($1::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_chaikinsmoothing",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_chaikinsmoothing(geometry, integer DEFAULT 1, boolean DEFAULT false)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_ChaikinSmoothing$function$\n"
  },
  {
    "function_name": "st_cleangeometry",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_cleangeometry(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_CleanGeometry$function$\n"
  },
  {
    "function_name": "st_clipbybox2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_clipbybox2d(geom geometry, box box2d)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_ClipByBox2d$function$\n"
  },
  {
    "function_name": "st_closestpoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_closestpoint(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_closestpoint$function$\n"
  },
  {
    "function_name": "st_closestpointofapproach",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_closestpointofapproach(geometry, geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_ClosestPointOfApproach$function$\n"
  },
  {
    "function_name": "st_clusterintersecting",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_clusterintersecting(geometry[])\n RETURNS geometry[]\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$clusterintersecting_garray$function$\n"
  },
  {
    "function_name": "st_clusterwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_clusterwithin(geometry[], double precision)\n RETURNS geometry[]\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$cluster_within_distance_garray$function$\n"
  },
  {
    "function_name": "st_collect",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_collect(geometry[])\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_collect_garray$function$\n"
  },
  {
    "function_name": "st_collect",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_collect(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_collect$function$\n"
  },
  {
    "function_name": "st_collectionextract",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_collectionextract(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_CollectionExtract$function$\n"
  },
  {
    "function_name": "st_collectionextract",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_collectionextract(geometry, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_CollectionExtract$function$\n"
  },
  {
    "function_name": "st_collectionhomogenize",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_collectionhomogenize(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_CollectionHomogenize$function$\n"
  },
  {
    "function_name": "st_combinebbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_combinebbox(box3d, geometry)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$BOX3D_combine$function$\n"
  },
  {
    "function_name": "st_combinebbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_combinebbox(box3d, box3d)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$BOX3D_combine_BOX3D$function$\n"
  },
  {
    "function_name": "st_combinebbox",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_combinebbox(box2d, geometry)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE\nAS '$libdir/postgis-3', $function$BOX2D_combine$function$\n"
  },
  {
    "function_name": "st_concavehull",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_concavehull(param_geom geometry, param_pctconvex double precision, param_allow_holes boolean DEFAULT false)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_ConcaveHull$function$\n"
  },
  {
    "function_name": "st_contains",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_contains(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$contains$function$\n"
  },
  {
    "function_name": "st_containsproperly",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_containsproperly(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$containsproperly$function$\n"
  },
  {
    "function_name": "st_convexhull",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_convexhull(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$convexhull$function$\n"
  },
  {
    "function_name": "st_coorddim",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_coorddim(geometry geometry)\n RETURNS smallint\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_ndims$function$\n"
  },
  {
    "function_name": "st_coveredby",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_coveredby(geog1 geography, geog2 geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$geography_coveredby$function$\n"
  },
  {
    "function_name": "st_coveredby",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_coveredby(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$coveredby$function$\n"
  },
  {
    "function_name": "st_coveredby",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_coveredby(text, text)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE\nAS $function$ SELECT public.ST_CoveredBy($1::public.geometry, $2::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_covers",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_covers(text, text)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE\nAS $function$ SELECT public.ST_Covers($1::public.geometry, $2::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_covers",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_covers(geog1 geography, geog2 geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$geography_covers$function$\n"
  },
  {
    "function_name": "st_covers",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_covers(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$covers$function$\n"
  },
  {
    "function_name": "st_cpawithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_cpawithin(geometry, geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_CPAWithin$function$\n"
  },
  {
    "function_name": "st_crosses",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_crosses(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$crosses$function$\n"
  },
  {
    "function_name": "st_curvetoline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_curvetoline(geom geometry, tol double precision DEFAULT 32, toltype integer DEFAULT 0, flags integer DEFAULT 0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_CurveToLine$function$\n"
  },
  {
    "function_name": "st_delaunaytriangles",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_delaunaytriangles(g1 geometry, tolerance double precision DEFAULT 0.0, flags integer DEFAULT 0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_DelaunayTriangles$function$\n"
  },
  {
    "function_name": "st_dfullywithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dfullywithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$LWGEOM_dfullywithin$function$\n"
  },
  {
    "function_name": "st_difference",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_difference(geom1 geometry, geom2 geometry, gridsize double precision DEFAULT '-1.0'::numeric)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Difference$function$\n"
  },
  {
    "function_name": "st_dimension",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dimension(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_dimension$function$\n"
  },
  {
    "function_name": "st_disjoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_disjoint(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$disjoint$function$\n"
  },
  {
    "function_name": "st_distance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distance(text, text)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Distance($1::public.geometry, $2::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_distance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distance(geog1 geography, geog2 geography, use_spheroid boolean DEFAULT true)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_distance$function$\n"
  },
  {
    "function_name": "st_distance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Distance$function$\n"
  },
  {
    "function_name": "st_distancecpa",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancecpa(geometry, geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_DistanceCPA$function$\n"
  },
  {
    "function_name": "st_distancesphere",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancesphere(geom1 geometry, geom2 geometry, radius double precision)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_distance_sphere$function$\n"
  },
  {
    "function_name": "st_distancesphere",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancesphere(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$select public.ST_distance( public.geography($1), public.geography($2),false)$function$\n"
  },
  {
    "function_name": "st_distancespheroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancespheroid(geom1 geometry, geom2 geometry, spheroid)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_distance_ellipsoid$function$\n"
  },
  {
    "function_name": "st_distancespheroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancespheroid(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_distance_ellipsoid$function$\n"
  },
  {
    "function_name": "st_dump",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dump(geometry)\n RETURNS SETOF geometry_dump\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_dump$function$\n"
  },
  {
    "function_name": "st_dumppoints",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dumppoints(geometry)\n RETURNS SETOF geometry_dump\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_dumppoints$function$\n"
  },
  {
    "function_name": "st_dumprings",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dumprings(geometry)\n RETURNS SETOF geometry_dump\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_dump_rings$function$\n"
  },
  {
    "function_name": "st_dumpsegments",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dumpsegments(geometry)\n RETURNS SETOF geometry_dump\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_dumpsegments$function$\n"
  },
  {
    "function_name": "st_dwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dwithin(geog1 geography, geog2 geography, tolerance double precision, use_spheroid boolean DEFAULT true)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$geography_dwithin$function$\n"
  },
  {
    "function_name": "st_dwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dwithin(geom1 geometry, geom2 geometry, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$LWGEOM_dwithin$function$\n"
  },
  {
    "function_name": "st_dwithin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_dwithin(text, text, double precision)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE\nAS $function$ SELECT public.ST_DWithin($1::public.geometry, $2::public.geometry, $3);  $function$\n"
  },
  {
    "function_name": "st_endpoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_endpoint(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_endpoint_linestring$function$\n"
  },
  {
    "function_name": "st_envelope",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_envelope(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_envelope$function$\n"
  },
  {
    "function_name": "st_equals",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_equals(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$ST_Equals$function$\n"
  },
  {
    "function_name": "st_estimatedextent",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_estimatedextent(text, text)\n RETURNS box2d\n LANGUAGE c\n STABLE STRICT SECURITY DEFINER\nAS '$libdir/postgis-3', $function$gserialized_estimated_extent$function$\n"
  },
  {
    "function_name": "st_estimatedextent",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_estimatedextent(text, text, text, boolean)\n RETURNS box2d\n LANGUAGE c\n STABLE STRICT SECURITY DEFINER\nAS '$libdir/postgis-3', $function$gserialized_estimated_extent$function$\n"
  },
  {
    "function_name": "st_estimatedextent",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_estimatedextent(text, text, text)\n RETURNS box2d\n LANGUAGE c\n STABLE STRICT SECURITY DEFINER\nAS '$libdir/postgis-3', $function$gserialized_estimated_extent$function$\n"
  },
  {
    "function_name": "st_expand",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_expand(box2d, double precision)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX2D_expand$function$\n"
  },
  {
    "function_name": "st_expand",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_expand(box3d, double precision)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX3D_expand$function$\n"
  },
  {
    "function_name": "st_expand",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_expand(box box3d, dx double precision, dy double precision, dz double precision DEFAULT 0)\n RETURNS box3d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$BOX3D_expand$function$\n"
  },
  {
    "function_name": "st_expand",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_expand(geom geometry, dx double precision, dy double precision, dz double precision DEFAULT 0, dm double precision DEFAULT 0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_expand$function$\n"
  },
  {
    "function_name": "st_expand",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_expand(geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_expand$function$\n"
  },
  {
    "function_name": "st_expand",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_expand(box box2d, dx double precision, dy double precision)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX2D_expand$function$\n"
  },
  {
    "function_name": "st_exteriorring",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_exteriorring(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_exteriorring_polygon$function$\n"
  },
  {
    "function_name": "st_filterbym",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_filterbym(geometry, double precision, double precision DEFAULT NULL::double precision, boolean DEFAULT false)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_FilterByM$function$\n"
  },
  {
    "function_name": "st_findextent",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_findextent(text, text, text)\n RETURNS box2d\n LANGUAGE plpgsql\n STABLE PARALLEL SAFE STRICT\nAS $function$\nDECLARE\n\tschemaname alias for $1;\n\ttablename alias for $2;\n\tcolumnname alias for $3;\n\tmyrec RECORD;\nBEGIN\n\tFOR myrec IN EXECUTE 'SELECT public.ST_Extent(\"' || columnname || '\") As extent FROM \"' || schemaname || '\".\"' || tablename || '\"' LOOP\n\t\treturn myrec.extent;\n\tEND LOOP;\nEND;\n$function$\n"
  },
  {
    "function_name": "st_findextent",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_findextent(text, text)\n RETURNS box2d\n LANGUAGE plpgsql\n STABLE PARALLEL SAFE STRICT\nAS $function$\nDECLARE\n\ttablename alias for $1;\n\tcolumnname alias for $2;\n\tmyrec RECORD;\n\nBEGIN\n\tFOR myrec IN EXECUTE 'SELECT public.ST_Extent(\"' || columnname || '\") As extent FROM \"' || tablename || '\"' LOOP\n\t\treturn myrec.extent;\n\tEND LOOP;\nEND;\n$function$\n"
  },
  {
    "function_name": "st_flipcoordinates",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_flipcoordinates(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_FlipCoordinates$function$\n"
  },
  {
    "function_name": "st_force2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_force2d(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_2d$function$\n"
  },
  {
    "function_name": "st_force3d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_force3d(geom geometry, zvalue double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Force3DZ($1, $2)$function$\n"
  },
  {
    "function_name": "st_force3dm",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_force3dm(geom geometry, mvalue double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_3dm$function$\n"
  },
  {
    "function_name": "st_force3dz",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_force3dz(geom geometry, zvalue double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_3dz$function$\n"
  },
  {
    "function_name": "st_force4d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_force4d(geom geometry, zvalue double precision DEFAULT 0.0, mvalue double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_4d$function$\n"
  },
  {
    "function_name": "st_forcecollection",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_forcecollection(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_collection$function$\n"
  },
  {
    "function_name": "st_forcecurve",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_forcecurve(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_force_curve$function$\n"
  },
  {
    "function_name": "st_forcepolygonccw",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_forcepolygonccw(geometry)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$ SELECT public.ST_Reverse(public.ST_ForcePolygonCW($1)) $function$\n"
  },
  {
    "function_name": "st_forcepolygoncw",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_forcepolygoncw(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_clockwise_poly$function$\n"
  },
  {
    "function_name": "st_forcerhr",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_forcerhr(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_clockwise_poly$function$\n"
  },
  {
    "function_name": "st_forcesfs",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_forcesfs(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_force_sfs$function$\n"
  },
  {
    "function_name": "st_forcesfs",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_forcesfs(geometry, version text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_force_sfs$function$\n"
  },
  {
    "function_name": "st_frechetdistance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_frechetdistance(geom1 geometry, geom2 geometry, double precision DEFAULT '-1'::integer)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_FrechetDistance$function$\n"
  },
  {
    "function_name": "st_fromflatgeobuf",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_fromflatgeobuf(anyelement, bytea)\n RETURNS SETOF anyelement\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$pgis_fromflatgeobuf$function$\n"
  },
  {
    "function_name": "st_fromflatgeobuftotable",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_fromflatgeobuftotable(text, text, bytea)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$pgis_tablefromflatgeobuf$function$\n"
  },
  {
    "function_name": "st_generatepoints",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_generatepoints(area geometry, npoints integer)\n RETURNS geometry\n LANGUAGE c\n PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_GeneratePoints$function$\n"
  },
  {
    "function_name": "st_generatepoints",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_generatepoints(area geometry, npoints integer, seed integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_GeneratePoints$function$\n"
  },
  {
    "function_name": "st_geogfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geogfromtext(text)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_from_text$function$\n"
  },
  {
    "function_name": "st_geogfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geogfromwkb(bytea)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$geography_from_binary$function$\n"
  },
  {
    "function_name": "st_geographyfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geographyfromtext(text)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_from_text$function$\n"
  },
  {
    "function_name": "st_geohash",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geohash(geom geometry, maxchars integer DEFAULT 0)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_GeoHash$function$\n"
  },
  {
    "function_name": "st_geohash",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geohash(geog geography, maxchars integer DEFAULT 0)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_GeoHash$function$\n"
  },
  {
    "function_name": "st_geomcollfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomcollfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE\n\tWHEN public.geometrytype(public.ST_GeomFromText($1)) = 'GEOMETRYCOLLECTION'\n\tTHEN public.ST_GeomFromText($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_geomcollfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomcollfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE\n\tWHEN public.geometrytype(public.ST_GeomFromText($1, $2)) = 'GEOMETRYCOLLECTION'\n\tTHEN public.ST_GeomFromText($1,$2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_geomcollfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomcollfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE\n\tWHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'GEOMETRYCOLLECTION'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_geomcollfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomcollfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE\n\tWHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'GEOMETRYCOLLECTION'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_geometricmedian",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geometricmedian(g geometry, tolerance double precision DEFAULT NULL::double precision, max_iter integer DEFAULT 10000, fail_if_not_converged boolean DEFAULT false)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 10000\nAS '$libdir/postgis-3', $function$ST_GeometricMedian$function$\n"
  },
  {
    "function_name": "st_geometryfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geometryfromtext(text, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_from_text$function$\n"
  },
  {
    "function_name": "st_geometryfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geometryfromtext(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_from_text$function$\n"
  },
  {
    "function_name": "st_geometryn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geometryn(geometry, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_geometryn_collection$function$\n"
  },
  {
    "function_name": "st_geometrytype",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geometrytype(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$geometry_geometrytype$function$\n"
  },
  {
    "function_name": "st_geomfromewkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromewkb(bytea)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOMFromEWKB$function$\n"
  },
  {
    "function_name": "st_geomfromewkt",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromewkt(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$parse_WKT_lwgeom$function$\n"
  },
  {
    "function_name": "st_geomfromgeohash",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromgeohash(text, integer DEFAULT NULL::integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE COST 50\nAS $function$ SELECT CAST(public.ST_Box2dFromGeoHash($1, $2) AS geometry); $function$\n"
  },
  {
    "function_name": "st_geomfromgeojson",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromgeojson(json)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_GeomFromGeoJson($1::text)$function$\n"
  },
  {
    "function_name": "st_geomfromgeojson",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromgeojson(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geom_from_geojson$function$\n"
  },
  {
    "function_name": "st_geomfromgeojson",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromgeojson(jsonb)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_GeomFromGeoJson($1::text)$function$\n"
  },
  {
    "function_name": "st_geomfromgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromgml(text, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geom_from_gml$function$\n"
  },
  {
    "function_name": "st_geomfromgml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromgml(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public._ST_GeomFromGML($1, 0)$function$\n"
  },
  {
    "function_name": "st_geomfromkml",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromkml(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geom_from_kml$function$\n"
  },
  {
    "function_name": "st_geomfrommarc21",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfrommarc21(marc21xml text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_GeomFromMARC21$function$\n"
  },
  {
    "function_name": "st_geomfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromtext(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_from_text$function$\n"
  },
  {
    "function_name": "st_geomfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromtext(text, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_from_text$function$\n"
  },
  {
    "function_name": "st_geomfromtwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromtwkb(bytea)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOMFromTWKB$function$\n"
  },
  {
    "function_name": "st_geomfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_SetSRID(public.ST_GeomFromWKB($1), $2)$function$\n"
  },
  {
    "function_name": "st_geomfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_geomfromwkb(bytea)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_from_WKB$function$\n"
  },
  {
    "function_name": "st_gmltosql",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_gmltosql(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public._ST_GeomFromGML($1, 0)$function$\n"
  },
  {
    "function_name": "st_gmltosql",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_gmltosql(text, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geom_from_gml$function$\n"
  },
  {
    "function_name": "st_hasarc",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_hasarc(geometry geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_has_arc$function$\n"
  },
  {
    "function_name": "st_hausdorffdistance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_hausdorffdistance(geom1 geometry, geom2 geometry, double precision)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$hausdorffdistancedensify$function$\n"
  },
  {
    "function_name": "st_hausdorffdistance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_hausdorffdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$hausdorffdistance$function$\n"
  },
  {
    "function_name": "st_hexagon",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_hexagon(size double precision, cell_i integer, cell_j integer, origin geometry DEFAULT '010100000000000000000000000000000000000000'::geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Hexagon$function$\n"
  },
  {
    "function_name": "st_hexagongrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_hexagongrid(size double precision, bounds geometry, OUT geom geometry, OUT i integer, OUT j integer)\n RETURNS SETOF record\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_ShapeGrid$function$\n"
  },
  {
    "function_name": "st_interiorringn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_interiorringn(geometry, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_interiorringn_polygon$function$\n"
  },
  {
    "function_name": "st_interpolatepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_interpolatepoint(line geometry, point geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_InterpolatePoint$function$\n"
  },
  {
    "function_name": "st_intersection",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_intersection(text, text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$ SELECT public.ST_Intersection($1::public.geometry, $2::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_intersection",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_intersection(geography, geography)\n RETURNS geography\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$SELECT public.geography(public.ST_Transform(public.ST_Intersection(public.ST_Transform(public.geometry($1), public._ST_BestSRID($1, $2)), public.ST_Transform(public.geometry($2), public._ST_BestSRID($1, $2))), public.ST_SRID($1)))$function$\n"
  },
  {
    "function_name": "st_intersection",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_intersection(geom1 geometry, geom2 geometry, gridsize double precision DEFAULT '-1'::integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Intersection$function$\n"
  },
  {
    "function_name": "st_intersects",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_intersects(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$ST_Intersects$function$\n"
  },
  {
    "function_name": "st_intersects",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_intersects(geog1 geography, geog2 geography)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$geography_intersects$function$\n"
  },
  {
    "function_name": "st_intersects",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_intersects(text, text)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE\nAS $function$ SELECT public.ST_Intersects($1::public.geometry, $2::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_isclosed",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isclosed(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_isclosed$function$\n"
  },
  {
    "function_name": "st_iscollection",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_iscollection(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$ST_IsCollection$function$\n"
  },
  {
    "function_name": "st_isempty",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isempty(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_isempty$function$\n"
  },
  {
    "function_name": "st_ispolygonccw",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_ispolygonccw(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_IsPolygonCCW$function$\n"
  },
  {
    "function_name": "st_ispolygoncw",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_ispolygoncw(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_IsPolygonCW$function$\n"
  },
  {
    "function_name": "st_isring",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isring(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$isring$function$\n"
  },
  {
    "function_name": "st_issimple",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_issimple(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$issimple$function$\n"
  },
  {
    "function_name": "st_isvalid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isvalid(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$isvalid$function$\n"
  },
  {
    "function_name": "st_isvalid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isvalid(geometry, integer)\n RETURNS boolean\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$SELECT (public.ST_isValidDetail($1, $2)).valid$function$\n"
  },
  {
    "function_name": "st_isvaliddetail",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isvaliddetail(geom geometry, flags integer DEFAULT 0)\n RETURNS valid_detail\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$isvaliddetail$function$\n"
  },
  {
    "function_name": "st_isvalidreason",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isvalidreason(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$isvalidreason$function$\n"
  },
  {
    "function_name": "st_isvalidreason",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isvalidreason(geometry, integer)\n RETURNS text\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$\n\tSELECT CASE WHEN valid THEN 'Valid Geometry' ELSE reason END FROM (\n\t\tSELECT (public.ST_isValidDetail($1, $2)).*\n\t) foo\n\t$function$\n"
  },
  {
    "function_name": "st_isvalidtrajectory",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_isvalidtrajectory(geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_IsValidTrajectory$function$\n"
  },
  {
    "function_name": "st_length",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_length(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_length2d_linestring$function$\n"
  },
  {
    "function_name": "st_length",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_length(text)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Length($1::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_length",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_length(geog geography, use_spheroid boolean DEFAULT true)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_length$function$\n"
  },
  {
    "function_name": "st_length2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_length2d(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_length2d_linestring$function$\n"
  },
  {
    "function_name": "st_length2dspheroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_length2dspheroid(geometry, spheroid)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_length2d_ellipsoid$function$\n"
  },
  {
    "function_name": "st_lengthspheroid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_lengthspheroid(geometry, spheroid)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_length_ellipsoid_linestring$function$\n"
  },
  {
    "function_name": "st_letters",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_letters(letters text, font json DEFAULT NULL::json)\n RETURNS geometry\n LANGUAGE plpgsql\n IMMUTABLE PARALLEL SAFE COST 500\n SET standard_conforming_strings TO 'on'\nAS $function$\nDECLARE\n  letterarray text[];\n  letter text;\n  geom geometry;\n  prevgeom geometry = NULL;\n  adjustment float8 = 0.0;\n  position float8 = 0.0;\n  text_height float8 = 100.0;\n  width float8;\n  m_width float8;\n  spacing float8;\n  dist float8;\n  wordarr geometry[];\n  wordgeom geometry;\n  -- geometry has been run through replace(encode(st_astwkb(geom),'base64'), E'\\n', '')\n  font_default_height float8 = 1000.0;\n  font_default json = '{\n  \"!\":\"BgACAQhUrgsTFOQCABQAExELiwi5AgAJiggBYQmJCgAOAg4CDAIOBAoEDAYKBgoGCggICAgICAgGCgYKBgoGCgQMBAoECgQMAgoADAIKAAoADAEKAAwBCgMKAQwDCgMKAwoFCAUKBwgHBgcIBwYJBgkECwYJBAsCDQILAg0CDQANAQ0BCwELAwsDCwUJBQkFCQcHBwcHBwcFCQUJBQkFCQMLAwkDCQMLAQkACwEJAAkACwIJAAsCCQQJAgsECQQJBAkGBwYJCAcIBQgHCAUKBQoDDAUKAQwDDgEMAQ4BDg==\",\n  \"&\":\"BgABAskBygP+BowEAACZAmcAANsCAw0FDwUNBQ0FDQcLBw0HCwcLCQsJCwkLCQkJCwsJCwkLCQ0HCwcNBw8HDQUPBQ8DDwMRAw8DEQERAREBEQERABcAFQIXAhUCEwQVBBMGEwYTBhEIEQgPChEKDwoPDA0MDQwNDgsOCRAJEAkQBxAHEgUSBRQFFAMUAxQBFgEWARgAigEAFAISABICEgQQAhAEEAQQBg4GEAoOCg4MDg4ODgwSDgsMCwoJDAcMBwwFDgUMAw4DDgEOARABDgEQARIBEAASAHgAIAQeBB4GHAgaChoMGA4WDhYQFBISEhISDhQQFAwWDBYKFgoYBhgIGAQYBBgCGgAaABgBGAMYAxYHFgUWCRYJFAsUCxIPEg0SERARDhMOFQwVDBcIGQYbBhsCHQIfAR+dAgAADAAKAQoBCgEIAwgFBgUGBQYHBAUEBwQHAgcCBwIHAAcABwAHAQcBBwMHAwUDBwUFBQUHBQUBBwMJAQkBCQAJAJcBAAUCBQAFAgUEBQIDBAUEAwQDBgMEAQYDBgEGAAgBBgAKSeECAJ8BFi84HUQDQCAAmAKNAQAvExMx\",\n  \"\\\"\":\"BgACAQUmwguEAgAAkwSDAgAAlAQBBfACAIACAACTBP8BAACUBA==\",\n  \"''\":\"BgABAQUmwguEAgAAkwSDAgAAlAQ=\",\n  \"(\":\"BgABAUOQBNwLDScNKw0rCysLLwsxCTEJMwc1BzcHNwM7AzsDPwE/AEEANwI1AjMEMwIzBjEGLwYvCC0ILQgrCCkKKQonCicMJbkCAAkqCSoHLAksBywFLgcuBS4FMAMwAzADMgEwATQBMgA0ADwCOgI6BDoEOAY4BjYINgg2CjQKMgoyCjIMMAwwDi7AAgA=\",\n  \")\":\"BgABAUMQ3Au6AgAOLQwvDC8KMQoxCjEKMwg1CDUGNQY3BDcEOQI5AjkAOwAzATEBMQExAy8DLwMvBS8FLQctBS0HKwktBykJKwkpswIADCYKKAooCioIKggsCC4ILgYwBjAGMgQ0AjQCNAI2ADgAQgFAAz4DPAM8BzgHOAc2CTQJMgsyCzALLg0sDSoNKg==\",\n  \"+\":\"BgABAQ3IBOwGALcBuAEAANUBtwEAALcB0wEAALgBtwEAANYBuAEAALgB1AEA\",\n  \"/\":\"BgABAQVCAoIDwAuyAgCFA78LrQIA\",\n  \"4\":\"BgABAhDkBr4EkgEAEREApwJ/AADxARIR5QIAEhIA9AHdAwAA7ALIA9AG6gIAEREA8QYFqwIAAIIDwwH/AgABxAEA\",\n  \"v\":\"BgABASDmA5AEPu4CROwBExb6AgAZFdMC0wgUFaECABIU0wLWCBcW+AIAExVE6wEEFQQXBBUEFwQVBBUEFwQVBBUEFwQVBBUEFwQXBBUEFwYA\",\n  \",\":\"BgABAWMYpAEADgIOAgwCDgQMBAoGDAYKBgoICAgICAgICAoGCgYKBAoEDAQKBAoCDAIKAgwCCgAKAAwACgEMAQoBCgMMAwoDCgUKBQgFCgUIBwYJCAcGCQYJBAsGCQQLAg0CCwINAg0AAwABAAMAAwADAQMAAwADAAMBBQAFAQcBBwEHAwcBCQMJAQsDCwMLAw0FDQMNBQ8FDwURBxMFEwkTBxcJFwkXswEAIMgBCQYJBgkGBwYJCAcIBQgHCgUKBQoFDAEMAwwBDgEOABA=\",\n  \"-\":\"BgABAQUq0AMArALEBAAAqwLDBAA=\",\n  \".\":\"BgABAWFOrAEADgIOAg4CDgQMBAoGDAYKBgoICAgKCAgIBgoGCgYKBgoEDAQKBAwECgIMAAwCDAAMAAwBCgAMAQoDDAMKAwoDCgUKBQgFCgUIBwgJBgcICQYJBgsGCQQLAg0CDQINAA0ADQENAQ0BCwMNAwkFCwUJBQkHBwcJBwUHBwkFCQUJBQkDCwMJAwsDCQELAAsBCwALAAsCCQALAgkECwQJBAkECQYJBgcGBwgJBgcKBQgHCgUKBQwFCgEOAwwBDgEOAA4=\",\n  \"0\":\"BgABAoMB+APaCxwAHAEaARoDFgMYBRYFFAcUBxIJEgkQCRALEAsOCwwNDA0MDQoPCg0IDwgPBhEGDwYRBA8EEQIRAhMCEQITABMA4QUAEQETAREBEQMRAxEFEQURBREHDwkPBw8JDwsNCw0LDQ0NDQsNCw8JEQkRCREJEwcTBxUFFQUVAxUDFwEXARkAGQAZAhcCFwQXBBUGEwYTCBMIEQoRCg8KDwoPDA0MDQ4NDgsOCQ4JEAkQBxAHEAUSBRIDEgMSAxIDEgESARQAEgDiBQASAhQCEgISBBIEEgYSBhIGEggQChAIEAoQDBAMDgwODg4ODA4MEgwQChIKEggUCBQIFgYWBBYGGAQYAhgCGgILZIcDHTZBEkMRHTUA4QUeOUITRBIePADiBQ==\",\n  \"2\":\"BgABAWpUwALUA44GAAoBCAEKAQgDBgMGBQYFBgUEBwQFBAUCBwIHAgUABwAHAAUBBwMFAQcFBQMHBQUHBQcFBwMJAwkBCQELAQsAC68CAAAUAhIAFAISBBQCEgQUBBIEEgYUCBIGEAgSChAKEAoQDBAMDg4ODgwQDBIMEgoSChQIFggWCBgGGAQaAhwCHAIWABQBFgEUARQDFAMSAxQFEgUSBxIHEAkQCRALDgsODQ4NDA8KDwwRCBMKEwgTBhUGFwQXBBcEGwAbABsAHQEftwPJBdIDAACpAhIPzwYAFBIArgI=\",\n  \"1\":\"BgABARCsBLALAJ0LEhERADcA2QEANwATABQSAOYIpwEAALgCERKEBAASABER\",\n  \"3\":\"BgABAZ0B/gbEC/sB0QQOAwwBDAMMAwwFCgMKBQoFCgUIBwoFCAcICQgJBgkICQYLCAsECwYLBA0GDwINBA8CDwQRAhECEQITABUCFQAVAH0AEQETAREBEQETAxEDEQURBREFDwcRBw8JDwkNCQ8LDQsNDQsNCw0LDwsPCREJEQcRBxMFFQUVBRUDFwEXARkAGQAZAhkCFwQVBBUEEwYTCBEIEQgRCg0MDwoNDA0OCw4LDgkQCRAHEAkQBRAFEgUSAxIDFAMSAxYBFAEWARYAFqQCAAALAgkCCQQHAgcGBwYHBgUIBQYDCAMIAwYDCAEIAQgACAAIAAgCCAIIAgYCCAQIBAgGBgYEBgQIBAoCCgAKAAwAvAEABgEIAAYBBgMGAwQDBgMEBQQDBAUCBQQFAgUABwIFAJkBAACmAaIB3ALbAgAREQDmAhIRggYA\",\n  \"5\":\"BgABAaAB0APgBxIAFAESABIBEgMSARADEgMQAxIFEAcOBRAHDgkOCQ4JDgsMCwwLCgsKDQoPCA0IDwgPBhEEEwYTAhMEFwIXABcAiQIAEwETABEBEQMTAxEDDwMRBQ8FDwUPBw8JDQcNCQ0LDQsLCwsNCw0JDwkPCREHEQcTBxMFEwMVAxcDGQEZARkAFwAVAhUCFQQTBBMGEwYRCBEIDwoPCg8KDQwNDA0MCw4LDgkOCRAJEAcOBxAHEgUQBRIDEAMSAxIBEgEUARIAFLgCAAAFAgUABQIFBAUCBQQDBAUEAwYDBgMIAwgBCAEIAQoACAAIAgYACAQGAgQEBgQEBAQGBAQCBgIGAgYCBgIIAAYA4AEABgEIAAYBBgMGAQQDBgMEAwQFBAMCBQQFAgUABwIFAPkBAG+OAQCCBRESAgAAAuYFABMRAK8CjQMAAJ8BNgA=\",\n  \"7\":\"BgABAQrQBsILhQOvCxQR7wIAEhK+AvYIiwMAAKgCERKwBgA=\",\n  \"6\":\"BgABAsYBnAOqBxgGFgYYBBYEFgIWABQBFgEUAxQDFAUUBRIFEAcSCRAJEAkOCw4NDgsMDQoPCg8KDwgRCBEGEQYRBBMCEwITAhUAkwIBAAERAREBEQEPAxEFEQMPBREFDwcPBw8HDwkNCQ0LDQsNCwsNCw0LDQkPCQ8JDwcRBxEHEwUTAxMFFQEXAxcBGQAVABUCEwIVBBMEEQYTBhEIEQgPChEKDQoPDA0MDQwNDgsOCxALDgkQCRAHEgcQBxIFEgUSBRIBFAMSARIBFAASAOIFABACEgIQAhIEEAQQBhIGEAYQCBAKEAgOChAMDgwMDA4ODA4MDgwODBAKEAoQChIIEggSBhQGFgYUAhYCGAIYABoAGAEYARYBFgMUBRQFEgUSBxAHEAcQCQ4LDgkMCwwNDA0KDQgPCg0GEQgPBhEEEQQRBBMEEwITAhMCFQIVABWrAgAACgEIAQoBCAEGAwYDBgUGBQQFBAUEBQQFAgUABwIFAAUABwEFAAUBBQMFAwUDBQMFBQMFAwUBBQEHAQkBBwAJAJcBDUbpBDASFi4A4AETLC8SBQAvERUrAN8BFC0yEQQA\",\n  \"8\":\"BgABA9gB6gPYCxYAFAEUARYBEgMUBRQFEgUSBxIHEAcSCQ4JEAkOCw4LDgsMDQwNCg0KDQoPCg8IDwgPBhEGEQQPBBMCEQIRABMAQwAxAA8BEQEPAREDDwMRAw8FEQUPBxEJDwkPCQ8NDw0PDQ8IBwYHCAcGBwgHBgkGBwYJBgcECQYJBAkGCQQJBAsECwQLBA0CCwINAg8CDwIPAA8AaQATAREBEwERAxEFEQURBREHEQcPBw8JDwkPCw8LDQsNDQ0LCw0LDwsNCQ8JDwcPBw8HEQURAxEFEQMRARMBEwFDABEAEwIRAhEEEQQRBg8GEQgPCA8KDwoPCg0MDQwNDAsOCw4LDgkQCRAJDgkQBxIHEAcSBRADEgMUAxIBFAEUABQAagAOAhAADgIOAg4EDAIOBAwEDAQMBgwECgYMBAoGCAYKBgoGCggKBgoICgYICAoICA0MCwwLDgsOCRAHEAcQBxIFEgUSAxIDEgMSARABEgASADIARAASAhICEgQSAhIGEAYSBhAIEAgQCBAKDgoODA4MDgwMDgwODA4KEAwQCBIKEggSCBQIFAYUBBQEFgQWAhYCGAANT78EFis0EwYANBIYLgC0ARcsMRQFADERGS0AswELogHtAhcuNxA3DRkvALMBGjE6ETYSGDIAtAE=\",\n  \"9\":\"BgABAsYBpASeBBcFFQUXAxUDFQEVABMCFQITBBMEEwYRBhMGDwgRCg8KDwoNDA0OCwwNDgkQCRAJEAcSBxIFEgUSAxQBFAEUARYAlAICAAISAhICEgQSAhAGEgQQBhIGEAgSCA4IEAoOChAMDAwODAwODA4MEAoOChAKEAgSCBIIFAYUBBQGFgIYBBgCGgAWABYBFAEWAxQDEgUUBRIHEgcQCRIJEAkOCw4LDgsODQwNDA0MDwoPCg8IDwgRCBEGEQYRBhEEEQITAhECEwARAOEFAA8BEQEPAREDDwMPBREFDwUPBw8JDwcNCQ8LDQsLCw0NCw0LDQsNCw8JEQkPCREHEQcTBRMFEwUTARUBFQEXABkAFwIXAhcCFQQTBhMGEQYRCA8IDwgNCg8MCwoLDAsOCQ4JDgkQBxAHEAUQBRIFEgMSAxQDFAEUAxQAFgEWABamAgAACwIJAgkCCQIHBAcEBwYFBgUGAwYDBgMGAQgBBgEIAAgABgIIAgYCBgQGBAYEBgYGBgQIBAgECAIKAgoCCgAMAJgBDUXqBC8RFS0A3wEUKzARBgAwEhYsAOABEy4xEgMA\",\n  \":\":\"BgACAWE0rAEADgIOAg4CDgQMBAoGDAYKBgoICAgKCAgIBgoGCgYKBgoEDAQKBAwECgIMAAwCDAAMAAwBCgAMAQoDDAMKAwoDCgUKBQgFCgUIBwgJBgcICQYJBgsGCQQLAg0CDQINAA0ADQENAQ0BCwMNAwkFCwUJBQkHBwcJBwUHBwkFCQUJBQkDCwMJAwsDCQELAAsBCwALAAsCCQALAgkECwQJBAkECQYJBgcGBwgJBgcKBQgHCgUKBQwFCgEOAwwBDgEOAA4BYQDqBAAOAg4CDgIOBAwECgYMBgoGCggICAoICAgGCgYKBgoGCgQMBAoEDAQKAgwADAIMAAwADAEKAAwBCgMMAwoDCgMKBQoFCAUKBQgHCAkGBwgJBgkGCwYJBAsCDQINAg0ADQANAQ0BDQELAw0DCQULBQkFCQcHBwkHBQcHCQUJBQkFCQMLAwkDCwEJAwsACwELAAsACwIJAAsECQILBAkECQQJBgkGBwYHCAkGBwoFCAcKBQoFDAUKAQ4DDAEOAQ4ADg==\",\n  \"x\":\"BgABARHmAoAJMIMBNLUBNrYBMIQB1AIA9QG/BI4CvwTVAgA5hgFBwAFFxwE1fdUCAI4CwATzAcAE1AIA\",\n  \";\":\"BgACAWEslgYADgIOAg4CDgQMBAoGDAYKBgoICAgKCAgIBgoGCgYKBgoEDAQKBAwECgIMAAwCDAAMAAwBCgAMAQoDDAMKAwoDCgUKBQgFCgUIBwgJBgcICQYJBgsGCQQLAg0CDQINAA0ADQENAQ0BCwMNAwkFCwUJBQkHBwcJBwUHBwkFCQUJBQkDCwMJAwsBCQMLAAsBCwALAAsCCQALBAkCCwQJBAkECQYJBgcGBwgJBgcKBQgHCgUKBQwFCgEOAwwBDgEOAA4BYwjxBAAOAg4CDAIOBAwECgYMBgoGCggICAgICAgICgYKBgoECgQMBAoECgIMAgoCDAIKAAoADAAKAQwBCgEKAwwDCgMKBQoFCAUKBQgHBgkIBwYJBgkECwYJBAsCDQILAg0CDQADAAEAAwADAAMBAwADAAMAAwEFAAUBBwEHAQcDBwEJAwkBCwMLAwsDDQUNAw0FDwUPBREHEwUTCRMHFwkXCRezAQAgyAEJBgkGCQYHBgkIBwgFCAcKBQoFCgUMAQwDDAEOAQ4AEA==\",\n  \"=\":\"BgACAQUawAUA5gHEBAAA5QHDBAABBQC5AgDsAcQEAADrAcMEAA==\",\n  \"B\":\"BgABA2e2BMQLFgAUARQBFAEUAxIDEgUSBRIFEAcQBxAJDgkOCQ4LDgsMCwwNDA0KDQgNCg0IDwYPBg8GDwQRBBEEEQIRAhMAEwAHAAkABwEHAAkBCQAHAQkBCQEHAQkBCQMJAwcDCQMJAwkFBwUJAwkHCQUHBQkHCQcJBwcHBwkHBwcJBwsHCQUQBQ4FDgcOCQ4JDAkMCwoNCg0IDwgRBhMEFQQXAhcCGwDJAQEvAysFJwklDSMPHREbFRkXFRsTHw8fCyUJJwcrAy0B6wMAEhIAoAsREuYDAAiRAYEElgEAKioSSA1EOR6JAQAA0wEJkAGPBSwSEiwAzAETKikSjwEAAMUCkAEA\",\n  \"A\":\"BgABAg/KBfIBqQIAN98BEhHzAgAWEuwCngsREvwCABMR8gKdCxIR8QIAFBI54AEFlwGCBk3TA6ABAE3UAwMA\",\n  \"?\":\"BgACAe4BsgaYCAAZABkBFwEXBRUDEwUTBxEHEQcPCQ8JDQkNCQ0LCwsLCwsLCQsJCwcNBwsHDQcLBQsFDQULAwkFCwMLAwkDCQMBAAABAQABAAEBAQABAAEAAQABAAABAQAAAQEAEwcBAQABAAMBAwADAAUABQAFAAcABwAFAAcABwAFAgcABQAHAAUAW7cCAABcABgBFgAUAhQAFAISAhACEAIQBA4EDgQMBgwGDAYMBgoICgYKCAgKCggICAgKBgoICgYMCAwGDAgOBg4GEAYQBgIAAgIEAAICBAACAgQCBAIKBAoGCAQKBggIBgYICAYIBggGCgQIBAoECAQKAggCCgIKAAgACgAKAAgBCAEKAwgDCAMIAwgFBgMIBQYHBAUGBQQFBAcCBQQHAgcCCQIHAgkCBwAJAgkACQAJAAkBCQAJAQsACQELAQsDCwELAwsDCwMLAwsDCwULAwsFCwMLBV2YAgYECAQKBAwGDAQMBhAIEAYSBhIIEgYUBhIEFgYUBBYEFgQWAhgCFgIYABYAGAAYARgBGAMWBRYHFgcWCRYLFA0IBQYDCAUIBwYFCAcGBwgHBgcICQYJCAkGCQYJCAsGCwYLBgsGDQYNBA0GDQQNBA8EDwQPAg8EEQIRAhEAEQITAWGpBesGAA4CDgIOAg4EDAQKBgwGCgYKCAgICggICAYKBgoGCgYKBAwECgQMBAoCDAAMAgwADAAMAQoADAEKAwwDCgMKAwoFCgUIBQoFCAcICQYHCAkGCQYLBgkECwINAg0CDQANAA0BDQENAQsDDQMJBQsFCQUJBwcHCQcFBwcJBQkFCQUJAwsDCQMLAwkBCwALAQsACwALAgkACwIJBAsECQQJBAkGCQYHBgcICQYHCgUIBwoFCgUMBQoBDgMMAQ4BDgAO\",\n  \"C\":\"BgABAWmmA4ADAAUCBQAFAgUEBQIDBAUEAwQDBgMEAQYDBgEGAAgBBgDWAgAAwQLVAgATABMCEQITBBEEEQQRBhEIEQgPCA8KDwoNCg0MDQwNDAsOCw4LDgkOCxAHEAkQBxIHEgUSBRIDEgEUARIBFAAUAMIFABQCFAISBBQEEgQSBhIIEggSCBAKEAoQCg4MDgwODA4ODA4MDgwQDA4KEggQChIIEggSBhIGFAQSAhQCEgIUAMYCAADBAsUCAAUABwEFAAUBBQMDAQUDAwMDAwMFAQMDBQEFAAUBBwAFAMEF\",\n  \"L\":\"BgABAQmcBhISEdkFABIQALQLwgIAAIEJ9AIAAK8C\",\n  \"D\":\"BgABAkeyBMQLFAAUARIBFAESAxIDEgMSBRIFEAcQBxAHDgkOCQ4LDgsMCwwNDA0KDwoPCg8IDwgRCBEGEwQTBBMEEwIVAhUAFwDBBQAXARcBFwMTAxUDEwUTBxEHEQcPCQ8JDwkNCw0LCwsLDQsNCQ0JDQcPBw8HDwcRBREFEQMRAxEDEwERARMBEwDfAwASEgCgCxES4AMACT6BAxEuKxKLAQAAvwaMAQAsEhIsAMIF\",\n  \"F\":\"BgABARGABoIJ2QIAAIECsgIAEhIA4QIRErECAACvBBIR5QIAEhIAsgucBQASEgDlAhES\",\n  \"E\":\"BgABARRkxAuWBQAQEgDlAhES0QIAAP0BtgIAEhIA5wIRFLUCAAD/AfACABISAOUCERLDBQASEgCyCw==\",\n  \"G\":\"BgABAZsBjgeIAgMNBQ8FDQUNBQ0HCwcNBwsHCwkLCQsJCwsJCwsLCQsJDQkLBw0HDwcNBw8FDwUPAw8DEQMPAxEBEQERARMBEQAXABUCFwIVAhMEFQQTBhMGEwYRCBEIDwoRCg8KDwwNDA0MDQ4LDgkQCRAJEAcQBxIFEgUUBRQDFAMUARYBFgEYAMoFABQCFAASBBQCEgQSBBIEEgYSBhAGEAgQCBAKDgoOCg4MDgwMDgwOChAKEAoSCBIIFAgUBhQEGAYWAhgEGAIaAOoCAAC3AukCAAcABwEFAQUBBQMFAwMFAwUDBQEFAQcBBQEFAQUABwAFAMUFAAUCBwIFAgUCBQQFBAMGBQYDBgUGAwgDBgMIAQgDCAEIAQoBCAEIAAgACgAIAAgCCAIIAggECgQGBAgECAYIBgC6AnEAAJwCmAMAAJcF\",\n  \"H\":\"BgABARbSB7ILAQAAnwsSEeUCABISAOAE5QEAAN8EEhHlAgASEgCiCxEQ5gIAEREA/QPmAQAAgAQPEOYCABER\",\n  \"I\":\"BgABAQmuA7ILAJ8LFBHtAgAUEgCgCxMS7gIAExE=\",\n  \"J\":\"BgABAWuqB7ILALEIABEBEwERAREDEwMRAxEFEQURBw8HEQcPCQ0LDwsNCw0NDQ0LDwsPCxEJEQkTCRMJFQcVBxcFFwMZAxsBGwEbAB8AHQIbAhsEGQYXBhcGFQgTCBMKEwoRDA8KDwwNDA0OCw4LDgkQCRAJEAcQBRIFEgUSAxQDEgESARIBFAESABIAgAEREtoCABERAn8ACQIHBAcEBwYHBgUIBQoDCgMKAwoDDAEKAQwBCgEMAAwACgAMAgoCDAIKBAoECgYKBggGBgYGCAQGBAgCCgAIALIIERLmAgAREQ==\",\n  \"M\":\"BgACAQRm1gsUABMAAAABE5wIAQDBCxIR5QIAEhIA6gIK5gLVAe0B1wHuAQztAgDhAhIR5QIAEhIAxAsUAPoDtwT4A7YEFgA=\",\n  \"K\":\"BgABAVXMCRoLBQsDCQMLAwsDCwMLAwsBCwELAQsBCwELAQ0ACwELAAsADQALAg0ACwILAA0CCwILAgsCDQQLBAsECwYNBAsGCwYLCAsGCwgJCgsICQoJCgkMCQwJDAkOCRALEAkQCRKZAdICUQAAiwQSEecCABQSAKALExLoAgAREQC3BEIA+AG4BAEAERKCAwAREdkCzQXGAYUDCA0KDQgJCgkMBwoFDAUMAQwBDgAMAg4CDAQOBAwGDghmlQI=\",\n  \"O\":\"BgABAoMBsATaCxwAHAEaARoDGgMYBRYFFgcWBxQJEgkSCRILEAsODQ4NDg0MDwoNDA8KDwgPCBEIDwYRBg8GEQQRAhMCEQITABMA0QUAEQETAREBEQMTBREFEQURBxEHDwcRCQ8LDQsPCw0NDQ0NDwsPCw8LEQkTCRMJEwkVBxUHFwUXAxkDGQEbARsAGwAZAhkCGQQXBhcGFQYVCBUIEwoRChEMEQoRDA8MDQ4NDg0OCxAJEAsQCRAHEgcSBxIFFAMSAxIDEgEUARIAEgDSBQASAhQCEgISBBIEEgYSBhIIEggQCBAKEgwODBAMEA4ODg4QDhIMEAwSChQKFAgUCBYIFgYYBBoGGgQcAh4CHgILggGLAylCWxZbFSlBANEFKklcGVwYKkwA0gU=\",\n  \"N\":\"BgABAQ+YA/oEAOUEEhHVAgASEgC+CxQAwATnBQDIBRMS2AIAExEAzQsRAL8ElgU=\",\n  \"P\":\"BgABAkqoB5AGABcBFQEVAxMDEwMTBREHEQcRBw8JDwkNCQ0LDQsNCwsNCw0JDQkNCQ8HDwcPBxEFEQURAxEDEQMTAREBEwETAH8AAIMDEhHlAgASEgCgCxES1AMAFAAUARIAFAESAxIDEgMSAxIFEAUQBRAHDgkOCQ4JDgsMCwwNDA0KDQoNCg8IDwgRCBEGEwQTBBUEFQIXAhkAGQCzAgnBAsoCESwrEn8AANUDgAEALBISLgDYAg==\",\n  \"R\":\"BgABAj9msgsREvYDABQAFAESARQBEgESAxIDEgUSBRAFEAcQBw4JDgkOCQ4LDAsMDQwLCg0KDwoNCA8IDwgPBhEEEwYTAhMEFQIXABcAowIAEwEVARMDEwMTBRMFEQcTBxELEQsRDQ8PDREPEQ0VC8QB/QMSEfkCABQSiQGyA3EAALEDFBHnAgASEgCgCwnCAscFogEALhISLACqAhEsLRKhAQAApQM=\",\n  \"Q\":\"BgABA4YBvAniAbkB8wGZAYABBQUFAwUFBQUHBQUDBwUFBQcFBQMHBQcDBwUJAwcDCQMJAwkDCQMJAQsDCwMLAQsDCwENAw0BDQEPAA8BDwAPABsAGwIZAhcEGQQXBBUGFQgVCBMIEQoTChEKDwwPDA8ODQ4NDgsQCxAJEAkQBxIHEgUSBRQFFAMUARQDFAEWABYAxgUAEgIUAhICEgQSBBIGEgYSCBIIEAgQChIMDgwQDBAODg4OEA4SDBAMEgoUChQIFAgWCBYGGAQaBhoEHAIeAh4CHAAcARoBGgMaAxgFFgUWBxYHFAkSCRIJEgsQCw4NDg0ODQwPCg0MDwoPCA8IEQgPBhEGDwYRBBECEwIRAhMAEwC7BdgBrwEImQSyAwC6AylAWxZbFSk/AP0BjAK7AQeLAoMCGEc4J0wHVBbvAaYBAEM=\",\n  \"S\":\"BgABAYMC8gOEBxIFEgUQBxIFEgcSBxIJEgcSCRIJEAkQCRALEAsOCw4NDg0MDQ4PDA0KEQoPChEKEQgRCBMGFQQTBBcCFQAXABkBEwARAREBEQMPAQ8DDwMPAw0DDQUNAw0FCwULBwsFCwUJBwsFCQcHBQkHCQUHBwcHBwUHBwUFBQcHBwUHAwcFEQsRCxMJEwkTBxMFEwUVBRUDFQMVARMBFwEVABUAFQIVAhUCFQQVBBUEEwYVBhMIEwgTCBMIEwgRCBMKEQgRCmK6AgwFDgUMAw4FEAUOBRAFEAUQBRAFEAMSAw4DEAMQAxABEAEOAQ4AEAIMAg4CDgQMBAwGCggKCAoKBgwGDgYQBBACCgAMAAoBCAMKBQgFCAcIBwgJCAsGCQgLCA0IDQgNCA8IDQgPCA8IDwgPChEIDwgPCBEKDwoPDBEMDwwPDg8ODw4NEA0QCxALEgsSCRIHEgcUBRQFGAUYAxgBGgEcAR4CJAYkBiAIIAweDBwQHBAYEhgUFBYUFhQWEBoQGg4aDBwKHAoeBh4GIAQgAiACIgEiASIFIgUiBSAJIgkgCyINZ58CBwQJAgkECwQLAgsECwINBA0CDQQNAg0CDQALAg0ADQANAAsBCwELAQsDCwULBQkFCQcHBwcJBwkFCwMLAw0BDQENAAsCCwQLBAkGCQgJCAkKBwoJCgcMBQoHDAcMBQwF\",\n  \"V\":\"BgABARG2BM4DXrYEbKwDERL0AgAVEesCnQsSEfsCABQS8QKeCxES8gIAExFuqwNgtQQEAA==\",\n  \"T\":\"BgABAQskxAv0BgAAtQKVAgAA+wgSEeUCABISAPwImwIAALYC\",\n  \"U\":\"BgABAW76B7ALAKMIABcBFwMXARUFFQUTBxMHEwkRCREJEQsPDQ0LDw0NDwsPCw8LEQkPCRMJEQcTBxMFEwUVBRUDEwMXARUBFQEXABUAEwIVAhMCFQQTBBUEEwYTBhMIEwgRChEIEQwRDA8MDw4PDg0OCxANEAsSCRIJEgcUBxQHFAMWBRYBGAEYARgApggBAREU9AIAExMAAgClCAALAgkECQQHBAcIBwgHCAUKBQoDCgMKAwwBCgEMAQwADAAMAgoCDAIKAgoECgQKBggGCAYICAYKBAgCCgIMAgwApggAARMU9AIAExM=\",\n  \"X\":\"BgABARmsCBISEYkDABQSS54BWYICXYkCRZUBEhGJAwAUEtYCzgXVAtIFExKIAwATEVClAVj3AVb0AVKqAREShgMAERHXAtEF2ALNBQ==\",\n  \"W\":\"BgABARuODcQLERHpAp8LFBHlAgASEnW8A2+7AxIR6wIAFBKNA6ALERKSAwATEdQB7wZigARZ8AIREugCAA8RaKsDYsMDXsoDaqYDExLqAgA=\",\n  \"Y\":\"BgABARK4BcQLhgMAERHnAvMGAKsEEhHnAgAUEgCsBOkC9AYREoYDABERWOEBUJsCUqICVtwBERI=\",\n  \"Z\":\"BgABAQmAB8QLnwOBCaADAADBAusGAMgDggmhAwAAwgLGBgA=\",\n  \"`\":\"BgABAQfqAd4JkQHmAQAOlgJCiAGpAgALiwIA\",\n  \"c\":\"BgABAW3UA84GBQAFAQUABQEFAwMBBQMDAwMDAwUBAwMFAQUABQEHAAUAnQMABQIFAAUCBQQFAgMEBQQDBAMGAwQBBgMGAQYABgEGAPABABoMAMsCGw7tAQATABMCEwARAhMEEQIPBBEEDwQPBg8IDwYNCA0KDQoNCgsMCwwLDAkOCRAHDgcQBxIFEgUUBRQDFAEWAxgBGAAYAKQDABQCFAISBBQCEgYSBhAGEggQCBAIEAoQCg4MDAwODAwODAwKDgwQCg4IEAgQCBAIEAYSBhIGEgQSAhQCFAIUAOABABwOAM0CGQzbAQA=\",\n  \"a\":\"BgABApoB8AYCxwF+BwkHCQcJCQkHBwkHBwcJBQkFBwUJBQkFCQMHBQkDCQMJAwcDCQEHAQkBBwEJAQcABwAHAQcABQAHAAUBBQAFABMAEwITAhEEEwQPBBEGDwgPCA0IDwoLCg0KCwwLDAsMCQ4JDgkOBw4HEAcQBRAFEAUSAxADEgESAxIBFAESABQAFAISAhQCEgQSBBIEEgYSBhIIEAgQChAIDgwODA4MDg4MDgwODBAMEAoSCBIKEggUCBQGFgYWBBgEGAIaAhoAcgAADgEMAQoBCgEIAwgDBgUEBQQFBAcCBwIHAgkCCQAJAKsCABcPAMwCHAvCAgAUABYBEgAUARIDFAMQAxIDEAUSBQ4FEAcOCRAJDAkOCwwLDA0MCwoNCg8IDwgPCA8GEQYRBhMEEwIXAhUCFwAZAIMGFwAKmQLqA38ATxchQwgnGiMwD1AMUDYAdg==\",\n  \"b\":\"BgABAkqmBIIJGAAYARYBFgEUAxQDEgUSBRIFEAcQCQ4HDgkOCw4LDAsMDQoNCg0KDQgPBg8GDwYRBBEEEQQTBBECEwIVAhMAFQD/AgAZARcBFwEXAxUDEwUTBREFEQcPBw8JDwkNCQ0LDQsLCwsNCQ0JDQcPBw8HDwURAxEDEQMTAxMBEwMVARUAFQHPAwAUEgCWCxEY5gIAERkAowKCAQAJOvECESwrEn8AAJsEgAEALBISLgCeAw==\",\n  \"d\":\"BgABAkryBgDLAXAREQ8NEQ0PDREJDwkRBw8FDwURAw8DDwERAw8BEQEPACMCHwQfCB0MGw4bEhcUFxgVGhEeDSANJAkmBSgDKgEuAIADABYCFAIUAhQCFAQUBBIGEgYSBhAIEAgQCBAKDgoODAwMDAwMDgoOCg4KEAgQCBIGEgYSBhQEFgQWBBYCGAIYAHwAAKQCERrmAgARFwCnCxcADOsCugJGMgDmA3sAKxERLQCfAwolHBUmBSQKBAA=\",\n  \"e\":\"BgABAqMBigP+AgAJAgkCCQQHBAcGBwYFCAUIBQgDCgMIAQoDCAEKAQoACgAKAAoCCAIKAggECgQIBAgGCAYGBgQIBAoECAIKAAyiAgAAGQEXARcBFwMVBRMFEwURBxEHDwcPCQ8LDQkNCwsNCw0LDQkNBw8JDwcPBQ8FEQURAxEDEwMTAxMBFQAVARcALwIrBCkIJwwlDiESHxQbGBkaFR4TIA0iCyQJKAMqASwAggMAFAIUABIEFAISBBIEEgQSBhIGEAgQCBAIEAoODA4MDgwODgwQDBAKEAoSChIIFAgUCBYGGAQYBhoCGgQcAh4ALgEqAygFJgkkDSANHhEaFRgXFBsSHQ4fDCUIJwQpAi0AGQEXAxcDFQcTBRMJEQkPCw8LDQ0PDQsNDQ8LEQsRCxEJEwkTCRMJEwcTBxUHFQUVBRUHFQUVBRUHFwcVBRUHCs4BkAMfOEUURxEfMwBvbBhAGBwaBiA=\",\n  \"h\":\"BgABAUHYBJAGAAYBBgAGAQYDBgEEAwYDBAMEBQQDAgUEBQIFAAUCBQB1AAC5BhIT5wIAFhQAlAsRGOYCABEZAKMCeAAYABgBFgEWARQDFAMSBRIFEgUQBxAJDgcOCQ4LDgsMCwwNCg0KDQoNCA8GDwYPBhEEEQQRBBMEEQITAhUCEwAVAO0FFhPnAgAUEgD+BQ==\",\n  \"g\":\"BgABArkBkAeACQCNCw8ZERkRFxEVExMVERUPFQ8XDRcLGQkZBxsFGwUdAR0BDQALAA0ADQINAAsCDQANAg0CDQILAg0EDQINBA0GDQQNBg0EDQYNCA0GDwgNCA0IDQgPCg0KDwwNDA8MDw4PDqIB7gEQDRALEAkQCQ4JEAcOBw4FDgUOAwwFDgMMAQwBDAEMAQwACgEKAAoACAIIAAgCCAIGAggCBgIGBAYCBgQEAgYEAqIBAQADAAEBAwADAAMABQADAAUAAwAFAAMABQAFAAMABQA3ABMAEwIRAhMCEQQRBBEEEQYRBg8IDwgPCA0KDQoNCg0MCwwLDgsOCQ4JDgkQBxAHEgcSBRIDFAMWAxQBFgEYABgA/gIAFgIWAhQEFgQUBBIGFAgSCBIIEAoSChAKDgwODA4MDg4MDgwODA4KEAgQCBAIEgYSBhIEEgYSBBQCEgIUAhQCOgAQABABDgEQAQ4BEAMOAw4FDgUOBQwFDgcMBQ4HDAkMB4oBUBgACbsCzQYAnAR/AC0RES0AnQMSKy4RgAEA\",\n  \"f\":\"BgABAUH8A6QJBwAHAAUABwEFAQcBBQEFAwUDBQMDAwMDAwUDAwMFAQUAwQHCAQAWEgDZAhUUwQEAAOMEFhftAgAWFADKCQoSChIKEAoQCg4KDgwOCgwMDAoKDAwMCgwIDAgMCAwIDAYOCAwEDgYMBA4GDAIOBA4CDgQOAg4CDgAOAg4ADgC2AQAcDgDRAhkQowEA\",\n  \"i\":\"BgACAQlQABISALoIERLqAgAREQC5CBIR6QIAAWELyAoADgIOAgwEDgIKBgwGCgYKCAoGCAgICggIBggGCgYKBAoECgQMBAoCDAIMAgwCDAAMAAwADAEMAQoBDAMKAwoDCgUKBQgFCgUIBwgHCAcICQgJBgkECwQJBA0CCwANAA0ADQELAQ0BCwMJBQsFCQUJBwkFBwcHBwcJBQcFCQUJBQkDCQMLAwkBCwELAQsACwALAAsCCwILAgkCCwIJBAkECQQJBgcGCQYHCAcIBwgHCgUKBQwFCgMMAQwBDgEMAA4=\",\n  \"j\":\"BgACAWFKyAoADgIOAgwEDgIKBgwGCgYKCAoGCAgICggIBggGCgYKBAoECgQMBAoCDAIMAgwCDAAMAAwADAEMAQoBDAMKAwoDCgUKBQgFCgUIBwgHCAcICQgJBgkECwQJBA0CCwANAA0ADQELAQ0BCwMJBQsFCQUJBwkFBwcHBwcJBQcFCQUJBQkDCQMLAwkBCwELAQsACwALAAsCCwILAgkCCwIJBAkECQQJBgcGCQYHCAcIBwgHCgUKBQwFCgMMAQwBDgEMAA4BO+YCnwwJEQkRCQ8JDwsNCQ0LDQkLCwsJCQsLCQkLBwsHCwcLBwsFCwcNAwsFDQMLBQ0BDQMNAQ0DDQENAQ0ADQENAA0AVwAbDQDSAhoPQgAIAAgABgAIAgYCCAIGAgYEBgQGBAQEBAQEBgQEBAYCBgC4CRES6gIAEREAowo=\",\n  \"k\":\"BgABARKoA/QFIAC0AYoD5gIAjwK5BJICwwTfAgDDAbIDFwAAnwMSEeUCABISAJILERLmAgAREQCvBQ==\",\n  \"n\":\"BgABAW1yggmQAU8GBAgEBgQGBgYCCAQGBAYEBgQIAgYECAQGAggEBgIIBAgCCAQIAggCCAIIAgoACAIKAAgCCgAKAgoADAAKAgwAFgAWARQAFAEUAxQDFAMSAxIFEgUQBRIHEAkOBxAJDgsOCwwLDA0MDQoPCA8IEQgRBhEGEwYVBBUEFQIXAhkCGQDtBRQR5QIAFBAA/AUACAEIAQYBCAMGBQQFBgUEBwQFBAcCBwIHAgcCCQIHAAcACQAHAQcABwMHAQUDBwMFAwUFBQUDBQEFAwcBBwAHAPkFEhHjAgASEgDwCBAA\",\n  \"m\":\"BgABAZoBfoIJigFbDAwMCg4KDggOCA4IDgYQBhAGEAQQBBAEEAISAhACEgAmASQDJAciCyANHhEcFRwXDg4QDBAKEAwQCBAKEggSBhIGEgYSBBQEEgIUAhICFAAUABQBEgEUARIDEgMSAxIFEgUQBxAHEAcQBw4JDgkOCw4LDAsMDQoNCg8KDwgPCBEIEQYRBBMEEwQTAhMCFQAVAP0FEhHlAgASEgCCBgAIAQgBBgEGAwYFBgUEBQQHBAUEBwIHAgcCBwIJAAcABwAJAAcBBwEHAQUBBwMFAwUDBQMDBQMFAwUBBQEHAQcAgQYSEeUCABISAIIGAAgBCAEGAQYDBgUGBQQFBAcEBQQHAgcCBwIHAgkABwAHAAkABwEHAQcBBQEHAwUDBQMFAwMFAwUDBQEFAQcBBwCBBhIR5QIAEhIA8AgYAA==\",\n  \"l\":\"BgABAQnAAwDrAgASFgDWCxEa6gIAERkA0wsUFw==\",\n  \"y\":\"BgABAZ8BogeNAg8ZERkRFxEVExMVERUPFQ8XDRcLGQkZBxsFGwUdAR0BDQALAA0ADQINAAsCDQANAg0CDQILAg0EDQINBA0GDQQNBg0EDQYNCA0GDwgNCA0IDQgPCg0KDwwNDA8MDw4PDqIB7gEQDRALEAkQCQ4JEAcOBw4FDgUOAwwFDgMMAQwBDAEMAQwACgEKAAoACAIIAAgCCAIGAggCBgIGBAYCBgQEAgYEAqIBAQADAAEBAwADAAMABQADAAUAAwAFAAMABQAFAAMABQA3ABMAEwIRABECEwQRAg8EEQQPBBEGDwgNCA8IDQgNCg0MDQwLDAkOCw4JDgcQBxAHEgUSBRQFFAMWARgDGAEaABwA9AUTEuQCABEPAP8FAAUCBQAFAgUEBQIDBAUEAwQDBgMEAQYDBgEGAAgBBgCAAQAAvAYREuICABMPAP0K\",\n  \"q\":\"BgABAmj0A4YJFgAWARQAEgESAxADEAMOAw4FDgUMBQ4HDgcOBwwJDgmeAU4A2QwWGesCABYaAN4DAwADAAMBAwADAAUAAwADAAMABQAFAAUABwAHAQcACQAVABUCFQATAhUCEwQRAhMEEQQRBhEGDwgPCA8IDQoNDA0MCwwLDgkOCRAJEAkQBxIHEgUUBRYDFgMYARoBGgAcAP4CABYCFgIWBBYEFAQSBhQIEggSCBAKEgoQDA4MDgwODg4ODBAMDgwQChIIEAoSCBIGEgYUBhQEFAQWAhYCFgIWAApbkQYSKy4ReAAAjARTEjkRHykJMwDvAg==\",\n  \"p\":\"BgABAmiCBIYJFgAWARYBFAEWAxQDEgUUBRIFEgcSBxAJEAkQCQ4LDgsOCwwNDA0KDwoPCg8IEQgRCBEGEwQTBhMCFQQVAhUAFQD9AgAbARkBFwMXAxcDEwUTBxMHEQcRCQ8JDQsNCw0LCw0LDQkPCQ0JDwURBxEFEQURAxMDEQMTARUBEwEVARUBFQAJAAcABwAFAAcABQAFAAMAAwADAAUAAwIDAAMAAwIDAADdAxYZ6wIAFhoA2gyeAU0OCgwIDgoMCA4GDgYMBg4GDgQQBBAEEgQUAhQCFgIWAApcoQMJNB8qNxJVEQCLBHgALhISLADwAg==\",\n  \"o\":\"BgABAoMB8gOICRYAFgEWARQBFgMUAxIDFAUSBRIHEgcQBxAJEAkOCw4LDgsMDQwNCg8KDwoPCg8IEQgRBhMGEwQTBBMCFQIVABcAiwMAFwEVARUDEwMTAxMFEwcRBxEHDwkPCQ8LDQsNCw0NCw0LDwkNCw8HEQkPBxEHEQcRBRMFEwMTAxUDFQEVABUAFQAVAhUCFQITBBMEEwYTBhEGEQgRCA8KDwoPCg0KDQwNDAsOCw4JDgkQCRAJEgcSBxIFFAUUAxQDFgEWARYAFgCMAwAYAhYCFgQUBBQEFAYUCBIIEggQChAKEAwODA4MDg4MDgwQCg4KEgoQChIIEggSBhQGEgYUBBYEFAIWAhYCFgALYv0CHTZBFEMRHTcAjwMcNUITQhIiOACQAw==\",\n  \"r\":\"BgACAQRigAkQAA8AAAABShAAhAFXDAwODAwKDgoOCBAIDgYQBhAEEAQQBBAEEAISABACEAAQAA4BEAAQARADEAEQAxADEAUSBRIHFAcUCxQLFA0WDVJFsQHzAQsMDQwLCgkICwgLCAkGCQYJBAkGBwIJBAcCBwQHAAcCBwAFAgcABQAHAQUABQEFAQUBBQEDAQUBAwMDAQMDAwEAmwYSEeMCABISAO4IEAA=\",\n  \"u\":\"BgABAV2KBwGPAVANCQsHDQcNBw0FCwUNBQ0FDQMPAw8DEQMTARMBFQEVABUAFQITABMEEwITBBMEEQQRBhEGDwYRCA8KDQgPCg0MDQwLDAsOCRALDgcQBxIHEgUUBRQFFAMWAxgBGAEYARoA7gUTEuYCABMPAPsFAAcCBwIFBAcCBQYDBgUGAwgDBgMIAQgBCAEIAQoBCAAIAAoACAIIAggCCAIGBAgEBgQGBgYGBAYCBgQIAggACAD6BRES5AIAEREA7wgPAA==\",\n  \"s\":\"BgABAasC/gLwBQoDCgMMBQ4DDgUOBRAFEAUSBRAHEgcQCRIJEAkSCxALEAsQDRANDg0ODw4PDA8MDwoRChEIEwYTBBcCFQIXABkBGQEXAxcFFQUTBRMHEwcRCREJDwkNCQ8LDQ0LCwsNCw0JDQkPBw8HDwUPBREDEQMRAREDEQETABEBEwARABMADwIRABECEQIRBBMCEwQVBBUEFQYVBhMIFwgVChUKFQxgsAIIAwYDCAMKAQgDCAMKAQoDCgEKAwoBCgMKAQwDCgEKAwoBDAMKAQoBCgEMAQoACgEKAAoBCgAKAQgACgAIAQgABgoECAIKAgoCCgAMAQoBDAUEBwIHBAcEBwIHBAkECQQJBAkECQYLBAkGCwYJBgsGCwYJCAsGCwgJBgsICQgLCAkICwgJCgkKCQoJCgcKCQwHDAcMBwwFDAcMAw4FDAMOAw4BDgMQARAAEAESABIAEgIQAg4CDgIOBA4CDgQMBAwEDAQMBgoECgYKBgoGCgYIBggGCAgIBggGBgYIBgYGBgYGBgYGBAgGBgQIBAYECAQQChIIEggSBhIEEgQSBBQCFAISABQAEgASABIAEgESARIBEAEQAxIDDgMQAxADDgUOBQwDDAMMAwoDCAMIAQYBe6cCAwIDAgUAAwIFAgUCBwIFAgcCBQIHAgUCBwIHAAUCBwIHAgUABwIHAgcABQIHAAcCBwAFAgUABQIFAAUABQIDAAEAAQABAQEAAQEBAQEBAQEBAQEDAQEAAwEBAQMAAwEDAAMBAwADAQMAAwABAQMAAwADAAEAAwIBAAMCAQQDAgE=\",\n  \"t\":\"BgABAUe8BLACWAAaEADRAhsOaQANAA0ADwINAA0CDQANAg0CDQINBA0CCwYNBA0GCwYNBgsIDQgLCAsKCwgJDAsKCQwJDAkOCQ4HEAcSBxIHEgUUAOAEawAVEQDWAhYTbAAAygIVFOYCABUXAMUCogEAFhQA1QIVEqEBAADzAwIFBAMEBQQDBAMEAwYDBgMGAwYBCAEGAQgBBgEIAAgA\",\n  \"w\":\"BgABARz8BsAEINYCKNgBERLuAgARD+8B3QgSEc0CABQSW7YCV7UCFBHJAgASEpMC3AgREvACABERmAHxBDDaAVeYAxES7gIAEREo1QE81wIIAA==\",\n  \"z\":\"BgABAQ6cA9AGuQIAFw8AzAIaC9QFAAAr9wKjBuACABYQAMsCGQyZBgCaA9AG\"\n   }';\nBEGIN\n\n  IF font IS NULL THEN\n    font := font_default;\n  END IF;\n\n  -- For character spacing, use m as guide size\n  geom := ST_GeomFromTWKB(decode(font->>'m', 'base64'));\n  m_width := ST_XMax(geom) - ST_XMin(geom);\n  spacing := m_width / 12;\n\n  letterarray := regexp_split_to_array(replace(letters, ' ', E'\\t'), E'');\n  FOREACH letter IN ARRAY letterarray\n  LOOP\n    geom := ST_GeomFromTWKB(decode(font->>(letter), 'base64'));\n    -- Chars are not already zeroed out, so do it now\n    geom := ST_Translate(geom, -1 * ST_XMin(geom), 0.0);\n    -- unknown characters are treated as spaces\n    IF geom IS NULL THEN\n      -- spaces are a \"quarter m\" in width\n      width := m_width / 3.5;\n    ELSE\n      width := (ST_XMax(geom) - ST_XMin(geom));\n    END IF;\n    geom := ST_Translate(geom, position, 0.0);\n    -- Tighten up spacing when characters have a large gap\n    -- between them like Yo or To\n    adjustment := 0.0;\n    IF prevgeom IS NOT NULL AND geom IS NOT NULL THEN\n      dist = ST_Distance(prevgeom, geom);\n      IF dist > spacing THEN\n        adjustment = spacing - dist;\n        geom := ST_Translate(geom, adjustment, 0.0);\n      END IF;\n    END IF;\n    prevgeom := geom;\n    position := position + width + spacing + adjustment;\n    wordarr := array_append(wordarr, geom);\n  END LOOP;\n  -- apply the start point and scaling options\n  wordgeom := ST_CollectionExtract(ST_Collect(wordarr));\n  wordgeom := ST_Scale(wordgeom,\n                text_height/font_default_height,\n                text_height/font_default_height);\n  return wordgeom;\nEND;\n$function$\n"
  },
  {
    "function_name": "st_linecrossingdirection",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linecrossingdirection(line1 geometry, line2 geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$ST_LineCrossingDirection$function$\n"
  },
  {
    "function_name": "st_linefromencodedpolyline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linefromencodedpolyline(txtin text, nprecision integer DEFAULT 5)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$line_from_encoded_polyline$function$\n"
  },
  {
    "function_name": "st_linefrommultipoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linefrommultipoint(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_line_from_mpoint$function$\n"
  },
  {
    "function_name": "st_linefromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linefromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1, $2)) = 'LINESTRING'\n\tTHEN public.ST_GeomFromText($1,$2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_linefromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linefromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1)) = 'LINESTRING'\n\tTHEN public.ST_GeomFromText($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_linefromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linefromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'LINESTRING'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_linefromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linefromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'LINESTRING'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_lineinterpolatepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_lineinterpolatepoint(geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_line_interpolate_point$function$\n"
  },
  {
    "function_name": "st_lineinterpolatepoints",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_lineinterpolatepoints(geometry, double precision, repeat boolean DEFAULT true)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_line_interpolate_point$function$\n"
  },
  {
    "function_name": "st_linelocatepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linelocatepoint(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_line_locate_point$function$\n"
  },
  {
    "function_name": "st_linemerge",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linemerge(geometry, boolean)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$linemerge$function$\n"
  },
  {
    "function_name": "st_linemerge",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linemerge(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$linemerge$function$\n"
  },
  {
    "function_name": "st_linestringfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linestringfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'LINESTRING'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_linestringfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linestringfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'LINESTRING'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_linesubstring",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linesubstring(geometry, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_line_substring$function$\n"
  },
  {
    "function_name": "st_linetocurve",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_linetocurve(geometry geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_line_desegmentize$function$\n"
  },
  {
    "function_name": "st_locatealong",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_locatealong(geometry geometry, measure double precision, leftrightoffset double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_LocateAlong$function$\n"
  },
  {
    "function_name": "st_locatebetween",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_locatebetween(geometry geometry, frommeasure double precision, tomeasure double precision, leftrightoffset double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_LocateBetween$function$\n"
  },
  {
    "function_name": "st_locatebetweenelevations",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_locatebetweenelevations(geometry geometry, fromelevation double precision, toelevation double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_LocateBetweenElevations$function$\n"
  },
  {
    "function_name": "st_longestline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_longestline(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$SELECT public._ST_LongestLine(public.ST_ConvexHull($1), public.ST_ConvexHull($2))$function$\n"
  },
  {
    "function_name": "st_m",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_m(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_m_point$function$\n"
  },
  {
    "function_name": "st_makebox2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makebox2d(geom1 geometry, geom2 geometry)\n RETURNS box2d\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX2D_construct$function$\n"
  },
  {
    "function_name": "st_makeenvelope",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makeenvelope(double precision, double precision, double precision, double precision, integer DEFAULT 0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_MakeEnvelope$function$\n"
  },
  {
    "function_name": "st_makeline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makeline(geometry[])\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makeline_garray$function$\n"
  },
  {
    "function_name": "st_makeline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makeline(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makeline$function$\n"
  },
  {
    "function_name": "st_makepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makepoint(double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makepoint$function$\n"
  },
  {
    "function_name": "st_makepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makepoint(double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makepoint$function$\n"
  },
  {
    "function_name": "st_makepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makepoint(double precision, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makepoint$function$\n"
  },
  {
    "function_name": "st_makepointm",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makepointm(double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makepoint3dm$function$\n"
  },
  {
    "function_name": "st_makepolygon",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makepolygon(geometry, geometry[])\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makepoly$function$\n"
  },
  {
    "function_name": "st_makepolygon",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makepolygon(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makepoly$function$\n"
  },
  {
    "function_name": "st_makevalid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makevalid(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_MakeValid$function$\n"
  },
  {
    "function_name": "st_makevalid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_makevalid(geom geometry, params text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_MakeValid$function$\n"
  },
  {
    "function_name": "st_maxdistance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_maxdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$SELECT public._ST_MaxDistance(public.ST_ConvexHull($1), public.ST_ConvexHull($2))$function$\n"
  },
  {
    "function_name": "st_maximuminscribedcircle",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_maximuminscribedcircle(geometry, OUT center geometry, OUT nearest geometry, OUT radius double precision)\n RETURNS record\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_MaximumInscribedCircle$function$\n"
  },
  {
    "function_name": "st_memsize",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_memsize(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_mem_size$function$\n"
  },
  {
    "function_name": "st_minimumboundingcircle",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_minimumboundingcircle(inputgeom geometry, segs_per_quarter integer DEFAULT 48)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_MinimumBoundingCircle$function$\n"
  },
  {
    "function_name": "st_minimumboundingradius",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_minimumboundingradius(geometry, OUT center geometry, OUT radius double precision)\n RETURNS record\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_MinimumBoundingRadius$function$\n"
  },
  {
    "function_name": "st_minimumclearance",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_minimumclearance(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_MinimumClearance$function$\n"
  },
  {
    "function_name": "st_minimumclearanceline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_minimumclearanceline(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_MinimumClearanceLine$function$\n"
  },
  {
    "function_name": "st_mlinefromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mlinefromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1)) = 'MULTILINESTRING'\n\tTHEN public.ST_GeomFromText($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mlinefromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mlinefromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE\n\tWHEN public.geometrytype(public.ST_GeomFromText($1, $2)) = 'MULTILINESTRING'\n\tTHEN public.ST_GeomFromText($1,$2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mlinefromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mlinefromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'MULTILINESTRING'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mlinefromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mlinefromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'MULTILINESTRING'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpointfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpointfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1, $2)) = 'MULTIPOINT'\n\tTHEN ST_GeomFromText($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpointfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpointfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1)) = 'MULTIPOINT'\n\tTHEN public.ST_GeomFromText($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpointfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpointfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'MULTIPOINT'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpointfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpointfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'MULTIPOINT'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpolyfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpolyfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1)) = 'MULTIPOLYGON'\n\tTHEN public.ST_GeomFromText($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpolyfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpolyfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1, $2)) = 'MULTIPOLYGON'\n\tTHEN public.ST_GeomFromText($1,$2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpolyfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpolyfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'MULTIPOLYGON'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_mpolyfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_mpolyfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'MULTIPOLYGON'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_multi",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multi(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_force_multi$function$\n"
  },
  {
    "function_name": "st_multilinefromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multilinefromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'MULTILINESTRING'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_multilinestringfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multilinestringfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_MLineFromText($1, $2)$function$\n"
  },
  {
    "function_name": "st_multilinestringfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multilinestringfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_MLineFromText($1)$function$\n"
  },
  {
    "function_name": "st_multipointfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multipointfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_MPointFromText($1)$function$\n"
  },
  {
    "function_name": "st_multipointfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multipointfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1,$2)) = 'MULTIPOINT'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_multipointfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multipointfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'MULTIPOINT'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_multipolyfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multipolyfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'MULTIPOLYGON'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_multipolyfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multipolyfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'MULTIPOLYGON'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_multipolygonfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multipolygonfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_MPolyFromText($1)$function$\n"
  },
  {
    "function_name": "st_multipolygonfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_multipolygonfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_MPolyFromText($1, $2)$function$\n"
  },
  {
    "function_name": "st_ndims",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_ndims(geometry)\n RETURNS smallint\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_ndims$function$\n"
  },
  {
    "function_name": "st_node",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_node(g geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Node$function$\n"
  },
  {
    "function_name": "st_normalize",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_normalize(geom geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_Normalize$function$\n"
  },
  {
    "function_name": "st_npoints",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_npoints(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_npoints$function$\n"
  },
  {
    "function_name": "st_nrings",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_nrings(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_nrings$function$\n"
  },
  {
    "function_name": "st_numgeometries",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_numgeometries(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_numgeometries_collection$function$\n"
  },
  {
    "function_name": "st_numinteriorring",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_numinteriorring(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_numinteriorrings_polygon$function$\n"
  },
  {
    "function_name": "st_numinteriorrings",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_numinteriorrings(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_numinteriorrings_polygon$function$\n"
  },
  {
    "function_name": "st_numpatches",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_numpatches(geometry)\n RETURNS integer\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.ST_GeometryType($1) = 'ST_PolyhedralSurface'\n\tTHEN public.ST_NumGeometries($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_numpoints",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_numpoints(geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_numpoints_linestring$function$\n"
  },
  {
    "function_name": "st_offsetcurve",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_offsetcurve(line geometry, distance double precision, params text DEFAULT ''::text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_OffsetCurve$function$\n"
  },
  {
    "function_name": "st_orderingequals",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_orderingequals(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$LWGEOM_same$function$\n"
  },
  {
    "function_name": "st_orientedenvelope",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_orientedenvelope(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_OrientedEnvelope$function$\n"
  },
  {
    "function_name": "st_overlaps",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_overlaps(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$overlaps$function$\n"
  },
  {
    "function_name": "st_patchn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_patchn(geometry, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.ST_GeometryType($1) = 'ST_PolyhedralSurface'\n\tTHEN public.ST_GeometryN($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_perimeter",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_perimeter(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_perimeter2d_poly$function$\n"
  },
  {
    "function_name": "st_perimeter",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_perimeter(geog geography, use_spheroid boolean DEFAULT true)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_perimeter$function$\n"
  },
  {
    "function_name": "st_perimeter2d",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_perimeter2d(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_perimeter2d_poly$function$\n"
  },
  {
    "function_name": "st_point",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_point(double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_makepoint$function$\n"
  },
  {
    "function_name": "st_point",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_point(double precision, double precision, srid integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Point$function$\n"
  },
  {
    "function_name": "st_pointfromgeohash",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointfromgeohash(text, integer DEFAULT NULL::integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 50\nAS '$libdir/postgis-3', $function$point_from_geohash$function$\n"
  },
  {
    "function_name": "st_pointfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1)) = 'POINT'\n\tTHEN public.ST_GeomFromText($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_pointfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1, $2)) = 'POINT'\n\tTHEN public.ST_GeomFromText($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_pointfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'POINT'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_pointfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'POINT'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_pointinsidecircle",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointinsidecircle(geometry, double precision, double precision, double precision)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_inside_circle_point$function$\n"
  },
  {
    "function_name": "st_pointm",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointm(xcoordinate double precision, ycoordinate double precision, mcoordinate double precision, srid integer DEFAULT 0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_PointM$function$\n"
  },
  {
    "function_name": "st_pointn",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointn(geometry, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_pointn_linestring$function$\n"
  },
  {
    "function_name": "st_pointonsurface",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointonsurface(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$pointonsurface$function$\n"
  },
  {
    "function_name": "st_points",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_points(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_Points$function$\n"
  },
  {
    "function_name": "st_pointz",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointz(xcoordinate double precision, ycoordinate double precision, zcoordinate double precision, srid integer DEFAULT 0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_PointZ$function$\n"
  },
  {
    "function_name": "st_pointzm",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_pointzm(xcoordinate double precision, ycoordinate double precision, zcoordinate double precision, mcoordinate double precision, srid integer DEFAULT 0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_PointZM$function$\n"
  },
  {
    "function_name": "st_polyfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polyfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1)) = 'POLYGON'\n\tTHEN public.ST_GeomFromText($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_polyfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polyfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromText($1, $2)) = 'POLYGON'\n\tTHEN public.ST_GeomFromText($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_polyfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polyfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'POLYGON'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_polyfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polyfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1, $2)) = 'POLYGON'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_polygon",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polygon(geometry, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT public.ST_SetSRID(public.ST_MakePolygon($1), $2)\n\t$function$\n"
  },
  {
    "function_name": "st_polygonfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polygonfromtext(text, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_PolyFromText($1, $2)$function$\n"
  },
  {
    "function_name": "st_polygonfromtext",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polygonfromtext(text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS $function$SELECT public.ST_PolyFromText($1)$function$\n"
  },
  {
    "function_name": "st_polygonfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polygonfromwkb(bytea, integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1,$2)) = 'POLYGON'\n\tTHEN public.ST_GeomFromWKB($1, $2)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_polygonfromwkb",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polygonfromwkb(bytea)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$\n\tSELECT CASE WHEN public.geometrytype(public.ST_GeomFromWKB($1)) = 'POLYGON'\n\tTHEN public.ST_GeomFromWKB($1)\n\tELSE NULL END\n\t$function$\n"
  },
  {
    "function_name": "st_polygonize",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_polygonize(geometry[])\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$polygonize_garray$function$\n"
  },
  {
    "function_name": "st_project",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_project(geog geography, distance double precision, azimuth double precision)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$geography_project$function$\n"
  },
  {
    "function_name": "st_quantizecoordinates",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_quantizecoordinates(g geometry, prec_x integer, prec_y integer DEFAULT NULL::integer, prec_z integer DEFAULT NULL::integer, prec_m integer DEFAULT NULL::integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE COST 500\nAS '$libdir/postgis-3', $function$ST_QuantizeCoordinates$function$\n"
  },
  {
    "function_name": "st_reduceprecision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_reduceprecision(geom geometry, gridsize double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_ReducePrecision$function$\n"
  },
  {
    "function_name": "st_relate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_relate(geom1 geometry, geom2 geometry, text)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$relate_pattern$function$\n"
  },
  {
    "function_name": "st_relate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_relate(geom1 geometry, geom2 geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$relate_full$function$\n"
  },
  {
    "function_name": "st_relate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_relate(geom1 geometry, geom2 geometry, integer)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$relate_full$function$\n"
  },
  {
    "function_name": "st_relatematch",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_relatematch(text, text)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_RelateMatch$function$\n"
  },
  {
    "function_name": "st_removepoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_removepoint(geometry, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_removepoint$function$\n"
  },
  {
    "function_name": "st_removerepeatedpoints",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_removerepeatedpoints(geom geometry, tolerance double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_RemoveRepeatedPoints$function$\n"
  },
  {
    "function_name": "st_reverse",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_reverse(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_reverse$function$\n"
  },
  {
    "function_name": "st_rotate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_rotate(geometry, double precision, geometry)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1,  cos($2), -sin($2), 0,  sin($2),  cos($2), 0, 0, 0, 1, public.ST_X($3) - cos($2) * public.ST_X($3) + sin($2) * public.ST_Y($3), public.ST_Y($3) - sin($2) * public.ST_X($3) - cos($2) * public.ST_Y($3), 0)$function$\n"
  },
  {
    "function_name": "st_rotate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_rotate(geometry, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1,  cos($2), -sin($2), 0,  sin($2),  cos($2), 0, 0, 0, 1,\t$3 - cos($2) * $3 + sin($2) * $4, $4 - sin($2) * $3 - cos($2) * $4, 0)$function$\n"
  },
  {
    "function_name": "st_rotate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_rotate(geometry, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1,  cos($2), -sin($2), 0,  sin($2), cos($2), 0,  0, 0, 1,  0, 0, 0)$function$\n"
  },
  {
    "function_name": "st_rotatex",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_rotatex(geometry, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1, 1, 0, 0, 0, cos($2), -sin($2), 0, sin($2), cos($2), 0, 0, 0)$function$\n"
  },
  {
    "function_name": "st_rotatey",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_rotatey(geometry, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1,  cos($2), 0, sin($2),  0, 1, 0,  -sin($2), 0, cos($2), 0,  0, 0)$function$\n"
  },
  {
    "function_name": "st_rotatez",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_rotatez(geometry, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Rotate($1, $2)$function$\n"
  },
  {
    "function_name": "st_scale",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_scale(geometry, geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Scale$function$\n"
  },
  {
    "function_name": "st_scale",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_scale(geometry, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Scale($1, $2, $3, 1)$function$\n"
  },
  {
    "function_name": "st_scale",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_scale(geometry, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Scale($1, public.ST_MakePoint($2, $3, $4))$function$\n"
  },
  {
    "function_name": "st_scale",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_scale(geometry, geometry, origin geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Scale$function$\n"
  },
  {
    "function_name": "st_scroll",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_scroll(geometry, geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Scroll$function$\n"
  },
  {
    "function_name": "st_segmentize",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_segmentize(geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_segmentize2d$function$\n"
  },
  {
    "function_name": "st_segmentize",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_segmentize(geog geography, max_segment_length double precision)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$geography_segmentize$function$\n"
  },
  {
    "function_name": "st_seteffectivearea",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_seteffectivearea(geometry, double precision DEFAULT '-1'::integer, integer DEFAULT 1)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_SetEffectiveArea$function$\n"
  },
  {
    "function_name": "st_setpoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_setpoint(geometry, integer, geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_setpoint_linestring$function$\n"
  },
  {
    "function_name": "st_setsrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_setsrid(geog geography, srid integer)\n RETURNS geography\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_set_srid$function$\n"
  },
  {
    "function_name": "st_setsrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_setsrid(geom geometry, srid integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_set_srid$function$\n"
  },
  {
    "function_name": "st_sharedpaths",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_sharedpaths(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_SharedPaths$function$\n"
  },
  {
    "function_name": "st_shiftlongitude",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_shiftlongitude(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_longitude_shift$function$\n"
  },
  {
    "function_name": "st_shortestline",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_shortestline(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_shortestline2d$function$\n"
  },
  {
    "function_name": "st_simplify",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_simplify(geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_simplify2d$function$\n"
  },
  {
    "function_name": "st_simplify",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_simplify(geometry, double precision, boolean)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_simplify2d$function$\n"
  },
  {
    "function_name": "st_simplifypolygonhull",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_simplifypolygonhull(geom geometry, vertex_fraction double precision, is_outer boolean DEFAULT true)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_SimplifyPolygonHull$function$\n"
  },
  {
    "function_name": "st_simplifypreservetopology",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_simplifypreservetopology(geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$topologypreservesimplify$function$\n"
  },
  {
    "function_name": "st_simplifyvw",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_simplifyvw(geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_SetEffectiveArea$function$\n"
  },
  {
    "function_name": "st_snap",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_snap(geom1 geometry, geom2 geometry, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Snap$function$\n"
  },
  {
    "function_name": "st_snaptogrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_snaptogrid(geometry, double precision, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_snaptogrid$function$\n"
  },
  {
    "function_name": "st_snaptogrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_snaptogrid(geometry, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_SnapToGrid($1, 0, 0, $2, $3)$function$\n"
  },
  {
    "function_name": "st_snaptogrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_snaptogrid(geometry, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_SnapToGrid($1, 0, 0, $2, $2)$function$\n"
  },
  {
    "function_name": "st_snaptogrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_snaptogrid(geom1 geometry, geom2 geometry, double precision, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_snaptogrid_pointoff$function$\n"
  },
  {
    "function_name": "st_split",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_split(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Split$function$\n"
  },
  {
    "function_name": "st_square",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_square(size double precision, cell_i integer, cell_j integer, origin geometry DEFAULT '010100000000000000000000000000000000000000'::geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_Square$function$\n"
  },
  {
    "function_name": "st_squaregrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_squaregrid(size double precision, bounds geometry, OUT geom geometry, OUT i integer, OUT j integer)\n RETURNS SETOF record\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_ShapeGrid$function$\n"
  },
  {
    "function_name": "st_srid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_srid(geom geometry)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_get_srid$function$\n"
  },
  {
    "function_name": "st_srid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_srid(geog geography)\n RETURNS integer\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_get_srid$function$\n"
  },
  {
    "function_name": "st_startpoint",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_startpoint(geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_startpoint_linestring$function$\n"
  },
  {
    "function_name": "st_subdivide",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_subdivide(geom geometry, maxvertices integer DEFAULT 256, gridsize double precision DEFAULT '-1.0'::numeric)\n RETURNS SETOF geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Subdivide$function$\n"
  },
  {
    "function_name": "st_summary",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_summary(geography)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_summary$function$\n"
  },
  {
    "function_name": "st_summary",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_summary(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_summary$function$\n"
  },
  {
    "function_name": "st_swapordinates",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_swapordinates(geom geometry, ords cstring)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_SwapOrdinates$function$\n"
  },
  {
    "function_name": "st_symdifference",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_symdifference(geom1 geometry, geom2 geometry, gridsize double precision DEFAULT '-1.0'::numeric)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_SymDifference$function$\n"
  },
  {
    "function_name": "st_symmetricdifference",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_symmetricdifference(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE sql\nAS $function$SELECT ST_SymDifference(geom1, geom2, -1.0);$function$\n"
  },
  {
    "function_name": "st_tileenvelope",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_tileenvelope(zoom integer, x integer, y integer, bounds geometry DEFAULT '0102000020110F00000200000093107C45F81B73C193107C45F81B73C193107C45F81B734193107C45F81B7341'::geometry, margin double precision DEFAULT 0.0)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_TileEnvelope$function$\n"
  },
  {
    "function_name": "st_touches",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_touches(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$touches$function$\n"
  },
  {
    "function_name": "st_transform",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_transform(geom geometry, from_proj text, to_srid integer)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$SELECT public.postgis_transform_geometry($1, $2, proj4text, $3)\n\tFROM spatial_ref_sys WHERE srid=$3;$function$\n"
  },
  {
    "function_name": "st_transform",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_transform(geom geometry, from_proj text, to_proj text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$SELECT public.postgis_transform_geometry($1, $2, $3, 0)$function$\n"
  },
  {
    "function_name": "st_transform",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_transform(geom geometry, to_proj text)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$SELECT public.postgis_transform_geometry($1, proj4text, $2, 0)\n\tFROM spatial_ref_sys WHERE srid=public.ST_SRID($1);$function$\n"
  },
  {
    "function_name": "st_transform",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_transform(geometry, integer)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$transform$function$\n"
  },
  {
    "function_name": "st_translate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_translate(geometry, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1, 1, 0, 0, 0, 1, 0, 0, 0, 1, $2, $3, $4)$function$\n"
  },
  {
    "function_name": "st_translate",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_translate(geometry, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Translate($1, $2, $3, 0)$function$\n"
  },
  {
    "function_name": "st_transscale",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_transscale(geometry, double precision, double precision, double precision, double precision)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS $function$SELECT public.ST_Affine($1,  $4, 0, 0,  0, $5, 0,\n\t\t0, 0, 1,  $2 * $4, $3 * $5, 0)$function$\n"
  },
  {
    "function_name": "st_triangulatepolygon",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_triangulatepolygon(g1 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_TriangulatePolygon$function$\n"
  },
  {
    "function_name": "st_unaryunion",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_unaryunion(geometry, gridsize double precision DEFAULT '-1.0'::numeric)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_UnaryUnion$function$\n"
  },
  {
    "function_name": "st_union",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_union(geometry[])\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$pgis_union_geometry_array$function$\n"
  },
  {
    "function_name": "st_union",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_union(geom1 geometry, geom2 geometry, gridsize double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Union$function$\n"
  },
  {
    "function_name": "st_union",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_union(geom1 geometry, geom2 geometry)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Union$function$\n"
  },
  {
    "function_name": "st_voronoilines",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_voronoilines(g1 geometry, tolerance double precision DEFAULT 0.0, extend_to geometry DEFAULT NULL::geometry)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE\nAS $function$ SELECT public._ST_Voronoi(g1, extend_to, tolerance, false) $function$\n"
  },
  {
    "function_name": "st_voronoipolygons",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_voronoipolygons(g1 geometry, tolerance double precision DEFAULT 0.0, extend_to geometry DEFAULT NULL::geometry)\n RETURNS geometry\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE\nAS $function$ SELECT public._ST_Voronoi(g1, extend_to, tolerance, true) $function$\n"
  },
  {
    "function_name": "st_within",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_within(geom1 geometry, geom2 geometry)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000 SUPPORT postgis_index_supportfn\nAS '$libdir/postgis-3', $function$within$function$\n"
  },
  {
    "function_name": "st_wkbtosql",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_wkbtosql(wkb bytea)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_from_WKB$function$\n"
  },
  {
    "function_name": "st_wkttosql",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_wkttosql(text)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_from_text$function$\n"
  },
  {
    "function_name": "st_wrapx",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_wrapx(geom geometry, wrap double precision, move double precision)\n RETURNS geometry\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$ST_WrapX$function$\n"
  },
  {
    "function_name": "st_x",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_x(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_x_point$function$\n"
  },
  {
    "function_name": "st_xmax",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_xmax(box3d)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_xmax$function$\n"
  },
  {
    "function_name": "st_xmin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_xmin(box3d)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_xmin$function$\n"
  },
  {
    "function_name": "st_y",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_y(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_y_point$function$\n"
  },
  {
    "function_name": "st_ymax",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_ymax(box3d)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_ymax$function$\n"
  },
  {
    "function_name": "st_ymin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_ymin(box3d)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_ymin$function$\n"
  },
  {
    "function_name": "st_z",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_z(geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_z_point$function$\n"
  },
  {
    "function_name": "st_zmax",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_zmax(box3d)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_zmax$function$\n"
  },
  {
    "function_name": "st_zmflag",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_zmflag(geometry)\n RETURNS smallint\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$LWGEOM_zmflag$function$\n"
  },
  {
    "function_name": "st_zmin",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_zmin(box3d)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$BOX3D_zmin$function$\n"
  },
  {
    "function_name": "text",
    "full_definition": "CREATE OR REPLACE FUNCTION public.text(geometry)\n RETURNS text\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 50\nAS '$libdir/postgis-3', $function$LWGEOM_to_text$function$\n"
  },
  {
    "function_name": "trigger_update_job_eligibility",
    "full_definition": "CREATE OR REPLACE FUNCTION public.trigger_update_job_eligibility()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  UPDATE job_pool \r\n  SET region = (\r\n    SELECT r.region_name\r\n    FROM regions r\r\n    WHERE ST_Contains(r.boundary, NEW.geom::geometry)\r\n    LIMIT 1\r\n  )\r\n  WHERE work_order = NEW.work_order\r\n    AND (region IS NULL OR region = 'NULL');\r\n  \r\n  DELETE FROM job_technician_eligibility WHERE work_order = NEW.work_order;\r\n  \r\n  INSERT INTO job_technician_eligibility (work_order, technician_id)\r\n  SELECT NEW.work_order, t.technician_id\r\n  FROM technicians t\r\n  WHERE \r\n    t.active = true\r\n    AND (\r\n      t.states_allowed IS NULL \r\n      OR t.states_allowed = ''\r\n      OR NEW.site_state = ANY(string_to_array(t.states_allowed, ','))\r\n    )\r\n    AND (\r\n      t.states_excluded IS NULL \r\n      OR t.states_excluded = ''\r\n      OR NOT NEW.site_state = ANY(string_to_array(t.states_excluded, ','))\r\n    )\r\n    AND (\r\n      NEW.sow_1 IS NULL\r\n      OR NEW.sow_1 = ''\r\n      OR (\r\n        SELECT bool_and(\r\n          trim(sow_item) = ANY(string_to_array(t.qualified_tests, ','))\r\n        )\r\n        FROM unnest(string_to_array(NEW.sow_1, ',')) AS sow_item\r\n        WHERE trim(sow_item) != ''\r\n      )\r\n    );\r\n  \r\n  UPDATE job_pool \r\n  SET tech_count = (\r\n    SELECT COUNT(*) \r\n    FROM job_technician_eligibility \r\n    WHERE work_order = NEW.work_order\r\n  )\r\n  WHERE work_order = NEW.work_order;\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "trigger_update_tech_eligibility",
    "full_definition": "CREATE OR REPLACE FUNCTION public.trigger_update_tech_eligibility()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  -- Remove old eligibility for this tech\r\n  DELETE FROM job_technician_eligibility WHERE technician_id = NEW.technician_id;\r\n  \r\n  -- Only add new eligibility if tech is active\r\n  IF NEW.active = true THEN\r\n    INSERT INTO job_technician_eligibility (work_order, technician_id)\r\n    SELECT j.work_order, NEW.technician_id\r\n    FROM job_pool j\r\n    WHERE \r\n      (\r\n        NEW.states_allowed IS NULL \r\n        OR NEW.states_allowed = ''\r\n        OR j.site_state = ANY(string_to_array(NEW.states_allowed, ','))\r\n      )\r\n      AND (\r\n        NEW.states_excluded IS NULL \r\n        OR NEW.states_excluded = ''\r\n        OR NOT j.site_state = ANY(string_to_array(NEW.states_excluded, ','))\r\n      )\r\n      AND (\r\n        j.sow_1 IS NULL\r\n        OR j.sow_1 = ''\r\n        OR (\r\n          SELECT bool_and(\r\n            trim(sow_item) = ANY(string_to_array(NEW.qualified_tests, ','))\r\n          )\r\n          FROM unnest(string_to_array(j.sow_1, ',')) AS sow_item\r\n          WHERE trim(sow_item) != ''\r\n        )\r\n      );\r\n  END IF;\r\n  \r\n  -- Update tech counts for affected jobs\r\n  UPDATE job_pool \r\n  SET tech_count = (\r\n    SELECT COUNT(*)\r\n    FROM job_technician_eligibility e\r\n    WHERE e.work_order = job_pool.work_order\r\n  )\r\n  WHERE work_order IN (\r\n    SELECT work_order \r\n    FROM job_technician_eligibility \r\n    WHERE technician_id = NEW.technician_id\r\n    UNION\r\n    SELECT work_order\r\n    FROM job_pool j\r\n    WHERE (NEW.states_allowed IS NULL OR j.site_state = ANY(string_to_array(NEW.states_allowed, ',')))\r\n  );\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "unlockrows",
    "full_definition": "CREATE OR REPLACE FUNCTION public.unlockrows(text)\n RETURNS integer\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tret int;\nBEGIN\n\n\tIF NOT LongTransactionsEnabled() THEN\n\t\tRAISE EXCEPTION 'Long transaction support disabled, use EnableLongTransaction() to enable.';\n\tEND IF;\n\n\tEXECUTE 'DELETE FROM authorization_table where authid = ' ||\n\t\tquote_literal($1);\n\n\tGET DIAGNOSTICS ret = ROW_COUNT;\n\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "update_job_pool_status",
    "full_definition": "CREATE OR REPLACE FUNCTION public.update_job_pool_status()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    UPDATE job_pool \r\n    SET jp_status = 'Scheduled', \r\n        updated_at = NOW()\r\n    WHERE work_order = NEW.work_order;\r\n    RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "updategeometrysrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.updategeometrysrid(character varying, character varying, integer)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tret  text;\nBEGIN\n\tSELECT public.UpdateGeometrySRID('','',$1,$2,$3) into ret;\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "updategeometrysrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.updategeometrysrid(character varying, character varying, character varying, integer)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tret  text;\nBEGIN\n\tSELECT public.UpdateGeometrySRID('',$1,$2,$3,$4) into ret;\n\tRETURN ret;\nEND;\n$function$\n"
  },
  {
    "function_name": "updategeometrysrid",
    "full_definition": "CREATE OR REPLACE FUNCTION public.updategeometrysrid(catalogn_name character varying, schema_name character varying, table_name character varying, column_name character varying, new_srid_in integer)\n RETURNS text\n LANGUAGE plpgsql\n STRICT\nAS $function$\nDECLARE\n\tmyrec RECORD;\n\tokay boolean;\n\tcname varchar;\n\treal_schema name;\n\tunknown_srid integer;\n\tnew_srid integer := new_srid_in;\n\nBEGIN\n\n\t-- Find, check or fix schema_name\n\tIF ( schema_name != '' ) THEN\n\t\tokay = false;\n\n\t\tFOR myrec IN SELECT nspname FROM pg_namespace WHERE text(nspname) = schema_name LOOP\n\t\t\tokay := true;\n\t\tEND LOOP;\n\n\t\tIF ( okay <> true ) THEN\n\t\t\tRAISE EXCEPTION 'Invalid schema name';\n\t\tELSE\n\t\t\treal_schema = schema_name;\n\t\tEND IF;\n\tELSE\n\t\tSELECT INTO real_schema current_schema()::text;\n\tEND IF;\n\n\t-- Ensure that column_name is in geometry_columns\n\tokay = false;\n\tFOR myrec IN SELECT type, coord_dimension FROM public.geometry_columns WHERE f_table_schema = text(real_schema) and f_table_name = table_name and f_geometry_column = column_name LOOP\n\t\tokay := true;\n\tEND LOOP;\n\tIF (NOT okay) THEN\n\t\tRAISE EXCEPTION 'column not found in geometry_columns table';\n\t\tRETURN false;\n\tEND IF;\n\n\t-- Ensure that new_srid is valid\n\tIF ( new_srid > 0 ) THEN\n\t\tIF ( SELECT count(*) = 0 from spatial_ref_sys where srid = new_srid ) THEN\n\t\t\tRAISE EXCEPTION 'invalid SRID: % not found in spatial_ref_sys', new_srid;\n\t\t\tRETURN false;\n\t\tEND IF;\n\tELSE\n\t\tunknown_srid := public.ST_SRID('POINT EMPTY'::public.geometry);\n\t\tIF ( new_srid != unknown_srid ) THEN\n\t\t\tnew_srid := unknown_srid;\n\t\t\tRAISE NOTICE 'SRID value % converted to the officially unknown SRID value %', new_srid_in, new_srid;\n\t\tEND IF;\n\tEND IF;\n\n\tIF postgis_constraint_srid(real_schema, table_name, column_name) IS NOT NULL THEN\n\t-- srid was enforced with constraints before, keep it that way.\n\t\t-- Make up constraint name\n\t\tcname = 'enforce_srid_'  || column_name;\n\n\t\t-- Drop enforce_srid constraint\n\t\tEXECUTE 'ALTER TABLE ' || quote_ident(real_schema) ||\n\t\t\t'.' || quote_ident(table_name) ||\n\t\t\t' DROP constraint ' || quote_ident(cname);\n\n\t\t-- Update geometries SRID\n\t\tEXECUTE 'UPDATE ' || quote_ident(real_schema) ||\n\t\t\t'.' || quote_ident(table_name) ||\n\t\t\t' SET ' || quote_ident(column_name) ||\n\t\t\t' = public.ST_SetSRID(' || quote_ident(column_name) ||\n\t\t\t', ' || new_srid::text || ')';\n\n\t\t-- Reset enforce_srid constraint\n\t\tEXECUTE 'ALTER TABLE ' || quote_ident(real_schema) ||\n\t\t\t'.' || quote_ident(table_name) ||\n\t\t\t' ADD constraint ' || quote_ident(cname) ||\n\t\t\t' CHECK (st_srid(' || quote_ident(column_name) ||\n\t\t\t') = ' || new_srid::text || ')';\n\tELSE\n\t\t-- We will use typmod to enforce if no srid constraints\n\t\t-- We are using postgis_type_name to lookup the new name\n\t\t-- (in case Paul changes his mind and flips geometry_columns to return old upper case name)\n\t\tEXECUTE 'ALTER TABLE ' || quote_ident(real_schema) || '.' || quote_ident(table_name) ||\n\t\t' ALTER COLUMN ' || quote_ident(column_name) || ' TYPE  geometry(' || public.postgis_type_name(myrec.type, myrec.coord_dimension, true) || ', ' || new_srid::text || ') USING public.ST_SetSRID(' || quote_ident(column_name) || ',' || new_srid::text || ');' ;\n\tEND IF;\n\n\tRETURN real_schema || '.' || table_name || '.' || column_name ||' SRID changed to ' || new_srid::text;\n\nEND;\n$function$\n"
  },
  {
    "function_name": "validate_job_assignment",
    "full_definition": "CREATE OR REPLACE FUNCTION public.validate_job_assignment(p_work_order bigint, p_tech_id bigint, p_scheduled_date date, p_is_night_job boolean DEFAULT false)\n RETURNS json\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n    v_job RECORD;\r\n    v_tech RECORD;\r\n    v_day_of_week INTEGER;\r\n    v_errors TEXT[] := ARRAY[]::TEXT[];\r\n    v_warnings TEXT[] := ARRAY[]::TEXT[];\r\n    v_previous_day_schedule RECORD;\r\nBEGIN\r\n    -- Get job details\r\n    SELECT * INTO v_job\r\n    FROM job_pool\r\n    WHERE work_order = p_work_order;\r\n    \r\n    IF v_job IS NULL THEN\r\n        RETURN json_build_object(\r\n            'valid', false,\r\n            'errors', ARRAY['Job not found']\r\n        );\r\n    END IF;\r\n    \r\n    -- Get tech details\r\n    SELECT * INTO v_tech\r\n    FROM technicians\r\n    WHERE technician_id = p_tech_id;\r\n    \r\n    -- Get day of week (0=Sunday, 5=Friday)\r\n    v_day_of_week := EXTRACT(DOW FROM p_scheduled_date);\r\n    \r\n    -- CHECK 1: Friday restrictions for specific sites\r\n    IF v_day_of_week = 5 THEN\r\n        IF v_job.site_name ILIKE '%King Soopers%' \r\n           OR v_job.site_name ILIKE '%City Market%'\r\n           OR v_job.site_name ILIKE '%Alta%' THEN\r\n            v_errors := array_append(v_errors, \r\n                'Cannot schedule ' || v_job.site_name || ' on Friday (site restriction)');\r\n        END IF;\r\n    END IF;\r\n    \r\n    -- CHECK 2: Recurring sites must be on exact due date\r\n    IF v_job.is_recurring_site = TRUE AND p_scheduled_date != v_job.due_date THEN\r\n        v_errors := array_append(v_errors,\r\n            'Recurring site must be scheduled on exact due date: ' || v_job.due_date::TEXT);\r\n    END IF;\r\n    \r\n    -- CHECK 3: Cannot schedule past due date\r\n    IF p_scheduled_date > v_job.due_date THEN\r\n        v_errors := array_append(v_errors,\r\n            'Cannot schedule after due date: ' || v_job.due_date::TEXT);\r\n    END IF;\r\n    \r\n    -- CHECK 4: Night job recovery time (if previous day was a night job)\r\n    IF p_is_night_job = FALSE THEN\r\n        SELECT * INTO v_previous_day_schedule\r\n        FROM scheduled_jobs\r\n        WHERE technician_id = p_tech_id\r\n        AND date = p_scheduled_date - INTERVAL '1 day'\r\n        AND is_night_job = TRUE\r\n        LIMIT 1;\r\n        \r\n        IF v_previous_day_schedule IS NOT NULL THEN\r\n            v_warnings := array_append(v_warnings,\r\n                'Tech worked night shift previous day - cannot schedule before noon');\r\n        END IF;\r\n    END IF;\r\n    \r\n    -- CHECK 5: Already scheduled?\r\n    IF EXISTS (SELECT 1 FROM scheduled_jobs WHERE work_order = p_work_order) THEN\r\n        v_errors := array_append(v_errors,\r\n            'Job is already scheduled');\r\n    END IF;\r\n    \r\n    -- Return validation result\r\n    RETURN json_build_object(\r\n        'valid', COALESCE(array_length(v_errors, 1), 0) = 0,\r\n        'errors', v_errors,\r\n        'warnings', v_warnings,\r\n        'job_details', json_build_object(\r\n            'work_order', v_job.work_order,\r\n            'site_name', v_job.site_name,\r\n            'due_date', v_job.due_date,\r\n            'est_hours', COALESCE(v_job.est_hours, v_job.duration, 2)\r\n        )\r\n    );\r\nEND;\r\n$function$\n"
  }
]

Q2 in JSON
[
  {
    "function_name": "_postgis_deprecate",
    "parameters": "oldname text, newname text, version text",
    "return_type": "void",
    "language": "plpgsql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_postgis_index_extent",
    "parameters": "tbl regclass, col text",
    "return_type": "box2d",
    "language": "c",
    "volatility": "STABLE"
  },
  {
    "function_name": "_postgis_join_selectivity",
    "parameters": "regclass, text, regclass, text, text DEFAULT '2'::text",
    "return_type": "double precision",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "_postgis_pgsql_version",
    "parameters": "",
    "return_type": "text",
    "language": "sql",
    "volatility": "STABLE"
  },
  {
    "function_name": "_postgis_scripts_pgsql_version",
    "parameters": "",
    "return_type": "text",
    "language": "sql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_postgis_selectivity",
    "parameters": "tbl regclass, att_name text, geom geometry, mode text DEFAULT '2'::text",
    "return_type": "double precision",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "_postgis_stats",
    "parameters": "tbl regclass, att_name text, text DEFAULT '2'::text",
    "return_type": "text",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "_st_3ddfullywithin",
    "parameters": "geom1 geometry, geom2 geometry, double precision",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_3ddwithin",
    "parameters": "geom1 geometry, geom2 geometry, double precision",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_3dintersects",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_asgml",
    "parameters": "integer, geometry, integer, integer, text, text",
    "return_type": "text",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_asx3d",
    "parameters": "integer, geometry, integer, integer, text",
    "return_type": "text",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_bestsrid",
    "parameters": "geography, geography",
    "return_type": "integer",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_bestsrid",
    "parameters": "geography",
    "return_type": "integer",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_contains",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_containsproperly",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_coveredby",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_coveredby",
    "parameters": "geog1 geography, geog2 geography",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_covers",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_covers",
    "parameters": "geog1 geography, geog2 geography",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_crosses",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_dfullywithin",
    "parameters": "geom1 geometry, geom2 geometry, double precision",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_distancetree",
    "parameters": "geography, geography",
    "return_type": "double precision",
    "language": "sql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_distancetree",
    "parameters": "geography, geography, double precision, boolean",
    "return_type": "double precision",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_distanceuncached",
    "parameters": "geography, geography",
    "return_type": "double precision",
    "language": "sql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_distanceuncached",
    "parameters": "geography, geography, double precision, boolean",
    "return_type": "double precision",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_distanceuncached",
    "parameters": "geography, geography, boolean",
    "return_type": "double precision",
    "language": "sql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_dwithin",
    "parameters": "geom1 geometry, geom2 geometry, double precision",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_dwithin",
    "parameters": "geog1 geography, geog2 geography, tolerance double precision, use_spheroid boolean DEFAULT true",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_dwithinuncached",
    "parameters": "geography, geography, double precision",
    "return_type": "boolean",
    "language": "sql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_dwithinuncached",
    "parameters": "geography, geography, double precision, boolean",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_equals",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_expand",
    "parameters": "geography, double precision",
    "return_type": "geography",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_geomfromgml",
    "parameters": "text, integer",
    "return_type": "geometry",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_intersects",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_linecrossingdirection",
    "parameters": "line1 geometry, line2 geometry",
    "return_type": "integer",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_longestline",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "geometry",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_maxdistance",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_orderingequals",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_overlaps",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_pointoutside",
    "parameters": "geography",
    "return_type": "geography",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_sortablehash",
    "parameters": "geom geometry",
    "return_type": "bigint",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_touches",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_voronoi",
    "parameters": "g1 geometry, clip geometry DEFAULT NULL::geometry, tolerance double precision DEFAULT 0.0, return_polygons boolean DEFAULT true",
    "return_type": "geometry",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "_st_within",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "sql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "addauth",
    "parameters": "text",
    "return_type": "boolean",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "addgeometrycolumn",
    "parameters": "catalog_name character varying, schema_name character varying, table_name character varying, column_name character varying, new_srid_in integer, new_type character varying, new_dim integer, use_typmod boolean DEFAULT true",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "addgeometrycolumn",
    "parameters": "table_name character varying, column_name character varying, new_srid integer, new_type character varying, new_dim integer, use_typmod boolean DEFAULT true",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "addgeometrycolumn",
    "parameters": "schema_name character varying, table_name character varying, column_name character varying, new_srid integer, new_type character varying, new_dim integer, use_typmod boolean DEFAULT true",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "STABLE"
  },
  {
    "function_name": "analyze_regions_for_tech",
    "parameters": "p_tech_id integer, p_month_start date, p_month_end date, p_sow_filter text DEFAULT NULL::text",
    "return_type": "TABLE(region_name text, job_count bigint, total_work_hours numeric, distance_from_home numeric, requires_hotel boolean, priority_job_count bigint, recurring_count bigint, avg_days_til_due numeric)",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "assign_regions_to_jobs",
    "parameters": "",
    "return_type": "void",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "box",
    "parameters": "box3d",
    "return_type": "box",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box",
    "parameters": "geometry",
    "return_type": "box",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box2d",
    "parameters": "geometry",
    "return_type": "box2d",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box2d",
    "parameters": "box3d",
    "return_type": "box2d",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box2d_in",
    "parameters": "cstring",
    "return_type": "box2d",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box2d_out",
    "parameters": "box2d",
    "return_type": "cstring",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box2df_in",
    "parameters": "cstring",
    "return_type": "box2df",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box2df_out",
    "parameters": "box2df",
    "return_type": "cstring",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box3d",
    "parameters": "box2d",
    "return_type": "box3d",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box3d",
    "parameters": "geometry",
    "return_type": "box3d",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box3d_in",
    "parameters": "cstring",
    "return_type": "box3d",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box3d_out",
    "parameters": "box3d",
    "return_type": "cstring",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "box3dtobox",
    "parameters": "box3d",
    "return_type": "box",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "bytea",
    "parameters": "geometry",
    "return_type": "bytea",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "bytea",
    "parameters": "geography",
    "return_type": "bytea",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "checkauth",
    "parameters": "text, text",
    "return_type": "integer",
    "language": "sql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "checkauth",
    "parameters": "text, text, text",
    "return_type": "integer",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "checkauthtrigger",
    "parameters": "",
    "return_type": "trigger",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "cluster_jobs",
    "parameters": "p_horizon_days integer DEFAULT 30, p_target_hours double precision DEFAULT 45",
    "return_type": "TABLE(cluster_id integer, work_order bigint, site_name text, site_city text, sow_1 text, duration double precision, days_til_due integer, region text, zone_3 text)",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "contains_2d",
    "parameters": "box2df, geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "contains_2d",
    "parameters": "box2df, box2df",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "contains_2d",
    "parameters": "geometry, box2df",
    "return_type": "boolean",
    "language": "sql",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "copy_job_coordinates",
    "parameters": "",
    "return_type": "trigger",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "disablelongtransactions",
    "parameters": "",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "dropgeometrycolumn",
    "parameters": "catalog_name character varying, schema_name character varying, table_name character varying, column_name character varying",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "dropgeometrycolumn",
    "parameters": "table_name character varying, column_name character varying",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "dropgeometrycolumn",
    "parameters": "schema_name character varying, table_name character varying, column_name character varying",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "dropgeometrytable",
    "parameters": "catalog_name character varying, schema_name character varying, table_name character varying",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "dropgeometrytable",
    "parameters": "schema_name character varying, table_name character varying",
    "return_type": "text",
    "language": "sql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "dropgeometrytable",
    "parameters": "table_name character varying",
    "return_type": "text",
    "language": "sql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "enablelongtransactions",
    "parameters": "",
    "return_type": "text",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "equals",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "find_jobs_along_route",
    "parameters": "start_lat double precision, start_lon double precision, end_lat double precision, end_lon double precision, corridor_miles double precision DEFAULT 10, max_results integer DEFAULT 20",
    "return_type": "TABLE(work_order bigint, site_name text, site_city text, sow_1 text, distance_from_route_miles double precision, due_date date, jp_priority text)",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "find_nearby_jobs",
    "parameters": "center_lat double precision, center_lon double precision, radius_miles double precision DEFAULT 25, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text",
    "return_type": "TABLE(work_order bigint, site_name text, site_city text, region text, sow_1 text, distance_miles double precision, due_date date, days_til_due bigint, tech_count bigint)",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "find_nearby_jobs_for_schedule",
    "parameters": "tech_lat double precision, tech_lon double precision, schedule_date date, radius_miles double precision DEFAULT 50, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text",
    "return_type": "TABLE(work_order bigint, site_name text, site_city text, region text, sow text, distance_miles double precision, due_date date, days_til_due integer, priority text, status text, combined_work_orders text)",
    "language": "plpgsql",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "find_srid",
    "parameters": "character varying, character varying, character varying",
    "return_type": "integer",
    "language": "plpgsql",
    "volatility": "STABLE"
  },
  {
    "function_name": "geog_brin_inclusion_add_value",
    "parameters": "internal, internal, internal, internal",
    "return_type": "boolean",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "geography",
    "parameters": "bytea",
    "return_type": "geography",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "geography",
    "parameters": "geometry",
    "return_type": "geography",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "geography",
    "parameters": "geography, integer, boolean",
    "return_type": "geography",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "geography_analyze",
    "parameters": "internal",
    "return_type": "boolean",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "geography_cmp",
    "parameters": "geography, geography",
    "return_type": "integer",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "geography_distance_knn",
    "parameters": "geography, geography",
    "return_type": "double precision",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "geography_eq",
    "parameters": "geography, geography",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "geography_ge",
    "parameters": "geography, geography",
    "return_type": "boolean",
    "language": "c",
    "volatility": "IMMUTABLE"
  },
  {
    "function_name": "geography_gist_compress",
    "parameters": "internal",
    "return_type": "internal",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "geography_gist_consistent",
    "parameters": "internal, geography, integer",
    "return_type": "boolean",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "geography_gist_decompress",
    "parameters": "internal",
    "return_type": "internal",
    "language": "c",
    "volatility": "VOLATILE"
  },
  {
    "function_name": "geography_gist_distance",
    "parameters": "internal, geography, integer",
    "return_type": "double precision",
    "language": "c",
    "volatility": "VOLATILE"
  }
]

Q3 results in json
[
  {
    "function_name": "_st_distancetree",
    "parameters": "geography, geography",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distancetree(geography, geography)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE STRICT\nAS $function$SELECT public._ST_DistanceTree($1, $2, 0.0, true)$function$\n"
  },
  {
    "function_name": "_st_distancetree",
    "parameters": "geography, geography, double precision, boolean",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distancetree(geography, geography, double precision, boolean)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_distance_tree$function$\n"
  },
  {
    "function_name": "_st_distanceuncached",
    "parameters": "geography, geography, double precision, boolean",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distanceuncached(geography, geography, double precision, boolean)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_distance_uncached$function$\n"
  },
  {
    "function_name": "_st_distanceuncached",
    "parameters": "geography, geography, boolean",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distanceuncached(geography, geography, boolean)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE STRICT\nAS $function$SELECT public._ST_DistanceUnCached($1, $2, 0.0, $3)$function$\n"
  },
  {
    "function_name": "_st_distanceuncached",
    "parameters": "geography, geography",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_distanceuncached(geography, geography)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE STRICT\nAS $function$SELECT public._ST_DistanceUnCached($1, $2, 0.0, true)$function$\n"
  },
  {
    "function_name": "_st_maxdistance",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public._st_maxdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_maxdistance2d_linestring$function$\n"
  },
  {
    "function_name": "analyze_regions_for_tech",
    "parameters": "p_tech_id integer, p_month_start date, p_month_end date, p_sow_filter text DEFAULT NULL::text",
    "return_type": "TABLE(region_name text, job_count bigint, total_work_hours numeric, distance_from_home numeric, requires_hotel boolean, priority_job_count bigint, recurring_count bigint, avg_days_til_due numeric)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.analyze_regions_for_tech(p_tech_id integer, p_month_start date, p_month_end date, p_sow_filter text DEFAULT NULL::text)\n RETURNS TABLE(region_name text, job_count bigint, total_work_hours numeric, distance_from_home numeric, requires_hotel boolean, priority_job_count bigint, recurring_count bigint, avg_days_til_due numeric)\n LANGUAGE plpgsql\nAS $function$BEGIN\r\n    RETURN QUERY\r\n    SELECT \r\n        jp.region,\r\n        COUNT(jp.work_order)::bigint as job_count,\r\n        SUM(COALESCE(jp.duration, 2))::numeric as total_work_hours,\r\n        \r\n        -- Distance from tech home to region center (FIXED COLUMN NAMES)\r\n        (SELECT \r\n            ROUND(\r\n                (3958.8 * acos(\r\n                    cos(radians(t.home_latitude)) * \r\n                    cos(radians(r.center_latitude)) * \r\n                    cos(radians(r.center_longitude) - radians(t.home_longitude)) + \r\n                    sin(radians(t.home_latitude)) * \r\n                    sin(radians(r.center_latitude))\r\n                ))::numeric, 1\r\n            )\r\n         FROM technicians t\r\n         CROSS JOIN regions r\r\n         WHERE t.technician_id = p_tech_id\r\n           AND r.region_name = jp.region\r\n         LIMIT 1\r\n        ) as distance_from_home,\r\n        \r\n        -- Hotel required if distance > 90 miles\r\n        (SELECT \r\n            CASE WHEN \r\n                (3958.8 * acos(\r\n                    cos(radians(t.home_latitude)) * \r\n                    cos(radians(r.center_latitude)) * \r\n                    cos(radians(r.center_longitude) - radians(t.home_longitude)) + \r\n                    sin(radians(t.home_latitude)) * \r\n                    sin(radians(r.center_latitude))\r\n                )) > 90 \r\n            THEN true ELSE false END\r\n         FROM technicians t\r\n         CROSS JOIN regions r\r\n         WHERE t.technician_id = p_tech_id\r\n           AND r.region_name = jp.region\r\n         LIMIT 1\r\n        ) as requires_hotel,\r\n        \r\n        -- Priority job count\r\n        COUNT(CASE \r\n            WHEN jp.jp_priority IN ('NOV', 'Urgent', 'Monthly O&M') \r\n            THEN 1 \r\n        END)::bigint as priority_job_count,\r\n        \r\n        -- Recurring site count\r\n        COUNT(CASE WHEN jp.is_recurring_site THEN 1 END)::bigint as recurring_count,\r\n        \r\n        -- Average days until due\r\n        AVG(jp.days_til_due)::numeric as avg_days_til_due\r\n        \r\n    FROM job_pool jp\r\n    INNER JOIN job_technician_eligibility jte \r\n        ON jp.work_order = jte.work_order\r\n    WHERE jte.technician_id = p_tech_id\r\n      AND jp.due_date BETWEEN p_month_start AND p_month_end\r\n      AND jp.jp_status IN ('Call', 'Waiting to Schedule')\r\n      AND (p_sow_filter IS NULL OR jp.sow_1 = p_sow_filter)\r\n    GROUP BY jp.region\r\n    HAVING COUNT(jp.work_order) > 0\r\n    ORDER BY \r\n        COUNT(CASE WHEN jp.jp_priority IN ('NOV', 'Urgent') THEN 1 END) DESC,\r\n        COUNT(jp.work_order) DESC;\r\nEND;$function$\n"
  },
  {
    "function_name": "assign_regions_to_jobs",
    "parameters": "",
    "return_type": "void",
    "full_definition": "CREATE OR REPLACE FUNCTION public.assign_regions_to_jobs()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  updated_count integer;\r\nBEGIN\r\n  -- Update ALL jobs that need regions (be more aggressive)\r\n  UPDATE job_pool\r\n  SET region = (\r\n    SELECT region_name \r\n    FROM regions \r\n    WHERE ST_Contains(\r\n      boundary, \r\n      ST_SetSRID(ST_MakePoint(job_pool.longitude, job_pool.latitude), 4326)\r\n    )\r\n    LIMIT 1\r\n  )\r\n  WHERE longitude IS NOT NULL \r\n    AND latitude IS NOT NULL\r\n    AND (\r\n      region IS NULL \r\n      OR region = '' \r\n      OR region = 'NULL'\r\n      OR region = 'null'  -- Check lowercase too\r\n      OR LENGTH(TRIM(region)) = 0  -- Any empty/whitespace\r\n    );\r\n  \r\n  GET DIAGNOSTICS updated_count = ROW_COUNT;\r\n  RAISE NOTICE 'Assigned regions to % jobs', updated_count;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "cluster_jobs",
    "parameters": "p_horizon_days integer DEFAULT 30, p_target_hours double precision DEFAULT 45",
    "return_type": "TABLE(cluster_id integer, work_order bigint, site_name text, site_city text, sow_1 text, duration double precision, days_til_due integer, region text, zone_3 text)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.cluster_jobs(p_horizon_days integer DEFAULT 30, p_target_hours double precision DEFAULT 45)\n RETURNS TABLE(cluster_id integer, work_order bigint, site_name text, site_city text, sow_1 text, duration double precision, days_til_due integer, region text, zone_3 text)\n LANGUAGE plpgsql\nAS $function$\ndeclare\n  rec            record;\n  v_cluster      integer := 1;\n  v_accum_hours  double precision := 0;\nbegin\n  for rec in\n    select\n      jp.work_order      as jp_work_order,\n      jp.site_name       as jp_site_name,\n      jp.site_city       as jp_site_city,\n      jp.sow_1           as jp_sow_1,\n      jp.duration        as jp_duration,\n      (jp.due_date - current_date)::int   as jp_days_til_due,\n      jp.region          as jp_region,\n      jp.zone_3          as jp_zone_3\n    from public.job_pool jp\n    where jp.status = 'unscheduled'\n      and jp.due_date between current_date\n                          and current_date + p_horizon_days\n    order by jp_days_til_due, jp.region, jp.zone_3\n  loop\n    if v_accum_hours + rec.jp_duration > p_target_hours then\n      v_cluster     := v_cluster + 1;\n      v_accum_hours := 0;\n    end if;\n\n    v_accum_hours := v_accum_hours + rec.jp_duration;\n\n    cluster_id     := v_cluster;\n    work_order     := rec.jp_work_order;\n    site_name      := rec.jp_site_name;\n    site_city      := rec.jp_site_city;\n    sow_1          := rec.jp_sow_1;\n    duration       := rec.jp_duration;\n    days_til_due   := rec.jp_days_til_due;\n    region         := rec.jp_region;\n    zone_3         := rec.jp_zone_3;\n    return next;\n  end loop;\nend;\n$function$\n"
  },
  {
    "function_name": "copy_job_coordinates",
    "parameters": "",
    "return_type": "trigger",
    "full_definition": "CREATE OR REPLACE FUNCTION public.copy_job_coordinates()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    -- Copy coordinates from job_pool\r\n    SELECT latitude, longitude \r\n    INTO NEW.latitude, NEW.longitude\r\n    FROM job_pool\r\n    WHERE work_order = NEW.work_order;\r\n    \r\n    RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "find_jobs_along_route",
    "parameters": "start_lat double precision, start_lon double precision, end_lat double precision, end_lon double precision, corridor_miles double precision DEFAULT 10, max_results integer DEFAULT 20",
    "return_type": "TABLE(work_order bigint, site_name text, site_city text, sow_1 text, distance_from_route_miles double precision, due_date date, jp_priority text)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.find_jobs_along_route(start_lat double precision, start_lon double precision, end_lat double precision, end_lon double precision, corridor_miles double precision DEFAULT 10, max_results integer DEFAULT 20)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, sow_1 text, distance_from_route_miles double precision, due_date date, jp_priority text)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  RETURN QUERY\r\n  WITH route_line AS (\r\n    SELECT ST_MakeLine(\r\n      ST_SetSRID(ST_MakePoint(start_lon, start_lat), 4326),\r\n      ST_SetSRID(ST_MakePoint(end_lon, end_lat), 4326)\r\n    )::geography AS line\r\n  )\r\n  SELECT \r\n    j.work_order,\r\n    j.site_name,\r\n    j.site_city,\r\n    j.sow_1,\r\n    (ST_Distance(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      r.line\r\n    ) / 1609.34)::double precision AS distance_from_route_miles,\r\n    j.due_date,\r\n    j.jp_priority\r\n  FROM job_pool j, route_line r\r\n  WHERE \r\n    j.jp_status NOT IN ('Scheduled', 'Completed', 'Cancelled')\r\n    AND ST_DWithin(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      r.line,\r\n      corridor_miles * 1609.34\r\n    )\r\n  ORDER BY distance_from_route_miles\r\n  LIMIT max_results;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "find_nearby_jobs",
    "parameters": "center_lat double precision, center_lon double precision, radius_miles double precision DEFAULT 25, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text",
    "return_type": "TABLE(work_order bigint, site_name text, site_city text, region text, sow_1 text, distance_miles double precision, due_date date, days_til_due bigint, tech_count bigint)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.find_nearby_jobs(center_lat double precision, center_lon double precision, radius_miles double precision DEFAULT 25, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, region text, sow_1 text, distance_miles double precision, due_date date, days_til_due bigint, tech_count bigint)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  RETURN QUERY\r\n  SELECT \r\n    j.work_order,\r\n    j.site_name,\r\n    j.site_city,\r\n    j.region,\r\n    j.sow_1,\r\n    (ST_Distance(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(center_lon, center_lat), 4326)::geography\r\n    ) / 1609.34)::double precision AS distance_miles,\r\n    j.due_date,\r\n    j.days_til_due,\r\n    j.tech_count\r\n  FROM job_pool j\r\n  WHERE \r\n    j.jp_status NOT IN ('Scheduled', 'Completed', 'Cancelled')\r\n    AND (filter_region IS NULL OR j.region = filter_region)\r\n    AND ST_DWithin(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(center_lon, center_lat), 4326)::geography,\r\n      radius_miles * 1609.34\r\n    )\r\n  ORDER BY distance_miles\r\n  LIMIT max_results;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "find_nearby_jobs_for_schedule",
    "parameters": "tech_lat double precision, tech_lon double precision, schedule_date date, radius_miles double precision DEFAULT 50, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text",
    "return_type": "TABLE(work_order bigint, site_name text, site_city text, region text, sow text, distance_miles double precision, due_date date, days_til_due integer, priority text, status text, combined_work_orders text)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.find_nearby_jobs_for_schedule(tech_lat double precision, tech_lon double precision, schedule_date date, radius_miles double precision DEFAULT 50, max_results integer DEFAULT 20, filter_region text DEFAULT NULL::text)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, region text, sow text, distance_miles double precision, due_date date, days_til_due integer, priority text, status text, combined_work_orders text)\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  week_start date;\r\n  week_end date;\r\n  month_end date;\r\n  use_pull_forward boolean;\r\nBEGIN\r\n  -- Calculate week boundaries\r\n  week_start := schedule_date - EXTRACT(DOW FROM schedule_date)::integer;\r\n  week_end := week_start + 4; -- Friday\r\n  month_end := DATE_TRUNC('month', schedule_date) + INTERVAL '1 month - 1 day';\r\n  \r\n  -- Use pull forward if in last 2 weeks of month\r\n  use_pull_forward := (month_end - week_start) <= 14;\r\n  \r\n  RETURN QUERY\r\n  WITH eligible AS (\r\n    SELECT * FROM get_jobs_for_scheduling(week_start, week_end, use_pull_forward)\r\n  )\r\n  SELECT \r\n    e.out_work_order,\r\n    e.out_site_name,\r\n    e.out_site_city,\r\n    e.out_region,\r\n    e.out_sow_1,\r\n    (ST_Distance(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(tech_lon, tech_lat), 4326)::geography\r\n    ) / 1609.34)::double precision AS distance_miles,\r\n    e.out_due_date,\r\n    e.out_days_til_due,\r\n    e.out_jp_priority,\r\n    e.out_jp_status,\r\n    e.out_combined_work_orders\r\n  FROM eligible e\r\n  JOIN job_pool j ON e.out_work_order = j.work_order\r\n  WHERE \r\n    (filter_region IS NULL OR e.out_region = filter_region)\r\n    AND ST_DWithin(\r\n      ST_SetSRID(ST_MakePoint(j.longitude, j.latitude), 4326)::geography,\r\n      ST_SetSRID(ST_MakePoint(tech_lon, tech_lat), 4326)::geography,\r\n      radius_miles * 1609.34\r\n    )\r\n  ORDER BY e.out_priority_rank, distance_miles\r\n  LIMIT max_results;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "geography_distance_knn",
    "parameters": "geography, geography",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_distance_knn(geography, geography)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 100\nAS '$libdir/postgis-3', $function$geography_distance_knn$function$\n"
  },
  {
    "function_name": "geography_gist_distance",
    "parameters": "internal, geography, integer",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geography_gist_distance(internal, geography, integer)\n RETURNS double precision\n LANGUAGE c\nAS '$libdir/postgis-3', $function$gserialized_gist_geog_distance$function$\n"
  },
  {
    "function_name": "geometry_distance_box",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_box(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_distance_box_2d$function$\n"
  },
  {
    "function_name": "geometry_distance_centroid",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_centroid(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_Distance$function$\n"
  },
  {
    "function_name": "geometry_distance_centroid_nd",
    "parameters": "geometry, geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_centroid_nd(geometry, geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/postgis-3', $function$gserialized_distance_nd$function$\n"
  },
  {
    "function_name": "geometry_distance_cpa",
    "parameters": "geometry, geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_distance_cpa(geometry, geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_DistanceCPA$function$\n"
  },
  {
    "function_name": "geometry_gist_distance_2d",
    "parameters": "internal, geometry, integer",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_distance_2d(internal, geometry, integer)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_distance_2d$function$\n"
  },
  {
    "function_name": "geometry_gist_distance_nd",
    "parameters": "internal, geometry, integer",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.geometry_gist_distance_nd(internal, geometry, integer)\n RETURNS double precision\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/postgis-3', $function$gserialized_gist_distance$function$\n"
  },
  {
    "function_name": "get_adjacent_regions",
    "parameters": "p_region_name text, p_max_distance_miles numeric DEFAULT 100",
    "return_type": "TABLE(adjacent_region text, distance_miles numeric)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_adjacent_regions(p_region_name text, p_max_distance_miles numeric DEFAULT 100)\n RETURNS TABLE(adjacent_region text, distance_miles numeric)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    RETURN QUERY\r\n    WITH base_region AS (\r\n        SELECT boundary\r\n        FROM regions\r\n        WHERE region_name = p_region_name\r\n    )\r\n    SELECT \r\n        r.region_name AS adjacent_region,\r\n        (ST_Distance(\r\n            br.boundary::geography,\r\n            r.boundary::geography\r\n        ) / 1609.34)::NUMERIC AS distance_miles\r\n    FROM regions r\r\n    CROSS JOIN base_region br\r\n    WHERE r.region_name != p_region_name\r\n    AND r.boundary IS NOT NULL\r\n    AND br.boundary IS NOT NULL\r\n    AND ST_Distance(\r\n        br.boundary::geography,\r\n        r.boundary::geography\r\n    ) / 1609.34 <= p_max_distance_miles\r\n    ORDER BY distance_miles ASC\r\n    LIMIT 5;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "get_all_jobs_in_region",
    "parameters": "p_tech_id bigint, p_region_name text, p_month_start date, p_month_end date, p_sow_filter text DEFAULT NULL::text",
    "return_type": "TABLE(work_order bigint, site_id bigint, site_name text, site_city text, latitude double precision, longitude double precision, sow_1 text, due_date date, jp_priority text, duration double precision, is_recurring_site boolean, is_night boolean, night_test boolean, days_til_due bigint, priority_rank bigint, distance_from_tech_home double precision)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_all_jobs_in_region(p_tech_id bigint, p_region_name text, p_month_start date, p_month_end date, p_sow_filter text DEFAULT NULL::text)\n RETURNS TABLE(work_order bigint, site_id bigint, site_name text, site_city text, latitude double precision, longitude double precision, sow_1 text, due_date date, jp_priority text, duration double precision, is_recurring_site boolean, is_night boolean, night_test boolean, days_til_due bigint, priority_rank bigint, distance_from_tech_home double precision)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    RETURN QUERY\r\n    SELECT \r\n        jp.work_order,\r\n        jp.site_id,\r\n        jp.site_name,\r\n        jp.site_city,\r\n        jp.latitude,\r\n        jp.longitude,\r\n        jp.sow_1,\r\n        jp.due_date,\r\n        jp.jp_priority,\r\n        COALESCE(jp.duration, 2)::double precision,\r\n        COALESCE(jp.is_recurring_site, false),\r\n        false,\r\n        COALESCE(jp.night_test, false),\r\n        jp.days_til_due,\r\n        \r\n        (CASE \r\n            WHEN jp.jp_priority = 'NOV' THEN 1\r\n            WHEN jp.jp_priority = 'Urgent' THEN 1\r\n            WHEN jp.jp_priority = 'Monthly O&M' THEN 2\r\n            WHEN jp.is_recurring_site THEN 2\r\n            WHEN jp.days_til_due <= 7 THEN 3\r\n            WHEN jp.days_til_due <= 14 THEN 4\r\n            ELSE 5\r\n        END)::bigint,  -- Cast to bigint\r\n        \r\n        (SELECT \r\n            ROUND(\r\n                CAST(\r\n                    (3958.8 * acos(\r\n                        cos(radians(t.home_latitude)) * \r\n                        cos(radians(jp.latitude)) * \r\n                        cos(radians(jp.longitude) - radians(t.home_longitude)) + \r\n                        sin(radians(t.home_latitude)) * \r\n                        sin(radians(jp.latitude))\r\n                    )) AS numeric\r\n                ), 1\r\n            )::double precision\r\n         FROM technicians t\r\n         WHERE t.technician_id = p_tech_id\r\n        )\r\n        \r\n    FROM job_pool jp\r\n    INNER JOIN job_technician_eligibility jte \r\n        ON jp.work_order = jte.work_order\r\n    WHERE jte.technician_id = p_tech_id\r\n      AND jp.region = p_region_name\r\n      AND jp.due_date BETWEEN p_month_start AND p_month_end\r\n      AND jp.jp_status IN ('Call', 'Waiting to Schedule')\r\n      AND (p_sow_filter IS NULL OR jp.sow_1 = p_sow_filter)\r\n    ORDER BY \r\n        15 DESC,  -- priority_rank\r\n        14 ASC,   -- days_til_due\r\n        16 ASC;   -- distance_from_tech_home\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "get_jobs_for_scheduling",
    "parameters": "schedule_start date, schedule_end date, include_pull_forward boolean DEFAULT false",
    "return_type": "TABLE(out_work_order bigint, out_site_id bigint, out_site_name text, out_site_city text, out_site_state text, out_region text, out_sow_1 text, out_due_date date, out_jp_priority text, out_jp_status text, out_days_til_due integer, out_priority_rank integer, out_combined_work_orders text)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_jobs_for_scheduling(schedule_start date, schedule_end date, include_pull_forward boolean DEFAULT false)\n RETURNS TABLE(out_work_order bigint, out_site_id bigint, out_site_name text, out_site_city text, out_site_state text, out_region text, out_sow_1 text, out_due_date date, out_jp_priority text, out_jp_status text, out_days_til_due integer, out_priority_rank integer, out_combined_work_orders text)\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  month_start date;\r\n  month_end date;\r\nBEGIN\r\n  -- Calculate month boundaries\r\n  month_start := DATE_TRUNC('month', schedule_start)::date;\r\n  month_end := (DATE_TRUNC('month', schedule_start) + INTERVAL '1 month - 1 day')::date;\r\n  \r\n  RETURN QUERY\r\n  WITH \r\n  eligible_jobs AS (\r\n    SELECT \r\n      j.*,\r\n      (j.due_date - schedule_start)::integer as days_til_due_calc,\r\n      CASE \r\n        WHEN j.jp_priority = 'NOV' THEN 1\r\n        WHEN j.jp_priority = 'Urgent' THEN 2\r\n        -- Only flag as past due if it's in our current scheduling month\r\n        WHEN j.due_date < schedule_start \r\n          AND j.due_date >= month_start THEN 3\r\n        -- Monthly O&M for current month\r\n        WHEN j.jp_priority = 'Monthly O&M' \r\n          AND j.due_date >= month_start\r\n          AND j.due_date <= month_end THEN 4\r\n        -- Other jobs due this week within current month\r\n        WHEN j.jp_priority IN ('3 Year', 'Annual', 'Service', 'Tracer') \r\n          AND j.due_date >= schedule_start\r\n          AND j.due_date <= schedule_end THEN 5\r\n        -- Pull forward from early next month\r\n        WHEN include_pull_forward \r\n          AND j.jp_priority IN ('3 Year', 'Annual', 'Service', 'Tracer')\r\n          AND j.due_date > month_end \r\n          AND j.due_date <= month_end + INTERVAL '5 days' THEN 6\r\n        ELSE 99\r\n      END as priority_rank_calc\r\n    FROM job_pool j\r\n    WHERE \r\n      j.jp_status IN ('Call', 'Waiting to Schedule', 'ready', 'new')\r\n      AND j.jp_status NOT IN ('Scheduled', 'Completed', 'Cancelled')\r\n      -- Only look at jobs from current month forward\r\n      AND j.due_date >= month_start\r\n      AND j.due_date <= month_end + INTERVAL '5 days'\r\n  ),\r\n  site_grouping AS (\r\n    SELECT \r\n      ej.site_id,\r\n      ej.site_name,\r\n      ej.site_city,\r\n      ej.site_state,\r\n      ej.region,\r\n      MIN(ej.due_date) as earliest_due,\r\n      STRING_AGG(DISTINCT ej.sow_1, ' + ' ORDER BY ej.sow_1) as combined_sow,\r\n      STRING_AGG(ej.work_order::text || ':' || ej.sow_1, ', ' ORDER BY ej.due_date, ej.work_order) as wo_list,\r\n      COUNT(*) as wo_count,\r\n      MIN(ej.priority_rank_calc) as best_priority,\r\n      MIN(ej.jp_status) as first_status,\r\n      ARRAY_AGG(ej.work_order ORDER BY ej.due_date) as work_orders\r\n    FROM eligible_jobs ej\r\n    WHERE ej.priority_rank_calc < 99\r\n    GROUP BY ej.site_id, ej.site_name, ej.site_city, ej.site_state, ej.region\r\n  )\r\n  SELECT \r\n    (sg.work_orders)[1]::bigint,\r\n    sg.site_id,\r\n    sg.site_name,\r\n    sg.site_city,\r\n    sg.site_state,\r\n    sg.region,\r\n    sg.combined_sow,\r\n    sg.earliest_due,\r\n    CASE \r\n      WHEN 'NOV' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'NOV'\r\n      WHEN 'Urgent' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Urgent'\r\n      WHEN 'Monthly O&M' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Monthly O&M'\r\n      WHEN 'Service' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Service'\r\n      WHEN 'Tracer' = ANY(SELECT jp_priority FROM eligible_jobs WHERE work_order = ANY(sg.work_orders)) THEN 'Tracer'\r\n      ELSE '3 Year/Annual'\r\n    END,\r\n    sg.first_status,\r\n    (sg.earliest_due - schedule_start)::integer,\r\n    sg.best_priority::integer,\r\n    CASE \r\n      WHEN sg.wo_count > 1 THEN sg.wo_list\r\n      ELSE NULL\r\n    END\r\n  FROM site_grouping sg\r\n  ORDER BY sg.best_priority, sg.earliest_due;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "get_region_boundaries",
    "parameters": "",
    "return_type": "TABLE(region_name text, boundary_geojson text, properties jsonb)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_region_boundaries()\n RETURNS TABLE(region_name text, boundary_geojson text, properties jsonb)\n LANGUAGE sql\nAS $function$\r\n  SELECT \r\n    region_name,\r\n    ST_AsGeoJSON(boundary)::text as boundary_geojson,\r\n    properties\r\n  FROM regions;\r\n$function$\n"
  },
  {
    "function_name": "get_tech_availability",
    "parameters": "p_start_date date, p_end_date date",
    "return_type": "TABLE(technician_id integer, tech_name text, total_capacity numeric, time_off_hours numeric, available_hours numeric)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.get_tech_availability(p_start_date date, p_end_date date)\n RETURNS TABLE(technician_id integer, tech_name text, total_capacity numeric, time_off_hours numeric, available_hours numeric)\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    RETURN QUERY\r\n    SELECT \r\n        t.technician_id,\r\n        t.name,\r\n        t.max_weekly_hours * 4 as total_capacity,\r\n        COALESCE(SUM(\r\n            CASE \r\n                WHEN tor.approved THEN \r\n                    (tor.end_date - tor.start_date + 1) * tor.hours_per_day\r\n                ELSE 0\r\n            END\r\n        ), 0) as time_off_hours,\r\n        t.max_weekly_hours * 4 - COALESCE(SUM(\r\n            CASE \r\n                WHEN tor.approved THEN \r\n                    (tor.end_date - tor.start_date + 1) * tor.hours_per_day\r\n                ELSE 0\r\n            END\r\n        ), 0) as available_hours\r\n    FROM technicians t\r\n    LEFT JOIN time_off_requests tor ON t.technician_id = tor.technician_id\r\n        AND tor.start_date <= p_end_date\r\n        AND tor.end_date >= p_start_date\r\n    WHERE t.active = true\r\n    GROUP BY t.technician_id, t.name, t.max_weekly_hours;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "import_new_jobs",
    "parameters": "",
    "return_type": "void",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_new_jobs()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    -- FIRST: Insert missing sites\r\n    INSERT INTO sites (site_id, site_name, site_address, site_city, site_state, latitude, longitude)\r\n    SELECT DISTINCT \r\n        siteid,\r\n        site_name,\r\n        site_address,\r\n        site_city,\r\n        site_state,\r\n        latitude,\r\n        longitude\r\n    FROM stg_job_pool\r\n    WHERE siteid IS NOT NULL\r\n    AND siteid NOT IN (SELECT site_id FROM sites)\r\n    ON CONFLICT (site_id) DO NOTHING;\r\n\r\n    -- SECOND: Insert jobs\r\n    INSERT INTO job_pool (\r\n        work_order,\r\n        site_id,\r\n        site_name,\r\n        site_address,\r\n        site_city,\r\n        site_state,\r\n        latitude,\r\n        longitude,\r\n        jp_status,\r\n        jp_priority,\r\n        due_date,\r\n        sow_1,\r\n        duration,\r\n        region,\r\n        night_test,\r\n        is_recurring_site,\r\n        days_til_due\r\n    )\r\n    SELECT \r\n        work_order,\r\n        siteid::bigint,\r\n        site_name,\r\n        site_address,\r\n        site_city,\r\n        site_state,\r\n        latitude,\r\n        longitude,\r\n        jp_status,\r\n        jp_priority,\r\n        due_date::date,\r\n        sow_1,\r\n        COALESCE(duration, 2.0),\r\n        region,\r\n        COALESCE(night_test, false),\r\n        COALESCE(is_recurring_site, false),\r\n        COALESCE(days_til_due_from_schedule, 0)\r\n    FROM stg_job_pool\r\n    WHERE work_order NOT IN (SELECT work_order FROM job_pool);\r\n\r\n    -- THIRD: Use your EXISTING regions assignment\r\n    PERFORM assign_regions_to_jobs();\r\n\r\n    -- FOURTH: Clear staging (with proper WHERE clause for Supabase)\r\n    DELETE FROM stg_job_pool \r\n    WHERE work_order IS NOT NULL;  -- Supabase needs a WHERE clause\r\n    \r\n    DELETE FROM stg_job_technician_eligibility \r\n    WHERE work_order IS NOT NULL;  -- Supabase needs a WHERE clause\r\n\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "import_new_jobs_safe",
    "parameters": "",
    "return_type": "json",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_new_jobs_safe()\n RETURNS json\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\r\nDECLARE\r\n  result json;\r\nBEGIN\r\n  -- Call the actual function\r\n  PERFORM import_new_jobs();\r\n  \r\n  -- Return a success message\r\n  result := json_build_object(\r\n    'success', true,\r\n    'message', 'Import completed'\r\n  );\r\n  \r\n  RETURN result;\r\nEXCEPTION\r\n  WHEN OTHERS THEN\r\n    -- Return error details\r\n    RETURN json_build_object(\r\n      'success', false,\r\n      'message', SQLERRM\r\n    );\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "import_new_jobs_simple",
    "parameters": "",
    "return_type": "json",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_new_jobs_simple()\n RETURNS json\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\r\nDECLARE\r\n  job_count integer;\r\nBEGIN\r\n  -- Count jobs\r\n  SELECT COUNT(*) INTO job_count FROM stg_job_pool;\r\n  \r\n  -- Move jobs from staging to production\r\n  INSERT INTO job_pool (\r\n    work_order, site_id, site_name, site_address, site_city, site_state,\r\n    latitude, longitude, jp_status, jp_priority, due_date, sow_1,\r\n    duration, est_hours, night_test, is_night, tech_count, is_recurring_site\r\n  )\r\n  SELECT \r\n    work_order, siteid, site_name, site_address, site_city, site_state,\r\n    latitude, longitude, \r\n    COALESCE(jp_status, 'Ready'),\r\n    COALESCE(jp_priority, 'Normal'),\r\n    due_date::date,\r\n    sow_1,\r\n    COALESCE(duration, 4),\r\n    COALESCE(duration, 4),\r\n    COALESCE(night_test, false),\r\n    COALESCE(night_test, false),\r\n    0,\r\n    COALESCE(is_recurring_site, false)\r\n  FROM stg_job_pool\r\n  ON CONFLICT (work_order) DO UPDATE SET\r\n    jp_status = EXCLUDED.jp_status,\r\n    due_date = EXCLUDED.due_date,\r\n    updated_at = now();\r\n  \r\n  -- Clear staging\r\n  TRUNCATE stg_job_pool;\r\n  \r\n  -- Return success (skip the functions that have UPDATE issues)\r\n  RETURN json_build_object(\r\n    'success', true,\r\n    'message', format('%s jobs imported successfully', job_count),\r\n    'count', job_count\r\n  );\r\nEXCEPTION\r\n  WHEN OTHERS THEN\r\n    RETURN json_build_object(\r\n      'success', false,\r\n      'message', SQLERRM\r\n    );\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "import_single_region",
    "parameters": "p_region_name text, p_region_geojson jsonb",
    "return_type": "void",
    "full_definition": "CREATE OR REPLACE FUNCTION public.import_single_region(p_region_name text, p_region_geojson jsonb)\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  INSERT INTO regions (region_name, boundary, properties)\r\n  VALUES (\r\n    p_region_name,\r\n    ST_SetSRID(ST_GeomFromGeoJSON(p_region_geojson->>'geometry'), 4326),\r\n    p_region_geojson->'properties'\r\n  )\r\n  ON CONFLICT (region_name) DO UPDATE SET\r\n    boundary = EXCLUDED.boundary,\r\n    properties = EXCLUDED.properties;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "jobs_within_radius",
    "parameters": "_tech_id bigint, _radius_miles numeric, _due_within_days integer DEFAULT 21, _limit integer DEFAULT 50",
    "return_type": "TABLE(work_order bigint, site_name text, site_city text, site_state text, latitude double precision, longitude double precision, due_date date, jp_priority text, distance_miles numeric)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.jobs_within_radius(_tech_id bigint, _radius_miles numeric, _due_within_days integer DEFAULT 21, _limit integer DEFAULT 50)\n RETURNS TABLE(work_order bigint, site_name text, site_city text, site_state text, latitude double precision, longitude double precision, due_date date, jp_priority text, distance_miles numeric)\n LANGUAGE sql\n STABLE\nAS $function$\r\n  select\r\n    j.work_order,\r\n    j.site_name,\r\n    j.site_city,\r\n    j.site_state,\r\n    j.latitude,\r\n    j.longitude,\r\n    j.due_date,\r\n    j.jp_priority,\r\n    round((st_distance(j.geom, t.home_geom) / 1609.34)::numeric, 2) as distance_miles\r\n  from public.job_pool j\r\n  join public.technicians t on t.technician_id = _tech_id\r\n  where j.geom is not null\r\n    and t.home_geom is not null\r\n    and st_dwithin(j.geom, t.home_geom, _radius_miles * 1609.34)\r\n    and j.due_date <= current_date + _due_within_days\r\n    and coalesce(j.jp_status, 'unscheduled') in ('unscheduled','ready','new')\r\n  order by j.due_date asc\r\n  limit _limit;\r\n$function$\n"
  },
  {
    "function_name": "populate_tech_eligibility",
    "parameters": "",
    "return_type": "void",
    "full_definition": "CREATE OR REPLACE FUNCTION public.populate_tech_eligibility()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n  eligible_count integer;\r\n  job_count integer;\r\nBEGIN\r\n  -- Change TRUNCATE to DELETE with WHERE\r\n  DELETE FROM job_technician_eligibility WHERE work_order IS NOT NULL;\r\n  \r\n  -- Rest stays the same...\r\n  INSERT INTO job_technician_eligibility (work_order, technician_id)\r\n  SELECT DISTINCT\r\n    j.work_order,\r\n    t.technician_id\r\n  FROM job_pool j\r\n  CROSS JOIN technicians t\r\n  WHERE \r\n    t.active = true\r\n    AND (\r\n      t.states_allowed IS NULL \r\n      OR t.states_allowed = ''\r\n      OR j.site_state = ANY(string_to_array(t.states_allowed, ','))\r\n    )\r\n    AND (\r\n      t.states_excluded IS NULL \r\n      OR t.states_excluded = ''\r\n      OR NOT j.site_state = ANY(string_to_array(t.states_excluded, ','))\r\n    )\r\n    AND (\r\n      j.sow_1 IS NULL\r\n      OR j.sow_1 = ''\r\n      OR (\r\n        SELECT bool_and(\r\n          trim(sow_item) = ANY(string_to_array(t.qualified_tests, ','))\r\n        )\r\n        FROM unnest(string_to_array(j.sow_1, ',')) AS sow_item\r\n        WHERE trim(sow_item) != ''\r\n      )\r\n    );\r\n  \r\n  GET DIAGNOSTICS eligible_count = ROW_COUNT;\r\n  \r\n  UPDATE job_pool j\r\n  SET tech_count = (\r\n    SELECT COUNT(*)\r\n    FROM job_technician_eligibility e\r\n    WHERE e.work_order = j.work_order\r\n  )\r\n  WHERE work_order IS NOT NULL;  -- ADD THIS WHERE\r\n  \r\n  GET DIAGNOSTICS job_count = ROW_COUNT;\r\n  \r\n  RAISE NOTICE 'Created % eligibility records for % jobs', eligible_count, job_count;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "reset_job_pool_status",
    "parameters": "",
    "return_type": "trigger",
    "full_definition": "CREATE OR REPLACE FUNCTION public.reset_job_pool_status()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    UPDATE job_pool \r\n    SET jp_status = 'Call', \r\n        updated_at = NOW()\r\n    WHERE work_order = OLD.work_order;\r\n    RETURN OLD;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "schedule_job",
    "parameters": "p_work_order bigint, p_technician_id bigint, p_start_on date",
    "return_type": "TABLE(work_order bigint, assigned_tech_id bigint, assigned_tech_name text, start_date date)",
    "full_definition": "CREATE OR REPLACE FUNCTION public.schedule_job(p_work_order bigint, p_technician_id bigint, p_start_on date)\n RETURNS TABLE(work_order bigint, assigned_tech_id bigint, assigned_tech_name text, start_date date)\n LANGUAGE plpgsql\nAS $function$\ndeclare\n    v_job  job_pool%rowtype;\n    v_tech technicians%rowtype;\nbegin\n    -- 1) fetch job + tech rows and sanitycheck\n    select * into v_job  from job_pool  where work_order   = p_work_order;\n    if v_job.status = 'scheduled' then\n        raise exception 'Workorder % already scheduled', p_work_order;\n    end if;\n\n    select * into v_tech from technicians where technician_id = p_technician_id;\n\n    -- 2) insert into scheduled_jobs\n    insert into scheduled_jobs (\n        work_order, duration, site_name, sow_1, site_city, site_state,\n        assigned_tech_id, assigned_tech_name, start_date, due_date\n    )\n    values (\n        v_job.work_order, v_job.duration, v_job.site_name, v_job.sow_1,\n        v_job.site_city, v_job.site_state,\n        v_tech.technician_id, v_tech.name, p_start_on, v_job.due_date\n    );\n\n    -- 3) mark job_pool row as scheduled\n    update job_pool\n       set status = 'scheduled'\n     where work_order = p_work_order;\n\n    -- 4) return the row we just wrote\n    return query\n        select work_order, assigned_tech_id, assigned_tech_name, start_date\n          from scheduled_jobs\n         where work_order = p_work_order;\nend;\n$function$\n"
  },
  {
    "function_name": "st_3ddistance",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3ddistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$ST_3DDistance$function$\n"
  },
  {
    "function_name": "st_3dmaxdistance",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_3dmaxdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_maxdistance3d$function$\n"
  },
  {
    "function_name": "st_distance",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_Distance$function$\n"
  },
  {
    "function_name": "st_distance",
    "parameters": "geog1 geography, geog2 geography, use_spheroid boolean DEFAULT true",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distance(geog1 geography, geog2 geography, use_spheroid boolean DEFAULT true)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$geography_distance$function$\n"
  },
  {
    "function_name": "st_distance",
    "parameters": "text, text",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distance(text, text)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$ SELECT public.ST_Distance($1::public.geometry, $2::public.geometry);  $function$\n"
  },
  {
    "function_name": "st_distancecpa",
    "parameters": "geometry, geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancecpa(geometry, geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_DistanceCPA$function$\n"
  },
  {
    "function_name": "st_distancesphere",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancesphere(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT\nAS $function$select public.ST_distance( public.geography($1), public.geography($2),false)$function$\n"
  },
  {
    "function_name": "st_distancesphere",
    "parameters": "geom1 geometry, geom2 geometry, radius double precision",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancesphere(geom1 geometry, geom2 geometry, radius double precision)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE STRICT COST 10000\nAS '$libdir/postgis-3', $function$LWGEOM_distance_sphere$function$\n"
  },
  {
    "function_name": "st_distancespheroid",
    "parameters": "geom1 geometry, geom2 geometry, spheroid",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancespheroid(geom1 geometry, geom2 geometry, spheroid)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_distance_ellipsoid$function$\n"
  },
  {
    "function_name": "st_distancespheroid",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_distancespheroid(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 500\nAS '$libdir/postgis-3', $function$LWGEOM_distance_ellipsoid$function$\n"
  },
  {
    "function_name": "st_frechetdistance",
    "parameters": "geom1 geometry, geom2 geometry, double precision DEFAULT '-1'::integer",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_frechetdistance(geom1 geometry, geom2 geometry, double precision DEFAULT '-1'::integer)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$ST_FrechetDistance$function$\n"
  },
  {
    "function_name": "st_hausdorffdistance",
    "parameters": "geom1 geometry, geom2 geometry, double precision",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_hausdorffdistance(geom1 geometry, geom2 geometry, double precision)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$hausdorffdistancedensify$function$\n"
  },
  {
    "function_name": "st_hausdorffdistance",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_hausdorffdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS '$libdir/postgis-3', $function$hausdorffdistance$function$\n"
  },
  {
    "function_name": "st_maxdistance",
    "parameters": "geom1 geometry, geom2 geometry",
    "return_type": "double precision",
    "full_definition": "CREATE OR REPLACE FUNCTION public.st_maxdistance(geom1 geometry, geom2 geometry)\n RETURNS double precision\n LANGUAGE sql\n IMMUTABLE PARALLEL SAFE STRICT COST 10000\nAS $function$SELECT public._ST_MaxDistance(public.ST_ConvexHull($1), public.ST_ConvexHull($2))$function$\n"
  },
  {
    "function_name": "trigger_update_job_eligibility",
    "parameters": "",
    "return_type": "trigger",
    "full_definition": "CREATE OR REPLACE FUNCTION public.trigger_update_job_eligibility()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  UPDATE job_pool \r\n  SET region = (\r\n    SELECT r.region_name\r\n    FROM regions r\r\n    WHERE ST_Contains(r.boundary, NEW.geom::geometry)\r\n    LIMIT 1\r\n  )\r\n  WHERE work_order = NEW.work_order\r\n    AND (region IS NULL OR region = 'NULL');\r\n  \r\n  DELETE FROM job_technician_eligibility WHERE work_order = NEW.work_order;\r\n  \r\n  INSERT INTO job_technician_eligibility (work_order, technician_id)\r\n  SELECT NEW.work_order, t.technician_id\r\n  FROM technicians t\r\n  WHERE \r\n    t.active = true\r\n    AND (\r\n      t.states_allowed IS NULL \r\n      OR t.states_allowed = ''\r\n      OR NEW.site_state = ANY(string_to_array(t.states_allowed, ','))\r\n    )\r\n    AND (\r\n      t.states_excluded IS NULL \r\n      OR t.states_excluded = ''\r\n      OR NOT NEW.site_state = ANY(string_to_array(t.states_excluded, ','))\r\n    )\r\n    AND (\r\n      NEW.sow_1 IS NULL\r\n      OR NEW.sow_1 = ''\r\n      OR (\r\n        SELECT bool_and(\r\n          trim(sow_item) = ANY(string_to_array(t.qualified_tests, ','))\r\n        )\r\n        FROM unnest(string_to_array(NEW.sow_1, ',')) AS sow_item\r\n        WHERE trim(sow_item) != ''\r\n      )\r\n    );\r\n  \r\n  UPDATE job_pool \r\n  SET tech_count = (\r\n    SELECT COUNT(*) \r\n    FROM job_technician_eligibility \r\n    WHERE work_order = NEW.work_order\r\n  )\r\n  WHERE work_order = NEW.work_order;\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "trigger_update_tech_eligibility",
    "parameters": "",
    "return_type": "trigger",
    "full_definition": "CREATE OR REPLACE FUNCTION public.trigger_update_tech_eligibility()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n  -- Remove old eligibility for this tech\r\n  DELETE FROM job_technician_eligibility WHERE technician_id = NEW.technician_id;\r\n  \r\n  -- Only add new eligibility if tech is active\r\n  IF NEW.active = true THEN\r\n    INSERT INTO job_technician_eligibility (work_order, technician_id)\r\n    SELECT j.work_order, NEW.technician_id\r\n    FROM job_pool j\r\n    WHERE \r\n      (\r\n        NEW.states_allowed IS NULL \r\n        OR NEW.states_allowed = ''\r\n        OR j.site_state = ANY(string_to_array(NEW.states_allowed, ','))\r\n      )\r\n      AND (\r\n        NEW.states_excluded IS NULL \r\n        OR NEW.states_excluded = ''\r\n        OR NOT j.site_state = ANY(string_to_array(NEW.states_excluded, ','))\r\n      )\r\n      AND (\r\n        j.sow_1 IS NULL\r\n        OR j.sow_1 = ''\r\n        OR (\r\n          SELECT bool_and(\r\n            trim(sow_item) = ANY(string_to_array(NEW.qualified_tests, ','))\r\n          )\r\n          FROM unnest(string_to_array(j.sow_1, ',')) AS sow_item\r\n          WHERE trim(sow_item) != ''\r\n        )\r\n      );\r\n  END IF;\r\n  \r\n  -- Update tech counts for affected jobs\r\n  UPDATE job_pool \r\n  SET tech_count = (\r\n    SELECT COUNT(*)\r\n    FROM job_technician_eligibility e\r\n    WHERE e.work_order = job_pool.work_order\r\n  )\r\n  WHERE work_order IN (\r\n    SELECT work_order \r\n    FROM job_technician_eligibility \r\n    WHERE technician_id = NEW.technician_id\r\n    UNION\r\n    SELECT work_order\r\n    FROM job_pool j\r\n    WHERE (NEW.states_allowed IS NULL OR j.site_state = ANY(string_to_array(NEW.states_allowed, ',')))\r\n  );\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "update_job_pool_status",
    "parameters": "",
    "return_type": "trigger",
    "full_definition": "CREATE OR REPLACE FUNCTION public.update_job_pool_status()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\r\nBEGIN\r\n    UPDATE job_pool \r\n    SET jp_status = 'Scheduled', \r\n        updated_at = NOW()\r\n    WHERE work_order = NEW.work_order;\r\n    RETURN NEW;\r\nEND;\r\n$function$\n"
  },
  {
    "function_name": "validate_job_assignment",
    "parameters": "p_work_order bigint, p_tech_id bigint, p_scheduled_date date, p_is_night_job boolean DEFAULT false",
    "return_type": "json",
    "full_definition": "CREATE OR REPLACE FUNCTION public.validate_job_assignment(p_work_order bigint, p_tech_id bigint, p_scheduled_date date, p_is_night_job boolean DEFAULT false)\n RETURNS json\n LANGUAGE plpgsql\nAS $function$\r\nDECLARE\r\n    v_job RECORD;\r\n    v_tech RECORD;\r\n    v_day_of_week INTEGER;\r\n    v_errors TEXT[] := ARRAY[]::TEXT[];\r\n    v_warnings TEXT[] := ARRAY[]::TEXT[];\r\n    v_previous_day_schedule RECORD;\r\nBEGIN\r\n    -- Get job details\r\n    SELECT * INTO v_job\r\n    FROM job_pool\r\n    WHERE work_order = p_work_order;\r\n    \r\n    IF v_job IS NULL THEN\r\n        RETURN json_build_object(\r\n            'valid', false,\r\n            'errors', ARRAY['Job not found']\r\n        );\r\n    END IF;\r\n    \r\n    -- Get tech details\r\n    SELECT * INTO v_tech\r\n    FROM technicians\r\n    WHERE technician_id = p_tech_id;\r\n    \r\n    -- Get day of week (0=Sunday, 5=Friday)\r\n    v_day_of_week := EXTRACT(DOW FROM p_scheduled_date);\r\n    \r\n    -- CHECK 1: Friday restrictions for specific sites\r\n    IF v_day_of_week = 5 THEN\r\n        IF v_job.site_name ILIKE '%King Soopers%' \r\n           OR v_job.site_name ILIKE '%City Market%'\r\n           OR v_job.site_name ILIKE '%Alta%' THEN\r\n            v_errors := array_append(v_errors, \r\n                'Cannot schedule ' || v_job.site_name || ' on Friday (site restriction)');\r\n        END IF;\r\n    END IF;\r\n    \r\n    -- CHECK 2: Recurring sites must be on exact due date\r\n    IF v_job.is_recurring_site = TRUE AND p_scheduled_date != v_job.due_date THEN\r\n        v_errors := array_append(v_errors,\r\n            'Recurring site must be scheduled on exact due date: ' || v_job.due_date::TEXT);\r\n    END IF;\r\n    \r\n    -- CHECK 3: Cannot schedule past due date\r\n    IF p_scheduled_date > v_job.due_date THEN\r\n        v_errors := array_append(v_errors,\r\n            'Cannot schedule after due date: ' || v_job.due_date::TEXT);\r\n    END IF;\r\n    \r\n    -- CHECK 4: Night job recovery time (if previous day was a night job)\r\n    IF p_is_night_job = FALSE THEN\r\n        SELECT * INTO v_previous_day_schedule\r\n        FROM scheduled_jobs\r\n        WHERE technician_id = p_tech_id\r\n        AND date = p_scheduled_date - INTERVAL '1 day'\r\n        AND is_night_job = TRUE\r\n        LIMIT 1;\r\n        \r\n        IF v_previous_day_schedule IS NOT NULL THEN\r\n            v_warnings := array_append(v_warnings,\r\n                'Tech worked night shift previous day - cannot schedule before noon');\r\n        END IF;\r\n    END IF;\r\n    \r\n    -- CHECK 5: Already scheduled?\r\n    IF EXISTS (SELECT 1 FROM scheduled_jobs WHERE work_order = p_work_order) THEN\r\n        v_errors := array_append(v_errors,\r\n            'Job is already scheduled');\r\n    END IF;\r\n    \r\n    -- Return validation result\r\n    RETURN json_build_object(\r\n        'valid', COALESCE(array_length(v_errors, 1), 0) = 0,\r\n        'errors', v_errors,\r\n        'warnings', v_warnings,\r\n        'job_details', json_build_object(\r\n            'work_order', v_job.work_order,\r\n            'site_name', v_job.site_name,\r\n            'due_date', v_job.due_date,\r\n            'est_hours', COALESCE(v_job.est_hours, v_job.duration, 2)\r\n        )\r\n    );\r\nEND;\r\n$function$\n"
  }
]




-- ============================================================================
-- Then I'll ask for specific functions one by one
-- ============================================================================
